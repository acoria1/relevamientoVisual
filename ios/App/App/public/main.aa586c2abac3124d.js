(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(an,lt,L)=>{"use strict";L.d(lt,{nm:()=>qr});var y=L(2122);L(4650),L(259);var He=L(5861),Me=L(9681),Qe=L(4859),mt=L(2090),We=L(1877);const ne=new Map,qe={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function rt(Ze){return ne.get(Ze)||Object.assign({},qe)}function Ke(){return we}const dt="https://content-firebaseappcheck.googleapis.com/v1",ze="exchangeDebugToken",Ue={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Et{constructor(at,wt,Wt,on,Ln){if(this.operation=at,this.retryPolicy=wt,this.getWaitDuration=Wt,this.lowerBound=on,this.upperBound=Ln,this.pending=null,this.nextErrorWaitInterval=on,on>Ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var wt=this;return(0,He.Z)(function*(){wt.stop();try{wt.pending=new mt.BH,yield function yt(Ze){return new Promise(at=>{setTimeout(at,Ze)})}(wt.getNextRun(at)),wt.pending.resolve(),yield wt.pending.promise,wt.pending=new mt.BH,yield wt.operation(),wt.pending.resolve(),yield wt.pending.promise,wt.process(!0).catch(()=>{})}catch(Wt){wt.retryPolicy(Wt)?wt.process(!1).catch(()=>{}):wt.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const wt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),wt}}}const Ut=new mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jt(Ze,at){return bn.apply(this,arguments)}function bn(){return(bn=(0,He.Z)(function*({url:Ze,body:at},wt){const Wt={"Content-Type":"application/json"},on=wt.getImmediate({optional:!0});if(on){const rs=yield on.getHeartbeatsHeader();rs&&(Wt["X-Firebase-Client"]=rs)}const Ln={method:"POST",body:JSON.stringify(at),headers:Wt};let er,sr;try{er=yield fetch(Ze,Ln)}catch(rs){throw Ut.create("fetch-network-error",{originalErrorMessage:null==rs?void 0:rs.message})}if(200!==er.status)throw Ut.create("fetch-status-error",{httpStatus:er.status});try{sr=yield er.json()}catch(rs){throw Ut.create("fetch-parse-error",{originalErrorMessage:null==rs?void 0:rs.message})}const Br=sr.ttl.match(/^([\d.]+)(s)$/);if(!Br||!Br[2]||isNaN(Number(Br[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${sr.ttl}`});const Xr=1e3*Number(Br[1]),mi=Date.now();return{token:sr.token,expireTimeMillis:mi+Xr,issuedAtTimeMillis:mi}})).apply(this,arguments)}const In="firebase-app-check-database",jt=1,Or="firebase-app-check-store";let dn=null;function mr(Ze,at){return hr.apply(this,arguments)}function hr(){return(hr=(0,He.Z)(function*(Ze,at){const Wt=(yield function ar(){return dn||(dn=new Promise((Ze,at)=>{try{const wt=indexedDB.open(In,jt);wt.onsuccess=Wt=>{Ze(Wt.target.result)},wt.onerror=Wt=>{var on;at(Ut.create("storage-open",{originalErrorMessage:null===(on=Wt.target.error)||void 0===on?void 0:on.message}))},wt.onupgradeneeded=Wt=>{0===Wt.oldVersion&&Wt.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(wt){at(Ut.create("storage-open",{originalErrorMessage:null==wt?void 0:wt.message}))}}),dn)}()).transaction(Or,"readwrite"),Ln=Wt.objectStore(Or).put({compositeKey:Ze,value:at});return new Promise((er,sr)=>{Ln.onsuccess=Br=>{er()},Wt.onerror=Br=>{var Xr;sr(Ut.create("storage-set",{originalErrorMessage:null===(Xr=Br.target.error)||void 0===Xr?void 0:Xr.message}))}})})).apply(this,arguments)}const Wr=new We.Yd("@firebase/app-check");function Kr(Ze,at){return(0,mt.hl)()?function Er(Ze,at){return mr(function xr(Ze){return`${Ze.options.appId}-${Ze.name}`}(Ze),at)}(Ze,at).catch(wt=>{Wr.warn(`Failed to write token to IndexedDB. Error: ${wt}`)}):Promise.resolve()}function rr(){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,He.Z)(function*(){const Ze=Ke();if(Ze.enabled&&Ze.token)return Ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ln={error:"UNKNOWN_ERROR"};function Ht(Ze){return mt.US.encodeString(JSON.stringify(Ze),!1)}function En(Ze){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,He.Z)(function*(Ze,at=!1){const wt=Ze.app;!function St(Ze){if(!rt(Ze).activated)throw Ut.create("use-before-activation",{appName:Ze.name})}(wt);const Wt=rt(wt);let Ln,on=Wt.token;if(on&&!he(on)&&(Wt.token=void 0,on=void 0),!on){const Br=yield Wt.cachedTokenPromise;Br&&(he(Br)?on=Br:yield Kr(wt,void 0))}if(!at&&on&&he(on))return{token:on.token};let sr,er=!1;if(function Qr(){return Ke().enabled}()){Wt.exchangeTokenPromise||(Wt.exchangeTokenPromise=Jt(function Kt(Ze,at){const{projectId:wt,appId:Wt,apiKey:on}=Ze.options;return{url:`${dt}/projects/${wt}/apps/${Wt}:${ze}?key=${on}`,body:{debug_token:at}}}(wt,yield rr()),Ze.heartbeatServiceProvider).finally(()=>{Wt.exchangeTokenPromise=void 0}),er=!0);const Br=yield Wt.exchangeTokenPromise;return yield Kr(wt,Br),Wt.token=Br,{token:Br.token}}try{Wt.exchangeTokenPromise||(Wt.exchangeTokenPromise=Wt.provider.getToken().finally(()=>{Wt.exchangeTokenPromise=void 0}),er=!0),on=yield rt(wt).exchangeTokenPromise}catch(Br){"appCheck/throttled"===Br.code?Wr.warn(Br.message):Wr.error(Br),Ln=Br}return on?Ln?sr=he(on)?{token:on.token,internalError:Ln}:ge(Ln):(sr={token:on.token},Wt.token=on,yield Kr(wt,on)):sr=ge(Ln),er&&function Ve(Ze,at){const wt=rt(Ze).tokenObservers;for(const Wt of wt)try{"EXTERNAL"===Wt.type&&null!=at.error?Wt.error(at.error):Wt.next(at)}catch{}}(wt,sr),sr})).apply(this,arguments)}function fr(Ze,at){const wt=rt(Ze),Wt=wt.tokenObservers.filter(on=>on.next!==at);0===Wt.length&&wt.tokenRefresher&&wt.tokenRefresher.isRunning()&&wt.tokenRefresher.stop(),wt.tokenObservers=Wt}function Ar(Ze){const{app:at}=Ze,wt=rt(at);let Wt=wt.tokenRefresher;Wt||(Wt=function Je(Ze){const{app:at}=Ze;return new Et((0,He.Z)(function*(){let Wt;if(Wt=rt(at).token?yield En(Ze,!0):yield En(Ze),Wt.error)throw Wt.error;if(Wt.internalError)throw Wt.internalError}),()=>!0,()=>{const wt=rt(at);if(wt.token){let Wt=wt.token.issuedAtTimeMillis+.5*(wt.token.expireTimeMillis-wt.token.issuedAtTimeMillis)+3e5;return Wt=Math.min(Wt,wt.token.expireTimeMillis-3e5),Math.max(0,Wt-Date.now())}return 0},Ue.RETRIAL_MIN_WAIT,Ue.RETRIAL_MAX_WAIT)}(Ze),wt.tokenRefresher=Wt),!Wt.isRunning()&&wt.isTokenAutoRefreshEnabled&&Wt.start()}function he(Ze){return Ze.expireTimeMillis-Date.now()>0}function ge(Ze){return{token:Ht(ln),error:Ze}}class de{constructor(at,wt){this.app=at,this.heartbeatServiceProvider=wt}_delete(){const{tokenObservers:at}=rt(this.app);for(const wt of at)fr(this.app,wt.next);return Promise.resolve()}}const cr="app-check-internal";!function pr(){(0,Me._registerComponent)(new Qe.wA("app-check",Ze=>function ht(Ze,at){return new de(Ze,at)}(Ze.getProvider("app").getImmediate(),Ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ze,at,wt)=>{Ze.getProvider(cr).initialize()})),(0,Me._registerComponent)(new Qe.wA(cr,Ze=>function Oe(Ze){return{getToken:at=>En(Ze,at),addTokenListener:at=>function Gn(Ze,at,wt,Wt){const{app:on}=Ze,Ln=rt(on);if(Ln.tokenObservers=[...Ln.tokenObservers,{next:wt,error:Wt,type:at}],Ln.token&&he(Ln.token)){const sr=Ln.token;Promise.resolve().then(()=>{wt({token:sr.token}),Ar(Ze)}).catch(()=>{})}Ln.cachedTokenPromise.then(()=>Ar(Ze))}(Ze,"INTERNAL",at),removeTokenListener:at=>fr(Ze.app,at)}}(Ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)("@firebase/app-check","0.6.5")}();class qr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},1205:(an,lt,L)=>{"use strict";L.d(lt,{zQ:()=>dt,ww:()=>Dt,rT:()=>we,f7:()=>bt,L6:()=>ne,_Q:()=>qe,lh:()=>rt,Qv:()=>We,nw:()=>Ke});var y=L(4650),g=L(7579),q=L(9646),oe=L(9751),Re=L(8996),xe=L(6451),De=L(5363),ye=L(3900),Fe=L(4004),Te=L(6063);class me extends g.x{constructor(ze=1/0,Ue=1/0,je=Te.l){super(),this._bufferSize=ze,this._windowTime=Ue,this._timestampProvider=je,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ue===1/0,this._bufferSize=Math.max(1,ze),this._windowTime=Math.max(1,Ue)}next(ze){const{isStopped:Ue,_buffer:je,_infiniteTimeWindow:Et,_timestampProvider:yt,_windowTime:Tt}=this;Ue||(je.push(ze),!Et&&je.push(yt.now()+Tt)),this._trimBuffer(),super.next(ze)}_subscribe(ze){this._throwIfClosed(),this._trimBuffer();const Ue=this._innerSubscribe(ze),{_infiniteTimeWindow:je,_buffer:Et}=this,yt=Et.slice();for(let Tt=0;Tt<yt.length&&!ze.closed;Tt+=je?1:2)ze.next(yt[Tt]);return this._checkFinalizedStatuses(ze),Ue}_trimBuffer(){const{_bufferSize:ze,_timestampProvider:Ue,_buffer:je,_infiniteTimeWindow:Et}=this,yt=(Et?1:2)*ze;if(ze<1/0&&yt<je.length&&je.splice(0,je.length-yt),!Et){const Tt=Ue.now();let Ut=0;for(let vn=1;vn<je.length&&je[vn]<=Tt;vn+=2)Ut=vn;Ut&&je.splice(0,Ut+1)}}}var Se=L(3099);function Be(_t,ze,Ue){let je,Et=!1;return _t&&"object"==typeof _t?({bufferSize:je=1/0,windowTime:ze=1/0,refCount:Et=!1,scheduler:Ue}=_t):je=null!=_t?_t:1/0,(0,Se.B)({connector:()=>new me(je,ze,Ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Et})}var $e=L(590),Ye=L(576);function nt(_t,ze){return(0,Ye.m)(ze)?(0,ye.w)(()=>_t,ze):(0,ye.w)(()=>_t)}var Pe=L(9468),Ce=L(9300),ce=L(2122),Q=L(2011),He=L(6895),Me=L(6217),Qe=L(9260);const We=new y.OlP("angularfire2.auth.use-emulator"),ne=new y.OlP("angularfire2.auth.settings"),qe=new y.OlP("angularfire2.auth.tenant-id"),we=new y.OlP("angularfire2.auth.langugage-code"),rt=new y.OlP("angularfire2.auth.use-device-language"),bt=new y.OlP("angularfire.auth.persistence"),Ke=(_t,ze,Ue,je,Et,yt,Tt,Ut)=>(0,Q.cc)(`${_t.name}.auth`,"AngularFireAuth",_t.name,()=>{const vn=ze.runOutsideAngular(()=>_t.auth());if(Ue&&vn.useEmulator(...Ue),je&&(vn.tenantId=je),vn.languageCode=Et,yt&&vn.useDeviceLanguage(),Tt)for(const[St,ct]of Object.entries(Tt))vn.settings[St]=ct;return Ut&&vn.setPersistence(Ut),vn},[Ue,je,Et,yt,Tt,Ut]);let dt=(()=>{class _t{constructor(Ue,je,Et,yt,Tt,Ut,vn,St,ct,At,Jt,bn){const Fn=new g.x,hn=(0,q.of)(void 0).pipe((0,De.Q)(Tt.outsideAngular),(0,ye.w)(()=>yt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Fe.U)(()=>(0,Q.on)(Ue,yt,je)),(0,Fe.U)(Kt=>Ke(Kt,yt,Ut,St,ct,At,vn,Jt)),Be({bufferSize:1,refCount:!1}));if((0,He.PM)(Et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{hn.pipe((0,$e.P)()).subscribe();const In=hn.pipe((0,ye.w)(jn=>jn.getRedirectResult().then(dn=>dn,()=>null)),ce.iC,Be({bufferSize:1,refCount:!1})),jt=hn.pipe((0,ye.w)(jn=>new oe.y(dn=>({unsubscribe:yt.runOutsideAngular(()=>jn.onAuthStateChanged(ar=>dn.next(ar),ar=>dn.error(ar),()=>dn.complete()))})))),Or=hn.pipe((0,ye.w)(jn=>new oe.y(dn=>({unsubscribe:yt.runOutsideAngular(()=>jn.onIdTokenChanged(ar=>dn.next(ar),ar=>dn.error(ar),()=>dn.complete()))}))));this.authState=In.pipe(nt(jt),(0,Pe.R)(Tt.outsideAngular),(0,De.Q)(Tt.insideAngular)),this.user=In.pipe(nt(Or),(0,Pe.R)(Tt.outsideAngular),(0,De.Q)(Tt.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(jn=>jn?(0,Re.D)(jn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(jn=>jn?(0,Re.D)(jn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,xe.T)(In,Fn,this.authState.pipe((0,Ce.h)(jn=>!jn))).pipe((0,Fe.U)(jn=>null!=jn&&jn.user?jn:null),(0,Pe.R)(Tt.outsideAngular),(0,De.Q)(Tt.insideAngular))}return(0,Q.pX)(this,hn,yt,{spy:{apply:(Kt,In,jt)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&jt.then(Or=>Fn.next(Or))}}})}}return _t.\u0275fac=function(Ue){return new(Ue||_t)(y.LFG(Q.Dh),y.LFG(Q.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ce.HU),y.LFG(We,8),y.LFG(ne,8),y.LFG(qe,8),y.LFG(we,8),y.LFG(rt,8),y.LFG(bt,8),y.LFG(Me.nm,8))},_t.\u0275prov=y.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"any"}),_t})(),Dt=(()=>{class _t{constructor(){Qe.Z.registerVersion("angularfire",ce.q4.full,"auth-compat")}}return _t.\u0275fac=function(Ue){return new(Ue||_t)},_t.\u0275mod=y.oAB({type:_t}),_t.\u0275inj=y.cJS({providers:[dt]}),_t})()},3101:(an,lt,L)=>{"use strict";L.d(lt,{ST:()=>Pv,yb:()=>u0});var y=L(4650),g=L(4986),q=L(9751),oe=L(8996),Re=L(9646),xe=L(2122),De=L(8675),ye=L(4482),Fe=L(5403);function Te(){return(0,ye.e)((s,e)=>{let t,a=!1;s.subscribe((0,Fe.x)(e,h=>{const m=t;t=h,a&&e.next([m,h]),a=!0}))})}var ne,me=L(4004),Se=L(5026),Be=L(1884),$e=L(9300),Ye=L(2011),nt=L(6895),Ce=(L(9568),L(3942)),ce=L(5861),Q=L(9681),He=L(4859),Me=L(1877),Qe=L(2090),mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},We={},qe=qe||{},we=mt||self;function rt(){}function bt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Ke(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Dt="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function ze(s,e,t){return s.call.apply(s.bind,arguments)}function Ue(s,e,t){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function je(s,e,t){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ze:Ue).apply(null,arguments)}function Et(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function yt(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(a,h,m){for(var b=Array(arguments.length-2),N=2;N<arguments.length;N++)b[N-2]=arguments[N];return e.prototype[h].apply(a,b)}}function Tt(){this.s=this.s,this.o=this.o}Tt.prototype.s=!1,Tt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function dt(s){Object.prototype.hasOwnProperty.call(s,Dt)&&s[Dt]||(s[Dt]=++_t)}(this)},Tt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function St(s){const e=s.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=s[a];return t}return[]}function ct(s,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(bt(a)){const h=s.length||0,m=a.length||0;s.length=h+m;for(let b=0;b<m;b++)s[h+b]=a[b]}else s.push(a)}}function At(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{we.addEventListener("test",rt,e),we.removeEventListener("test",rt,e)}catch{}return s}();function bn(s){return/^[\s\xa0]*$/.test(s)}var Fn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function hn(s,e){return s<e?-1:s>e?1:0}function Kt(){var s=we.navigator;return s&&(s=s.userAgent)?s:""}function In(s){return-1!=Kt().indexOf(s)}function jt(s){return jt[" "](s),s}jt[" "]=rt;var mr,s,jn=In("Opera"),dn=In("Trident")||In("MSIE"),ar=In("Edge"),Zr=ar||dn,Er=In("Gecko")&&!(-1!=Kt().toLowerCase().indexOf("webkit")&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),Ci=-1!=Kt().toLowerCase().indexOf("webkit")&&!In("Edge");function zr(){var s=we.document;return s?s.documentMode:void 0}e:{var hr="",Cn=(s=Kt(),Er?/rv:([^\);]+)(\)|;)/.exec(s):ar?/Edge\/([\d\.]+)/.exec(s):dn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Ci?/WebKit\/(\S+)/.exec(s):jn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Cn&&(hr=Cn?Cn[1]:""),dn){var sn=zr();if(null!=sn&&sn>parseFloat(hr)){mr=String(sn);break e}}mr=hr}var xr={};var Kr=we.document&&dn&&(zr()||parseInt(mr,10))||void 0;function Ri(s,e){if(At.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Er){e:{try{jt(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:_r[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ri.X.h.call(this)}}yt(Ri,At);var _r={2:"touch",3:"pen",4:"mouse"};Ri.prototype.h=function(){Ri.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),rr=0;function Ii(s,e,t,a,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=h,this.key=++rr,this.ba=this.ea=!1}function Jn(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function ln(s,e,t){for(const a in s)e.call(t,s[a],a,s)}function Ht(s){const e={};for(const t in s)e[t]=s[t];return e}const En="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vn(s,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)s[t]=a[t];for(let m=0;m<En.length;m++)t=En[m],Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}}function Gn(s){this.src=s,this.g={},this.h=0}function fr(s,e){var t=e.type;if(t in s.g){var m,a=s.g[t],h=vn(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&(Jn(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Ar(s,e,t,a){for(var h=0;h<s.length;++h){var m=s[h];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==a)return h}return-1}Gn.prototype.add=function(s,e,t,a,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var b=Ar(s,e,a,h);return-1<b?(e=s[b],t||(e.ea=!1)):((e=new Ii(e,this.src,m,!!a,h)).ea=t,s.push(e)),e};var Je="closure_lm_"+(1e6*Math.random()|0),Ve={};function he(s,e,t,a,h){if(a&&a.once)return ht(s,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)he(s,e[m],t,a,h);return null}return t=Pn(t),s&&s[Qr]?s.N(e,t,Ke(a)?!!a.capture:!!a,h):ge(s,e,t,!1,a,h)}function ge(s,e,t,a,h,m){if(!e)throw Error("Invalid event type");var b=Ke(h)?!!h.capture:!!h,N=Mt(s);if(N||(s[Je]=N=new Gn(s)),(t=N.add(e,t,a,b,m)).proxy)return t;if(a=function de(){const e=et;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=a,a.src=s,a.listener=t,s.addEventListener)Jt||(h=b),void 0===h&&(h=!1),s.addEventListener(e.toString(),a,h);else if(s.attachEvent)s.attachEvent(Ie(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return t}function ht(s,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)ht(s,e[m],t,a,h);return null}return t=Pn(t),s&&s[Qr]?s.O(e,t,Ke(a)?!!a.capture:!!a,h):ge(s,e,t,!0,a,h)}function Oe(s,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)Oe(s,e[m],t,a,h);else a=Ke(a)?!!a.capture:!!a,t=Pn(t),s&&s[Qr]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=Ar(m=s.g[e],t,a,h))&&(Jn(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=Mt(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Ar(e,t,a,h)),(t=-1<s?e[s]:null)&&Le(t))}function Le(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[Qr])fr(e.i,s);else{var t=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(t,a,s.capture):e.detachEvent?e.detachEvent(Ie(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Mt(e))?(fr(t,s),0==t.h&&(t.src=null,e[Je]=null)):Jn(s)}}}function Ie(s){return s in Ve?Ve[s]:Ve[s]="on"+s}function et(s,e){if(s.ba)s=!0;else{e=new Ri(e,this);var t=s.listener,a=s.ha||s.src;s.ea&&Le(s),s=t.call(a,e)}return s}function Mt(s){return(s=s[Je])instanceof Gn?s:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(s){return"function"==typeof s?s:(s[Yt]||(s[Yt]=function(e){return s.handleEvent(e)}),s[Yt])}function yn(){Tt.call(this),this.i=new Gn(this),this.P=this,this.I=null}function lr(s,e){var t,a=s.I;if(a)for(t=[];a;a=a.I)t.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new At(e,s);else if(e instanceof At)e.target=e.target||s;else{var h=e;Vn(e=new At(a,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var b=e.g=t[m];h=di(b,a,!0,e)&&h}if(h=di(b=e.g=s,a,!0,e)&&h,h=di(b,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=di(b=e.g=t[m],a,!1,e)&&h}function di(s,e,t,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.ba&&b.capture==t){var N=b.listener,G=b.ha||b.src;b.ea&&fr(s.i,b),h=!1!==N.call(G,a)&&h}}return h&&!a.defaultPrevented}yt(yn,Tt),yn.prototype[Qr]=!0,yn.prototype.removeEventListener=function(s,e,t,a){Oe(this,s,e,t,a)},yn.prototype.M=function(){if(yn.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],a=0;a<t.length;a++)Jn(t[a]);delete s.g[e],s.h--}}this.I=null},yn.prototype.N=function(s,e,t,a){return this.i.add(String(s),e,!1,t,a)},yn.prototype.O=function(s,e,t,a){return this.i.add(String(s),e,!0,t,a)};var Pi=we.JSON.stringify;function ji(){var s=vr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Lr,Bi=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new ds,s=>s.reset());class ds{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gs(s){we.setTimeout(()=>{throw s},0)}function Xn(s,e){Lr||function Vr(){var s=we.Promise.resolve(void 0);Lr=function(){s.then(ms)}}(),br||(Lr(),br=!0),vr.add(s,e)}var br=!1,vr=new class Li{constructor(){this.h=this.g=null}add(e,t){const a=Bi.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function ms(){for(var s;s=ji();){try{s.h.call(s.g)}catch(t){gs(t)}var e=Bi;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}br=!1}function Gr(s,e){yn.call(this),this.h=s||1,this.g=e||we,this.j=je(this.lb,this),this.l=Date.now()}function xi(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function Oi(s,e,t){if("function"==typeof s)t&&(s=je(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=je(s.handleEvent,s)}return 2147483647<Number(e)?-1:we.setTimeout(s,e||0)}function An(s){s.g=Oi(()=>{s.g=null,s.i&&(s.i=!1,An(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}yt(Gr,yn),(ne=Gr.prototype).ca=!1,ne.R=null,ne.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(xi(this),this.start()))}},ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.M=function(){Gr.X.M.call(this),xi(this),delete this.g};class cr extends Tt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:An(this)}M(){super.M(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(s){Tt.call(this),this.h=s,this.g={}}yt(pr,Tt);var hi=[];function ti(s,e,t,a){Array.isArray(t)||(t&&(hi[0]=t.toString()),t=hi);for(var h=0;h<t.length;h++){var m=he(e,t[h],a||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function qr(s){ln(s.g,function(e,t){this.g.hasOwnProperty(t)&&Le(e)},s),s.g={}}function gi(){this.g=!0}function Ae(s,e,t,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function be(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var a=t[s];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<h.length;b++)h[b]=""}}}return Pi(t)}catch{return e}}(s,t)+(a?" "+a:"")})}pr.prototype.M=function(){pr.X.M.call(this),qr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gi.prototype.Aa=function(){this.g=!1},gi.prototype.info=function(){};var it={},ot=null;function Rt(){return ot=ot||new yn}function $t(s){At.call(this,it.Pa,s)}function zt(s){const e=Rt();lr(e,new $t(e))}function qt(s,e){At.call(this,it.STAT_EVENT,s),this.stat=e}function pn(s){const e=Rt();lr(e,new qt(e,s))}function Yn(s,e){At.call(this,it.Qa,s),this.size=e}function ir(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){s()},e)}it.Pa="serverreachability",yt($t,At),it.STAT_EVENT="statevent",yt(qt,At),it.Qa="timingevent",yt(Yn,At);var Ze={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},at={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function wt(){}function on(){}wt.prototype.h=null;var Br,Ln={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function er(){At.call(this,"d")}function sr(){At.call(this,"c")}function Xr(){}function mi(s,e,t,a){this.l=s,this.j=e,this.m=t,this.U=a||1,this.S=new pr(this),this.O=Hs,this.T=new Gr(s=Zr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}yt(er,At),yt(sr,At),yt(Xr,wt),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Br=new Xr;var Hs=45e3,Ls={},jr={};function Do(s,e,t){s.K=1,s.v=Ds($s(e)),s.s=t,s.P=!0,Jo(s,null)}function Jo(s,e){s.F=Date.now(),uo(s),s.A=$s(s.v);var t=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),Di(t.i,"t",a),s.C=0,t=s.l.H,s.h=new rs,s.g=io(s.l,t?e:null,!s.s),0<s.N&&(s.L=new cr(je(s.La,s,s.g),s.N)),ti(s.S,s.g,"readystatechange",s.ib),e=s.H?Ht(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),zt(),function Nr(s,e,t,a,h,m){s.info(function(){if(s.g)if(m)for(var b="",N=m.split("&"),G=0;G<N.length;G++){var ee=N[G].split("=");if(1<ee.length){var _e=ee[0];ee=ee[1];var st=_e.split("_");b=2<=st.length&&"type"==st[1]?b+(_e+"=")+ee+"&":b+(_e+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+b})}(s.j,s.u,s.A,s.m,s.U,s.s)}function hs(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function ea(s,e,t){let h,a=!0;for(;!s.I&&s.C<t.length;){if(h=$o(s,t),h==jr){4==e&&(s.o=4,pn(14),a=!1),Ae(s.j,s.m,null,"[Incomplete Response]");break}if(h==Ls){s.o=4,pn(15),Ae(s.j,s.m,t,"[Invalid Chunk]"),a=!1;break}Ae(s.j,s.m,h,null),Uo(s,h)}hs(s)&&h!=jr&&h!=Ls&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,pn(16),a=!1),s.i=s.i&&a,a?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ho(e),e.K=!0,pn(11))):(Ae(s.j,s.m,t,"[Invalid Chunked Response]"),Bs(s),eo(s))}function $o(s,e){var t=s.C,a=e.indexOf("\n",t);return-1==a?jr:(t=Number(e.substring(t,a)),isNaN(t)?Ls:(a+=1)+t>e.length?jr:(e=e.substr(a,t),s.C=a+t,e))}function uo(s){s.V=Date.now()+s.O,Js(s,s.O)}function Js(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=ir(je(s.gb,s),e)}function ta(s){s.B&&(we.clearTimeout(s.B),s.B=null)}function eo(s){0==s.l.G||s.I||Ec(s.l,s)}function Bs(s){ta(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,xi(s.T),qr(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Uo(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||K(t.h,s)))if(!s.J&&K(t.h,s)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;po(t),sa(t)}Xa(t),pn(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=ir(je(t.cb,t),6e3));if(1>=T(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ni(t,11)}else if((s.J||t.g==s)&&po(t),!bn(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let ee=h[e];if(t.T=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.I=ee[1],t.ka=ee[2];const _e=ee[3];null!=_e&&(t.ma=_e,t.j.info("VER="+t.ma));const st=ee[4];null!=st&&(t.Ca=st,t.j.info("SVER="+t.Ca));const xt=ee[5];null!=xt&&"number"==typeof xt&&0<xt&&(t.J=a=1.5*xt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const en=s.g;if(en){const Dn=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var m=a.h;m.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Ee(m,m.h),m.h=null))}if(a.D){const Qn=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Qn&&(a.za=Qn,si(a.F,a.D,Qn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=s;if((a=t).sa=xl(a,a.H?a.ka:null,a.V),b.J){Xt(a.h,b);var N=b,G=a.J;G&&N.setTimeout(G),N.B&&(ta(N),uo(N)),a.g=b}else Gs(a);0<t.i.length&&Ml(t)}else"stop"!=ee[0]&&"close"!=ee[0]||Ni(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Ni(t,7):Ro(t):"noop"!=ee[0]&&t.l&&t.l.wa(ee),t.A=0)}zt()}catch{}}function To(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(bt(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function qi(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(bt(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const a in s)e[t++]=a;return e}}}(s),a=function to(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(bt(s)){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a]);return e}for(a in e=[],t=0,s)e[t++]=s[a];return e}(s),h=a.length,m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],s)}(ne=mi.prototype).setTimeout=function(s){this.O=s},ne.ib=function(s){s=s.target;const e=this.L;e&&3==ho(s)?e.l():this.La(s)},ne.La=function(s){try{if(s==this.g)e:{const _e=ho(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>_e)&&(3!=_e||Zr||this.g&&(this.h.h||this.g.fa()||_l(this.g)))){this.I||4!=_e||7==e||zt(),ta(this);var t=this.g.aa();this.Y=t;t:if(hs(this)){var a=_l(this.g);s="";var h=a.length,m=4==ho(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),eo(this);var b="";break t}this.h.i=new we.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=s,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function ue(s,e,t,a,h,m,b){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.U,_e,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(N)){var ee=N;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,pn(12),Bs(this),eo(this);break e}Ae(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uo(this,t)}this.P?(ea(this,_e,b),Zr&&this.i&&3==_e&&(ti(this.S,this.T,"tick",this.hb),this.T.start())):(Ae(this.j,this.m,b,null),Uo(this,b)),4==_e&&Bs(this),this.i&&!this.I&&(4==_e?Ec(this.l,this):(this.i=!1,uo(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),Bs(this),eo(this)}}}catch{}},ne.hb=function(){if(this.g){var s=ho(this.g),e=this.g.fa();this.C<e.length&&(ta(this),ea(this,s,e),this.i&&4!=s&&uo(this))}},ne.cancel=function(){this.I=!0,Bs(this)},ne.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function tt(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zt(),pn(17)),Bs(this),this.o=2,eo(this)):Js(this,this.V-s)};var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof zs){this.h=void 0!==e?e:s.h,Yi(this,s.j),this.s=s.s,this.g=s.g,ys(this,s.m),this.l=s.l,e=s.i;var t=new Zi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cs(this,t),this.o=s.o}else s&&(t=String(s).match(na))?(this.h=!!e,Yi(this,t[1]||"",!0),this.s=no(t[2]||""),this.g=no(t[3]||"",!0),ys(this,t[4]),this.l=no(t[5]||"",!0),Cs(this,t[6]||"",!0),this.o=no(t[7]||"")):(this.h=!!e,this.i=new Zi(null,this.h))}function $s(s){return new zs(s)}function Yi(s,e,t){s.j=t?no(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function ys(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Cs(s,e,t){e instanceof Zi?(s.i=e,function _s(s,e){e&&!s.j&&(Hi(s),s.i=null,s.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(Ui(this,a),Di(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=ro(e,Ao)),s.i=new Zi(e,s.h))}function si(s,e,t){s.i.set(e,t)}function Ds(s){return si(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function no(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function ro(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,ra),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ra(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}zs.prototype.toString=function(){var s=[],e=this.j;e&&s.push(ro(e,ga,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(ro(e,ga,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(ro(t,"/"==t.charAt(0)?Sa:So,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",ro(t,jo)),s.join("")};var ga=/[#\/\?@]/g,So=/[#\?:]/g,Sa=/[#\?]/g,Ao=/[#\?@]/g,jo=/#/g;function Zi(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Hi(s){s.g||(s.g=new Map,s.h=0,s.i&&function Vo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var a=s[t].indexOf("="),h=null;if(0<=a){var m=s[t].substring(0,a);h=s[t].substring(a+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ui(s,e){Hi(s),e=is(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function zi(s,e){return Hi(s),e=is(s,e),s.g.has(e)}function Di(s,e,t){Ui(s,e),0<t.length&&(s.i=null,s.g.set(is(s,e),St(t)),s.h+=t.length)}function is(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Mo(s){this.l=s||D,s=we.PerformanceNavigationTiming?0<(s=we.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(we.g&&we.g.Ga&&we.g.Ga()&&we.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=Zi.prototype).add=function(s,e){Hi(this),this.i=null,s=is(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},ne.forEach=function(s,e){Hi(this),this.g.forEach(function(t,a){t.forEach(function(h){s.call(e,h,a,this)},this)},this)},ne.oa=function(){Hi(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=s[a];for(let m=0;m<h.length;m++)t.push(e[a])}return t},ne.W=function(s){Hi(this);let e=[];if("string"==typeof s)zi(this,s)&&(e=e.concat(this.g.get(is(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},ne.set=function(s,e){return Hi(this),this.i=null,zi(this,s=is(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},ne.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const m=encodeURIComponent(String(a)),b=this.W(a);for(a=0;a<b.length;a++){var h=m;""!==b[a]&&(h+="="+encodeURIComponent(String(b[a]))),s.push(h)}}return this.i=s.join("&")};var D=10;function Z(s){return!!s.h||!!s.g&&s.g.size>=s.j}function T(s){return s.h?1:s.g?s.g.size:0}function K(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Ee(s,e){s.g?s.g.add(e):s.h=e}function Xt(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Bn(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return St(s.i)}function Kn(){}function Cr(){this.g=new Kn}function On(s,e,t){const a=t||"";try{To(s,function(h,m){let b=h;Ke(h)&&(b=Pi(h)),e.push(a+m+"="+encodeURIComponent(b))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function z(s,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function V(s){this.l=s.ac||null,this.j=s.jb||!1}function k(s,e){yn.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=le,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mo.prototype.cancel=function(){if(this.i=Bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Kn.prototype.stringify=function(s){return we.JSON.stringify(s,void 0)},Kn.prototype.parse=function(s){return we.JSON.parse(s,void 0)},yt(V,wt),V.prototype.g=function(){return new k(this.l,this.j)},V.prototype.i=function(s){return function(){return s}}({}),yt(k,yn);var le=0;function Ot(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function kn(s){s.readyState=4,s.l=null,s.j=null,s.A=null,li(s)}function li(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(ne=k.prototype).open=function(s,e){if(this.readyState!=le)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,li(this)},ne.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||we).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kn(this)),this.readyState=le},ne.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ot(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},ne.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?kn(this):li(this),3==this.readyState&&Ot(this)}},ne.Va=function(s){this.g&&(this.response=this.responseText=s,kn(this))},ne.Ua=function(s){this.g&&(this.response=s,kn(this))},ne.ga=function(){this.g&&kn(this)},ne.setRequestHeader=function(s,e){this.v.append(s,e)},ne.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(k.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Vt=we.JSON.parse;function Zn(s){yn.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ia,this.K=this.L=!1}yt(Zn,yn);var ia="",Aa=/^https?$/i,vs=["POST","PUT"];function Ya(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Ts(s),Ma(s)}function Ts(s){s.D||(s.D=!0,lr(s,"complete"),lr(s,"error"))}function yl(s){if(s.h&&typeof qe<"u"&&(!s.C[1]||4!=ho(s)||2!=s.aa()))if(s.v&&4==ho(s))Oi(s.Ha,0,s);else if(lr(s,"readystatechange"),4==ho(s)){s.h=!1;try{const N=s.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===N){var h=String(s.H).match(na)[1]||null;if(!h&&we.self&&we.self.location){var m=we.self.location.protocol;h=m.substr(0,m.length-1)}a=!Aa.test(h?h.toLowerCase():"")}t=a}if(t)lr(s,"complete"),lr(s,"success");else{s.m=6;try{var b=2<ho(s)?s.g.statusText:""}catch{b=""}s.j=b+" ["+s.aa()+"]",Ts(s)}}finally{Ma(s)}}}function Ma(s,e){if(s.g){Al(s);const t=s.g,a=s.C[0]?rt:null;s.g=null,s.C=null,e||lr(s,"ready");try{t.onreadystatechange=a}catch{}}}function Al(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(we.clearTimeout(s.A),s.A=null)}function ho(s){return s.g?s.g.readyState:0}function _l(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ia:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(s){let e="";return ln(s,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Us(s,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Xi(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):si(s,e,t))}function Ss(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function fo(s){this.Ca=0,this.i=[],this.j=new gi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ss("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ss("baseRetryDelayMs",5e3,s),this.bb=Ss("retryDelaySeedMs",1e4,s),this.$a=Ss("forwardChannelMaxRetries",2,s),this.ta=Ss("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new Mo(s&&s.concurrentRequestLimit),this.Fa=new Cr,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ro(s){if(Ra(s),3==s.G){var e=s.U++,t=$s(s.F);si(t,"SID",s.I),si(t,"RID",e),si(t,"TYPE","terminate"),Es(s,t),(e=new mi(s,s.j,e,void 0)).K=2,e.v=Ds($s(t)),t=!1,we.navigator&&we.navigator.sendBeacon&&(t=we.navigator.sendBeacon(e.v.toString(),"")),!t&&we.Image&&((new Image).src=e.v,t=!0),t||(e.g=io(e.l,null),e.g.da(e.v)),e.F=Date.now(),uo(e)}ma(s)}function sa(s){s.g&&(Ho(s),s.g.cancel(),s.g=null)}function Ra(s){sa(s),s.u&&(we.clearTimeout(s.u),s.u=null),po(s),s.h.cancel(),s.m&&("number"==typeof s.m&&we.clearTimeout(s.m),s.m=null)}function Ml(s){Z(s.h)||s.m||(s.m=!0,Xn(s.Ja,s),s.C=0)}function Qa(s,e){var t;t=e?e.m:s.U++;const a=$s(s.F);si(a,"SID",s.I),si(a,"RID",t),si(a,"AID",s.T),Es(s,a),s.o&&s.s&&Us(a,s.o,s.s),t=new mi(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=xa(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),Ee(s.h,t),Do(t,a,e)}function Es(s,e){s.ia&&ln(s.ia,function(t,a){si(e,a,t)}),s.l&&To({},function(t,a){si(e,a,t)})}function xa(s,e,t){t=Math.min(s.i.length,t);var a=s.l?je(s.l.Ra,s.l,s):null;e:{var h=s.i;let m=-1;for(;;){const b=["count="+t];-1==m?0<t?(m=h[0].h,b.push("ofs="+m)):m=0:b.push("ofs="+m);let N=!0;for(let G=0;G<t;G++){let ee=h[G].h;const _e=h[G].g;if(ee-=m,0>ee)m=Math.max(0,h[G].h-100),N=!1;else try{On(_e,b,"req"+ee+"_")}catch{a&&a(_e)}}if(N){a=b.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,a}function Gs(s){s.g||s.u||(s.Z=1,Xn(s.Ia,s),s.A=0)}function Xa(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=ir(je(s.Ia,s),Rl(s,s.A)),s.A++,0))}function Ho(s){null!=s.B&&(we.clearTimeout(s.B),s.B=null)}function zo(s){s.g=new mi(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=$s(s.sa);si(e,"RID","rpc"),si(e,"SID",s.I),si(e,"CI",s.L?"0":"1"),si(e,"AID",s.T),si(e,"TYPE","xmlhttp"),Es(s,e),s.o&&s.s&&Us(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=Ds($s(e)),t.s=null,t.P=!0,Jo(t,s)}function po(s){null!=s.v&&(we.clearTimeout(s.v),s.v=null)}function Ec(s,e){var t=null;if(s.g==e){po(s),Ho(s),s.g=null;var a=2}else{if(!K(s.h,e))return;t=e.D,Xt(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=s.C;lr(a=Rt(),new Yn(a,t)),Ml(s)}else Gs(s);else if(3==(h=e.o)||0==h&&0<s.pa||!(1==a&&function Za(s,e){return!(T(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=ir(je(s.Ja,s,e),Rl(s,s.C)),s.C++,0)))}(s,e)||2==a&&Xa(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),h){case 1:Ni(s,5);break;case 4:Ni(s,10);break;case 3:Ni(s,6);break;default:Ni(s,2)}}function Rl(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function Ni(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var a=je(s.kb,s);t||(t=new zs("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||Yi(t,"https"),Ds(t)),function Gi(s,e){const t=new gi;if(we.Image){const a=new Image;a.onload=Et(z,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Et(z,t,a,"TestLoadImage: error",!1,e),a.onabort=Et(z,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Et(z,t,a,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(t.toString(),a)}else pn(2);s.G=0,s.l&&s.l.va(e),ma(s),Ra(s)}function ma(s){if(s.G=0,s.la=[],s.l){const e=Bn(s.h);(0!=e.length||0!=s.i.length)&&(ct(s.la,e),ct(s.la,s.i),s.h.i.length=0,St(s.i),s.i.length=0),s.l.ua()}}function xl(s,e,t){var a=t instanceof zs?$s(t):new zs(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),ys(a,a.m);else{var h=we.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new zs(null,void 0);a&&Yi(m,a),e&&(m.g=e),h&&ys(m,h),t&&(m.l=t),a=m}return e=s.za,(t=s.D)&&e&&si(a,t,e),si(a,"VER",s.ma),Es(s,a),a}function io(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&s.Da&&!s.ra?new V({jb:!0}):s.ra)).Ka(s.H),e}function fi(){}function go(){if(dn&&!(10<=Number(Kr)))throw Error("Environmental error: no available transport.")}function Yr(s,e){yn.call(this),this.g=new fo(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!bn(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bn(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new yi(this)}function Pa(s){er.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function xo(){sr.call(this),this.status=1}function yi(s){this.g=s}(ne=Zn.prototype).Ka=function(s){this.L=s},ne.da=function(s,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Br.g(),this.C=function Wt(s){return s.h||(s.h=s.i())}(this.u?this.u:Br),this.g.onreadystatechange=je(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(m){return void Ya(this,m)}if(s=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const m of a.keys())t.set(m,a.get(m))}a=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=we.FormData&&s instanceof we.FormData,!(0<=vn(vs,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,b]of t)this.g.setRequestHeader(m,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Al(this),0<this.B&&((this.K=function ml(s){return dn&&function Wr(){return function Or(s){var e=xr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=Fn(String(mr)).split("."),t=Fn("9").split("."),a=Math.max(e.length,t.length);for(let b=0;0==s&&b<a;b++){var h=e[b]||"",m=t[b]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=hn(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||hn(0==h[2].length,0==m[2].length)||hn(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.qa,this)):this.A=Oi(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){Ya(this,m)}},ne.qa=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},ne.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,lr(this,"complete"),lr(this,"abort"),Ma(this))},ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ma(this,!0)),Zn.X.M.call(this)},ne.Ha=function(){this.s||(this.F||this.v||this.l?yl(this):this.fb())},ne.fb=function(){yl(this)},ne.aa=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},ne.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ne.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Vt(e)}},ne.Ea=function(){return this.m},ne.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=fo.prototype).ma=8,ne.G=1,ne.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const h=new mi(this,this.j,s,void 0);let m=this.s;if(this.S&&(m?(m=Ht(m),Vn(m,this.S)):m=this.S),null!==this.o||this.N||(h.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xa(this,h,e),si(t=$s(this.F),"RID",s),si(t,"CVER",22),this.D&&si(t,"X-HTTP-Session-Id",this.D),Es(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Xi(m)))+"&"+e:this.o&&Us(t,this.o,m)),Ee(this.h,h),this.Ya&&si(t,"TYPE","init"),this.O?(si(t,"$req",e),si(t,"SID","null"),h.Z=!0,Do(h,t,null)):Do(h,t,e),this.G=2}}else 3==this.G&&(s?Qa(this,s):0==this.i.length||Z(this.h)||Qa(this))},ne.Ia=function(){if(this.u=null,zo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=ir(je(this.eb,this),s)}},ne.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pn(10),sa(this),zo(this))},ne.cb=function(){null!=this.v&&(this.v=null,sa(this),Xa(this),pn(19))},ne.kb=function(s){s?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))},(ne=fi.prototype).xa=function(){},ne.wa=function(){},ne.va=function(){},ne.ua=function(){},ne.Ra=function(){},go.prototype.g=function(s,e){return new Yr(s,e)},yt(Yr,yn),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;pn(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=xl(s,null,s.V),Ml(s)},Yr.prototype.close=function(){Ro(this.g)},Yr.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Pi(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&Ml(e)},Yr.prototype.M=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,Yr.X.M.call(this)},yt(Pa,er),yt(xo,sr),yt(yi,fi),yi.prototype.xa=function(){lr(this.g,"a")},yi.prototype.wa=function(s){lr(this.g,new Pa(s))},yi.prototype.va=function(s){lr(this.g,new xo)},yi.prototype.ua=function(){lr(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,at.COMPLETE="complete",on.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",yn.prototype.listen=yn.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.Oa,Zn.prototype.getLastErrorCode=Zn.prototype.Ea,Zn.prototype.getStatus=Zn.prototype.aa,Zn.prototype.getResponseJson=Zn.prototype.Sa,Zn.prototype.getResponseText=Zn.prototype.fa,Zn.prototype.send=Zn.prototype.da,Zn.prototype.setWithCredentials=Zn.prototype.Ka;var Oa=We.createWebChannelTransport=function(){return new go},so=We.getStatEventTarget=function(){return Rt()},Na=We.ErrorCode=Ze,ka=We.EventType=at,Ic=We.Event=it,Ji=We.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},F=We.FetchXmlHttpFactory=V,J=We.WebChannel=on,j=We.XhrIo=Zn;const ae="@firebase/firestore";class Ne{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");let Lt="9.20.0";const Qt=new Me.Yd("@firebase/firestore");function $n(){return Qt.logLevel}function Gt(s,...e){if(Qt.logLevel<=Me.in.DEBUG){const t=e.map(Qi);Qt.debug(`Firestore (${Lt}): ${s}`,...t)}}function tr(s,...e){if(Qt.logLevel<=Me.in.ERROR){const t=e.map(Qi);Qt.error(`Firestore (${Lt}): ${s}`,...t)}}function Tr(s,...e){if(Qt.logLevel<=Me.in.WARN){const t=e.map(Qi);Qt.warn(`Firestore (${Lt}): ${s}`,...t)}}function Qi(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function fn(s="Unexpected state"){const e=`FIRESTORE (${Lt}) INTERNAL ASSERTION FAILED: `+s;throw tr(e),new Error(e)}function Rn(s,e){s||fn()}function gn(s,e){return s}const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ja{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class el{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ne.UNAUTHENTICATED))}shutdown(){}}class vl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tl{constructor(e){this.t=e,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=ee=>this.i!==h?(h=this.i,t(ee)):Promise.resolve();let b=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new wi,e.enqueueRetryable(()=>m(this.currentUser))};const N=()=>{const ee=b;e.enqueueRetryable((0,ce.Z)(function*(){yield ee.promise,yield m(a.currentUser)}))},G=ee=>{Gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(ee=>G(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?G(ee):(Gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new wi)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rn("string"==typeof a.accessToken),new Ja(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rn(null===e||"string"==typeof e),new Ne(e)}}class bu{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Jl{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new bu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=m=>{null!=m.error&&Gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.T;return this.T=m.token,Gt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{Gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rn("string"==typeof t.token),this.T=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qc(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class Po{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=qc(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function or(s,e){return s<e?-1:s>e?1:0}function ki(s,e,t){return s.length===e.length&&s.every((a,h)=>t(a,e[h]))}function Fa(s){return s+"\0"}class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tn(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tn(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tn(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tn(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Ti(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gr(e)}static min(){return new gr(new Ti(0,0))}static max(){return new gr(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class La{constructor(e,t,a){void 0===t?t=0:t>e.length&&fn(),void 0===a?a=e.length-t:a>e.length-t&&fn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),b=t.get(h);if(m<b)return-1;if(m>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oi extends La{construct(e,t,a){return new oi(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new tn(kt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new oi(t)}static emptyPath(){return new oi([])}}const Cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends La{construct(e,t,a){return new $i(e,t,a)}static isValidIdentifier(e){return Cu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new tn(kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let b=!1;for(;h<e.length;){const N=e[h];if("\\"===N){if(h+1===e.length)throw new tn(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[h+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new tn(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=G,h+=2}else"`"===N?(b=!b,h++):"."!==N||b?(a+=N,h++):(m(),h++)}if(m(),b)throw new tn(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(t)}static emptyPath(){return new $i([])}}class Nn{constructor(e){this.path=e}static fromPath(e){return new Nn(oi.fromString(e))}static fromName(e){return new Nn(oi.fromString(e).popFirst(5))}static empty(){return new Nn(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nn(new oi(e.slice()))}}class Is{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function es(s){return s.fields.find(e=>2===e.kind)}function Go(s){return s.fields.filter(e=>2!==e.kind)}Is.UNKNOWN_ID=-1;class Ol{constructor(e,t){this.fieldPath=e,this.kind=t}}class os{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new os(0,yo.min())}}function Ba(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,h=gr.fromTimestamp(1e9===a?new Ti(t+1,0):new Ti(t,a));return new yo(h,Nn.empty(),e)}function Yc(s){return new yo(s.readTime,s.key,-1)}class yo{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new yo(gr.min(),Nn.empty(),-1)}static max(){return new yo(gr.max(),Nn.empty(),-1)}}function la(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=Nn.comparator(s.documentKey,e.documentKey),0!==t?t:or(s.largestBatchId,e.largestBatchId))}const Nl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(s){return vo.apply(this,arguments)}function vo(){return vo=(0,ce.Z)(function*(s){if(s.code!==kt.FAILED_PRECONDITION||s.message!==Nl)throw s;Gt("LocalStore","Unexpectedly lost primary lease")}),vo.apply(this,arguments)}class Ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ft((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ft?t:Ft.resolve(t)}catch(t){return Ft.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.reject(t)}static resolve(e){return new Ft((t,a)=>{t(e)})}static reject(e){return new Ft((t,a)=>{a(e)})}static waitFor(e){return new Ft((t,a)=>{let h=0,m=0,b=!1;e.forEach(N=>{++h,N.next(()=>{++m,b&&m===h&&t()},G=>a(G))}),b=!0,m===h&&t()})}static or(e){let t=Ft.resolve(!1);for(const a of e)t=t.next(h=>h?Ft.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}static mapArray(e,t){return new Ft((a,h)=>{const m=e.length,b=new Array(m);let N=0;for(let G=0;G<m;G++){const ee=G;t(e[ee]).next(_e=>{b[ee]=_e,++N,N===m&&a(b)},_e=>h(_e))}})}static doWhile(e,t){return new Ft((a,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):a()};m()})}}class kl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new wi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Zc(e,t.error)):this.R.resolve()},this.transaction.onerror=a=>{const h=Fl(a.target.error);this.R.reject(new Zc(e,h))}}static open(e,t,a,h){try{return new kl(t,e.transaction(h,a))}catch(m){throw new Zc(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ih(t)}}class Ws{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===Ws.S((0,Qe.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Gt("SimpleDb","Removing database:",e),Wo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Qe.hl)())return!1;if(Ws.C())return!0;const e=(0,Qe.z$)(),t=Ws.S(e),a=0<t&&t<10,h=Ws.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,ce.Z)(function*(){return t.db||(Gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=b=>{a(b.target.result)},m.onblocked=()=>{h(new Zc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const N=b.target.error;h("VersionError"===N.name?new tn(kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new tn(kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Zc(e,N))},m.onupgradeneeded=b=>{Gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.V.M(b.target.result,m.transaction,b.oldVersion,t.version).next(()=>{Gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,ce.Z)(function*(){const b="readonly"===t;let N=0;for(;;){++N;try{m.db=yield m.$(e);const G=kl.open(m.db,e,b?"readonly":"readwrite",a),ee=h(G).next(_e=>(G.P(),_e)).catch(_e=>(G.abort(_e),Ft.reject(_e))).toPromise();return ee.catch(()=>{}),yield G.v,ee}catch(G){const ee=G,_e="FirebaseError"!==ee.name&&N<3;if(Gt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",_e),m.close(),!_e)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sf{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Wo(this.L.delete())}}class Zc extends tn{constructor(e,t){super(kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ci(s){return"IndexedDbTransactionError"===s.name}class ih{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Gt("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Wo(a)}add(e){return Gt("SimpleDb","ADD",this.store.name,e,e),Wo(this.store.add(e))}get(e){return Wo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Gt("SimpleDb","DELETE",this.store.name,e),Wo(this.store.delete(e))}count(){return Gt("SimpleDb","COUNT",this.store.name),Wo(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.W(h,(b,N)=>{m.push(N)}).next(()=>m)}{const h=this.store.getAll(a.range);return new Ft((m,b)=>{h.onerror=N=>{b(N.target.error)},h.onsuccess=N=>{m(N.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Ft((h,m)=>{a.onerror=b=>{m(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}J(e,t){Gt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const h=this.cursor(a);return this.W(h,(m,b,N)=>N.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.W(h,t)}X(e){const t=this.cursor({});return new Ft((a,h)=>{t.onerror=m=>{const b=Fl(m.target.error);h(b)},t.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(N=>{N?b.continue():a()}):a()}})}W(e,t){const a=[];return new Ft((h,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const N=b.target.result;if(!N)return void h();const G=new sf(N),ee=t(N.primaryKey,N.value,G);if(ee instanceof Ft){const _e=ee.catch(st=>(G.done(),Ft.reject(st)));a.push(_e)}G.isDone?h():null===G.K?N.continue():N.continue(G.K)}}).next(()=>Ft.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wo(s){return new Ft((e,t)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const h=Fl(a.target.error);t(h)}})}let od=!1;function Fl(s){const e=Ws.S((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const a=new tn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return od||(od=!0,setTimeout(()=>{throw a},0)),a}}return s}class sh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){t.task=null;try{Gt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){ci(a)?Gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield _o(a)}yield t.et(6e4)}))}}class ad{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let h=t,m=!0;return Ft.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Gt("IndexBackiller",`Processing collection: ${b}`),this.it(e,b,h).next(N=>{h-=N,a.add(b)});m=!1})).next(()=>t-h)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.rt(h,m)).next(N=>(Gt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>b.size)}))}rt(e,t){let a=e;return t.changes.forEach((h,m)=>{const b=Yc(m);la(b,a)>0&&(a=b)}),new yo(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let No=(()=>{class s{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>a.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function ya(s){return null==s}function ec(s){return 0===s&&1/s==-1/0}function ld(s){return"number"==typeof s&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function pi(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=$a(e)),e=bc(s.get(t),e);return $a(e)}function bc(s,e){let t=e;const a=s.length;for(let h=0;h<a;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function $a(s){return s+"\x01\x01"}function oo(s){const e=s.length;if(Rn(e>=2),2===e)return Rn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),oi.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const b=s.indexOf("\x01",m);switch((b<0||b>t)&&fn(),s.charAt(b+1)){case"\x01":const N=s.substring(m,b);let G;0===h.length?G=N:(h+=N,G=h,h=""),a.push(G);break;case"\x10":h+=s.substring(m,b),h+="\0";break;case"\x11":h+=s.substring(m,b+1);break;default:fn()}m=b+2}return new oi(a)}const ko=["userId","batchId"];function S(s,e){return[s,pi(e)]}function R(s,e,t){return[s,pi(e),t]}const w={},x=["prefixPath","collectionGroup","readTime","documentId"],H=["prefixPath","collectionGroup","documentId"],re=["collectionGroup","readTime","prefixPath","documentId"],fe=["canonicalId","targetId"],gt=["targetId","path"],Nt=["path","targetId"],wn=["collectionId","parent"],mn=["indexId","uid"],cn=["uid","sequenceNumber"],Rr=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ws=["indexId","uid","orderedDocumentKey"],Ks=["userId","collectionPath","documentId"],as=["userId","collectionPath","largestBatchId"],As=["userId","collectionGroup","largestBatchId"],_a=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ca=[..._a,"documentOverlays"],rl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ps=rl,Ua=[...ps,"indexConfiguration","indexState","indexEntries"];class Va extends nl{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function bs(s,e){const t=gn(s);return Ws.O(t.at,e)}function Ll(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function U(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function W(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ie{constructor(e,t){this.comparator=e,this.root=t||vt.EMPTY}insert(e,t){return new ie(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ge(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ge(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ge(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ge(this.root,e,this.comparator,!0)}}class Ge{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=null!=a?a:vt.RED,this.left=null!=h?h:vt.EMPTY,this.right=null!=m?m:vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new vt(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return vt.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1,vt.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(s,e,t,a,h){return this}insert(s,e,t){return new vt(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new un(this.data.getIterator())}getIteratorFrom(e){return new un(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class un{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Un(s){return s.hasNext()?s.getNext():void 0}class Hn{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new ft($i.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ki(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class ur extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ur("Invalid base64 string: "+h):h}}(e);return new Wn(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(s){if(Rn(!!s),"string"==typeof s){let e=0;const t=va.exec(s);if(Rn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ts(s.seconds),nanos:ts(s.nanos)}}function ts(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ja(s){return"string"==typeof s?Wn.fromBase64String(s):Wn.fromUint8Array(s)}function Ha(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fo(s){const e=s.mapValue.fields.__previous_value__;return Ha(e)?Fo(e):e}function Ko(s){const e=ai(s.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}class Qc{constructor(e,t,a,h,m,b,N,G){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=N,this.useFetchStreams=G}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cc={nullValue:"NULL_VALUE"};function tc(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ha(s)?4:Tc(s)?9007199254740991:10:fn()}function El(s,e){if(s===e)return!0;const t=tc(s);if(t!==tc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ko(s).isEqual(Ko(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=ai(a.timestampValue),b=ai(h.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,ja(s.bytesValue).isEqual(ja(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,h){return ts(a.geoPointValue.latitude)===ts(h.geoPointValue.latitude)&&ts(a.geoPointValue.longitude)===ts(h.geoPointValue.longitude)}(s,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return ts(a.integerValue)===ts(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=ts(a.doubleValue),b=ts(h.doubleValue);return m===b?ec(m)===ec(b):isNaN(m)&&isNaN(b)}return!1}(s,e);case 9:return ki(s.arrayValue.values||[],e.arrayValue.values||[],El);case 10:return function(a,h){const m=a.mapValue.fields||{},b=h.mapValue.fields||{};if(Ll(m)!==Ll(b))return!1;for(const N in m)if(m.hasOwnProperty(N)&&(void 0===b[N]||!El(m[N],b[N])))return!1;return!0}(s,e);default:return fn()}var h}function Xc(s,e){return void 0!==(s.values||[]).find(t=>El(t,e))}function $l(s,e){if(s===e)return 0;const t=tc(s),a=tc(e);if(t!==a)return or(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(s.booleanValue,e.booleanValue);case 2:return function(h,m){const b=ts(h.integerValue||h.doubleValue),N=ts(m.integerValue||m.doubleValue);return b<N?-1:b>N?1:b===N?0:isNaN(b)?isNaN(N)?0:-1:1}(s,e);case 3:return ns(s.timestampValue,e.timestampValue);case 4:return ns(Ko(s),Ko(e));case 5:return or(s.stringValue,e.stringValue);case 6:return function(h,m){const b=ja(h),N=ja(m);return b.compareTo(N)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const b=h.split("/"),N=m.split("/");for(let G=0;G<b.length&&G<N.length;G++){const ee=or(b[G],N[G]);if(0!==ee)return ee}return or(b.length,N.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const b=or(ts(h.latitude),ts(m.latitude));return 0!==b?b:or(ts(h.longitude),ts(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const b=h.values||[],N=m.values||[];for(let G=0;G<b.length&&G<N.length;++G){const ee=$l(b[G],N[G]);if(ee)return ee}return or(b.length,N.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Ea.mapValue&&m===Ea.mapValue)return 0;if(h===Ea.mapValue)return 1;if(m===Ea.mapValue)return-1;const b=h.fields||{},N=Object.keys(b),G=m.fields||{},ee=Object.keys(G);N.sort(),ee.sort();for(let _e=0;_e<N.length&&_e<ee.length;++_e){const st=or(N[_e],ee[_e]);if(0!==st)return st;const xt=$l(b[N[_e]],G[ee[_e]]);if(0!==xt)return xt}return or(N.length,ee.length)}(s.mapValue,e.mapValue);default:throw fn()}}function ns(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return or(s,e);const t=ai(s),a=ai(e),h=or(t.seconds,a.seconds);return 0!==h?h:or(t.nanos,a.nanos)}function Du(s){return Tu(s)}function Tu(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const h=ai(a);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ja(s.bytesValue).toBase64():"referenceValue"in s?Nn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let h="[",m=!0;for(const b of a.values||[])m?m=!1:h+=",",h+=Tu(b);return h+"]"}(s.arrayValue):"mapValue"in s?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",b=!0;for(const N of h)b?b=!1:m+=",",m+=`${N}:${Tu(a.fields[N])}`;return m+"}"}(s.mapValue):fn();var e}function nc(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function cd(s){return!!s&&"integerValue"in s}function Il(s){return!!s&&"arrayValue"in s}function rc(s){return!!s&&"nullValue"in s}function ud(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ur(s){return!!s&&"mapValue"in s}function Dc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return U(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Dc(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dc(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Tc(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function gp(s){return"nullValue"in s?Cc:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?nc(Bl.empty(),Nn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:fn()}function fs(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?nc(Bl.empty(),Nn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Ea:fn()}function dd(s,e){const t=$l(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Ia(s,e){const t=$l(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class qs{constructor(e){this.value=e}static empty(){return new qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Ur(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(t)}setAll(e){let t=$i.emptyPath(),a={},h=[];e.forEach((b,N)=>{if(!t.isImmediateParentOf(N)){const G=this.getFieldsMap(t);this.applyChanges(G,a,h),a={},h=[],t=N.popLast()}b?a[N.lastSegment()]=Dc(b):h.push(N.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());Ur(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return El(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];Ur(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){U(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new qs(Dc(this.value))}}function af(s){const e=[];return U(s.fields,(t,a)=>{const h=new $i([t]);if(Ur(a)){const m=af(a.mapValue).fields;if(0===m.length)e.push(h);else for(const b of m)e.push(h.child(b))}else e.push(h)}),new Hn(e)}class Vi{constructor(e,t,a,h,m,b,N){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.createTime=m,this.data=b,this.documentState=N}static newInvalidDocument(e){return new Vi(e,0,gr.min(),gr.min(),gr.min(),qs.empty(),0)}static newFoundDocument(e,t,a,h){return new Vi(e,1,t,gr.min(),a,h,0)}static newNoDocument(e,t){return new Vi(e,2,t,gr.min(),gr.min(),qs.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,gr.min(),gr.min(),qs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class za{constructor(e,t){this.position=e,this.inclusive=t}}function Sc(s,e,t){let a=0;for(let h=0;h<s.position.length;h++){const m=e[h],b=s.position[h];if(a=m.field.isKeyField()?Nn.comparator(Nn.fromName(b.referenceValue),t.key):$l(b,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function mp(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!El(s.position[t],e.position[t]))return!1;return!0}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function hd(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class fd{}class ui extends fd{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new yp(e,t,a):"array-contains"===t?new Mc(e,a):"in"===t?new md(e,a):"not-in"===t?new ah(e,a):"array-contains-any"===t?new Gg(e,a):new ui(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new Jc(e,a):new lf(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($l(t,this.value)):null!==t&&tc(this.value)===tc(t)&&this.matchesComparison($l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wi extends fd{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Wi(e,t)}matches(e){return ao(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ao(s){return"and"===s.op}function pd(s){return"or"===s.op}function Su(s){return gd(s)&&ao(s)}function gd(s){for(const e of s.filters)if(e instanceof Wi)return!1;return!0}function Ys(s){if(s instanceof ui)return s.field.canonicalString()+s.op.toString()+Du(s.value);if(Su(s))return s.filters.map(e=>Ys(e)).join(",");{const e=s.filters.map(t=>Ys(t)).join(",");return`${s.op}(${e})`}}function Au(s,e){return s instanceof ui?(t=s,(a=e)instanceof ui&&t.op===a.op&&t.field.isEqual(a.field)&&El(t.value,a.value)):s instanceof Wi?function(t,a){return a instanceof Wi&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((h,m,b)=>h&&Au(m,a.filters[b]),!0)}(s,e):void fn();var t,a}function Mu(s,e){const t=s.filters.concat(e);return Wi.create(t,s.op)}function oh(s){return s instanceof ui?`${(e=s).field.canonicalString()} ${e.op} ${Du(e.value)}`:s instanceof Wi?function(e){return e.op.toString()+" {"+e.getFilters().map(oh).join(" ,")+"}"}(s):"Filter";var e}class yp extends ui{constructor(e,t,a){super(e,t,a),this.key=Nn.fromName(a.referenceValue)}matches(e){const t=Nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jc extends ui{constructor(e,t){super(e,"in",t),this.keys=Ru(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lf extends ui{constructor(e,t){super(e,"not-in",t),this.keys=Ru(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ru(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>Nn.fromName(a.referenceValue))}class Mc extends ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Il(t)&&Xc(t.arrayValue,this.value)}}class md extends ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xc(this.value.arrayValue,t)}}class ah extends ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xc(this.value.arrayValue,t)}}class Gg extends ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Il(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Xc(this.value.arrayValue,a))}}class yd{constructor(e,t=null,a=[],h=[],m=null,b=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=b,this.endAt=N,this.ft=null}}function xu(s,e=null,t=[],a=[],h=null,m=null,b=null){return new yd(s,e,t,a,h,m,b)}function Pu(s){const e=gn(s);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Ys(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),ya(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Du(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Du(a)).join(",")),e.ft=t}return e.ft}function wl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!hd(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Au(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!mp(s.startAt,e.startAt)&&mp(s.endAt,e.endAt)}function _d(s){return Nn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Eo(s,e){return s.filters.filter(t=>t instanceof ui&&t.field.isEqual(e))}function eu(s,e,t){let a=Cc,h=!0;for(const m of Eo(s,e)){let b=Cc,N=!0;switch(m.op){case"<":case"<=":b=gp(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,N=!1;break;case"!=":case"not-in":b=Cc}dd({value:a,inclusive:h},{value:b,inclusive:N})<0&&(a=b,h=N)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const b=t.position[m];dd({value:a,inclusive:h},{value:b,inclusive:t.inclusive})<0&&(a=b,h=t.inclusive);break}return{value:a,inclusive:h}}function tu(s,e,t){let a=Ea,h=!0;for(const m of Eo(s,e)){let b=Ea,N=!0;switch(m.op){case">=":case">":b=fs(m.value),N=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,N=!1;break;case"!=":case"not-in":b=Ea}Ia({value:a,inclusive:h},{value:b,inclusive:N})>0&&(a=b,h=N)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const b=t.position[m];Ia({value:a,inclusive:h},{value:b,inclusive:t.inclusive})>0&&(a=b,h=t.inclusive);break}return{value:a,inclusive:h}}class il{constructor(e,t=null,a=[],h=[],m=null,b="F",N=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=b,this.startAt=N,this.endAt=G,this.dt=null,this.wt=null}}function Ul(s,e,t,a,h,m,b,N){return new il(s,e,t,a,h,m,b,N)}function sl(s){return new il(s)}function ic(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Rc(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function wa(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function cf(s){return null!==s.collectionGroup}function Ou(s){const e=gn(s);if(null===e.dt){e.dt=[];const t=wa(e),a=Rc(e);if(null!==t&&null===a)t.isKeyField()||e.dt.push(new Ac(t)),e.dt.push(new Ac($i.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ac($i.keyField(),m))}}}return e.dt}function M(s){const e=gn(s);if(!e.wt)if("F"===e.limitType)e.wt=xu(e.path,e.collectionGroup,Ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of Ou(e))t.push(new Ac(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new za(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new za(e.startAt.position,e.startAt.inclusive):null;e.wt=xu(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e.wt}function _(s,e){e.getFirstInequalityField(),wa(s);const t=s.filters.concat([e]);return new il(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function I(s,e,t){return new il(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function P(s,e){return wl(M(s),M(e))&&s.limitType===e.limitType}function te(s){return`${Pu(M(s))}|lt:${s.limitType}`}function ve(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>oh(a)).join(", ")}]`),ya(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Du(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Du(a)).join(",")),`Target(${t})`}(M(s))}; limitType=${s.limitType})`}function It(s,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):Nn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,a){for(const h of Ou(t))if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(s,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(s,e)&&(a=e,!((t=s).startAt&&!function(h,m,b){const N=Sc(h,m,b);return h.inclusive?N<=0:N<0}(t.startAt,Ou(t),a)||t.endAt&&!function(h,m,b){const N=Sc(h,m,b);return h.inclusive?N>=0:N>0}(t.endAt,Ou(t),a)));var t,a}function Bt(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Mn(s){return(e,t)=>{let a=!1;for(const h of Ou(s)){const m=zn(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function zn(s,e,t){const a=s.field.isKeyField()?Nn.comparator(e.key,t.key):function(h,m,b){const N=m.data.field(h),G=b.data.field(h);return null!==N&&null!==G?$l(N,G):fn()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return fn()}}class Sn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){U(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return W(this.inner)}size(){return this.innerSize}}const Pr=new ie(Nn.comparator);function _i(){return Pr}const ol=new ie(Nn.comparator);function Vl(...s){let e=ol;for(const t of s)e=e.insert(t.key,t);return e}function vd(s){let e=ol;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Lo(){return Ga()}function nu(){return Ga()}function Ga(){return new Sn(s=>s.toString(),(s,e)=>s.isEqual(e))}const Nu=new ie(Nn.comparator),xc=new ft(Nn.comparator);function Hr(...s){let e=xc;for(const t of s)e=e.add(t);return e}const Pc=new ft(or);function ku(){return Pc}function Ed(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function ru(s){return{integerValue:""+s}}function uf(s,e){return ld(e)?ru(e):Ed(s,e)}class lh{constructor(){this._=void 0}}function Wg(s,e,t){return s instanceof wd?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof Fu?wy(s,e):s instanceof bd?by(s,e):function(a,h){const m=Id(a,h),b=qg(m)+qg(a._t);return cd(m)&&cd(a._t)?ru(b):Ed(a.serializer,b)}(s,e)}function Kg(s,e,t){return s instanceof Fu?wy(s,e):s instanceof bd?by(s,e):t}function Id(s,e){return s instanceof Cd?cd(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class wd extends lh{}class Fu extends lh{constructor(e){super(),this.elements=e}}function wy(s,e){const t=Lu(e);for(const a of s.elements)t.some(h=>El(h,a))||t.push(a);return{arrayValue:{values:t}}}class bd extends lh{constructor(e){super(),this.elements=e}}function by(s,e){let t=Lu(e);for(const a of s.elements)t=t.filter(h=>!El(h,a));return{arrayValue:{values:t}}}class Cd extends lh{constructor(e,t){super(),this.serializer=e,this._t=t}}function qg(s){return ts(s.integerValue||s.doubleValue)}function Lu(s){return Il(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class iu{constructor(e,t){this.field=e,this.transform=t}}class _p{constructor(e,t){this.version=e,this.transformResults=t}}class Ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class hf{}function ff(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new su(s.key,Ms.none()):new Td(s.key,s.data,Ms.none());{const t=s.data,a=qs.empty();let h=new ft($i.comparator);for(let m of e.fields)if(!h.has(m)){let b=t.field(m);null===b&&m.length>1&&(m=m.popLast(),b=t.field(m)),null===b?a.delete(m):a.set(m,b),h=h.add(m)}return new Oc(s.key,a,new Hn(h.toArray()),Ms.none())}}function V_(s,e,t){s instanceof Td?function(a,h,m){const b=a.value.clone(),N=Bu(a.fieldTransforms,h,m.transformResults);b.setAll(N),h.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(s,e,t):s instanceof Oc?function(a,h,m){if(!df(a.precondition,h))return void h.convertToUnknownDocument(m.version);const b=Bu(a.fieldTransforms,h,m.transformResults),N=h.data;N.setAll(Yg(a)),N.setAll(b),h.convertToFoundDocument(m.version,N).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ch(s,e,t,a){return s instanceof Td?function(h,m,b,N){if(!df(h.precondition,m))return b;const G=h.value.clone(),ee=Zg(h.fieldTransforms,N,m);return G.setAll(ee),m.convertToFoundDocument(m.version,G).setHasLocalMutations(),null}(s,e,t,a):s instanceof Oc?function(h,m,b,N){if(!df(h.precondition,m))return b;const G=Zg(h.fieldTransforms,N,m),ee=m.data;return ee.setAll(Yg(h)),ee.setAll(G),m.convertToFoundDocument(m.version,ee).setHasLocalMutations(),null===b?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(_e=>_e.field))}(s,e,t,a):(b=t,df(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b);var m,b}function pf(s,e){let t=null;for(const a of s.fieldTransforms){const h=e.data.field(a.field),m=Id(a.transform,h||null);null!=m&&(null===t&&(t=qs.empty()),t.set(a.field,m))}return t||null}function uh(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===a||t&&a&&ki(t,a,(h,m)=>function Dd(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(t=s.transform)instanceof Fu&&a instanceof Fu||t instanceof bd&&a instanceof bd?ki(t.elements,a.elements,El):t instanceof Cd&&a instanceof Cd?El(t._t,a._t):t instanceof wd&&a instanceof wd);var t,a}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,a}class Td extends hf{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Oc extends hf{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Yg(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function Bu(s,e,t){const a=new Map;Rn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],b=m.transform,N=e.data.field(m.field);a.set(m.field,Kg(b,N,t[h]))}return a}function Zg(s,e,t){const a=new Map;for(const h of s){const m=h.transform,b=t.data.field(h.field);a.set(h.field,Wg(m,b,e))}return a}class su extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gf extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vp{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&V_(m,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=ch(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=ch(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=nu();return this.mutations.forEach(h=>{const m=e.get(h.key),b=m.overlayedDocument;let N=this.applyToLocalView(b,m.mutatedFields);N=t.has(h.key)?null:N;const G=ff(b,N);null!==G&&a.set(h.key,G),b.isValidDocument()||b.convertToNoDocument(gr.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hr())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(t,a)=>uh(t,a))&&ki(this.baseMutations,e.baseMutations,(t,a)=>uh(t,a))}}class Qg{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){Rn(e.mutations.length===a.length);let h=Nu;const m=e.mutations;for(let b=0;b<m.length;b++)h=h.insert(m[b].key,a[b].version);return new Qg(e,t,a,h)}}class jl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class H_{constructor(e){this.count=e}}var Io,Fi;function Cy(s){switch(s){default:return fn();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function Jg(s){if(void 0===s)return tr("GRPC error has no .code"),kt.UNKNOWN;switch(s){case Io.OK:return kt.OK;case Io.CANCELLED:return kt.CANCELLED;case Io.UNKNOWN:return kt.UNKNOWN;case Io.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case Io.INTERNAL:return kt.INTERNAL;case Io.UNAVAILABLE:return kt.UNAVAILABLE;case Io.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case Io.NOT_FOUND:return kt.NOT_FOUND;case Io.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case Io.ABORTED:return kt.ABORTED;case Io.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case Io.DATA_LOSS:return kt.DATA_LOSS;default:return fn()}}(Fi=Io||(Io={}))[Fi.OK=0]="OK",Fi[Fi.CANCELLED=1]="CANCELLED",Fi[Fi.UNKNOWN=2]="UNKNOWN",Fi[Fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fi[Fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fi[Fi.NOT_FOUND=5]="NOT_FOUND",Fi[Fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fi[Fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fi[Fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fi[Fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fi[Fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fi[Fi.ABORTED=10]="ABORTED",Fi[Fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fi[Fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fi[Fi.INTERNAL=13]="INTERNAL",Fi[Fi.UNAVAILABLE=14]="UNAVAILABLE",Fi[Fi.DATA_LOSS=15]="DATA_LOSS";class Ep{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ip}static getOrCreateInstance(){return null===Ip&&(Ip=new Ep),Ip}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ip=null;class dh{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const h=new Map;return h.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new dh(gr.min(),h,ku(),_i(),Hr())}}class hh{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new hh(a,t,Hr(),Hr(),Hr())}}class Sd{constructor(e,t,a,h){this.It=e,this.removedTargetIds=t,this.key=a,this.Tt=h}}class sc{constructor(e,t){this.targetId=e,this.Et=t}}class ou{constructor(e,t,a=Wn.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class wp{constructor(){this.At=0,this.Rt=z_(),this.vt=Wn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Hr(),t=Hr(),a=Hr();return this.Rt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:fn()}}),new hh(this.vt,this.bt,e,t,a)}xt(){this.Pt=!1,this.Rt=z_()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Dy{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=_i(),this.qt=em(),this.Ut=new ft(or)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const a=this.jt(t);switch(e.state){case 0:this.Wt(t)&&a.Dt(e.resumeToken);break;case 1:a.$t(),a.Vt||a.xt(),a.Dt(e.resumeToken);break;case 2:a.$t(),a.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(a.Mt(),a.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),a.Dt(e.resumeToken));break;default:fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((a,h)=>{this.Wt(h)&&t(h)})}Jt(e){var t;const a=e.targetId,h=e.Et.count,m=this.Yt(a);if(m){const b=m.target;if(_d(b))if(0===h){const N=new Nn(b.path);this.Qt(a,N,Vi.newNoDocument(N,gr.min()))}else Rn(1===h);else{const N=this.Zt(a);N!==h&&(this.Ht(a),this.Ut=this.Ut.add(a),null===(t=Ep.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:N,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((m,b)=>{const N=this.Yt(b);if(N){if(m.current&&_d(N.target)){const G=new Nn(N.target.path);null!==this.Lt.get(G)||this.te(b,G)||this.Qt(b,G,Vi.newNoDocument(G,e))}m.St&&(t.set(b,m.Ct()),m.xt())}});let a=Hr();this.qt.forEach((m,b)=>{let N=!0;b.forEachWhile(G=>{const ee=this.Yt(G);return!ee||2===ee.purpose||(N=!1,!1)}),N&&(a=a.add(m))}),this.Lt.forEach((m,b)=>b.setReadTime(e));const h=new dh(e,t,this.Ut,this.Lt,a);return this.Lt=_i(),this.qt=em(),this.Ut=new ft(or),h}Gt(e,t){if(!this.Wt(e))return;const a=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,a),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,a){if(!this.Wt(e))return;const h=this.jt(e);this.te(e,t)?h.Nt(t,1):h.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),a&&(this.Lt=this.Lt.insert(t,a))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new wp,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ft(or),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Gt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new wp),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function em(){return new ie(Nn.comparator)}function z_(){return new ie(Nn.comparator)}const Ty={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tm={and:"AND",or:"OR"};class nm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uu(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rm(s,e){return fh(s,e.toTimestamp())}function Zs(s){return Rn(!!s),gr.fromTimestamp(function(e){const t=ai(e);return new Ti(t.seconds,t.nanos)}(s))}function Nc(s,e){return(t=s,new oi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mf(s){const e=oi.fromString(s);return Rn(Ef(e)),e}function Vu(s,e){return Nc(s.databaseId,e.path)}function oc(s,e){const t=mf(e);if(t.get(1)!==s.databaseId.projectId)throw new tn(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new tn(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Nn(bp(t))}function ph(s,e){return Nc(s.databaseId,e)}function im(s){const e=mf(s);return 4===e.length?oi.emptyPath():bp(e)}function ju(s){return new oi(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bp(s){return Rn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Qs(s,e,t){return{name:Vu(s,e),fields:t.value.mapValue.fields}}function au(s,e,t){const a=oc(s,e.name),h=Zs(e.updateTime),m=e.createTime?Zs(e.createTime):gr.min(),b=new qs({mapValue:{fields:e.fields}}),N=Vi.newFoundDocument(a,h,m,b);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}function gh(s,e){let t;if(e instanceof Td)t={update:Qs(s,e.key,e.value)};else if(e instanceof su)t={delete:Vu(s,e.key)};else if(e instanceof Oc)t={update:Qs(s,e.key,e.data),updateMask:Tp(e.fieldMask)};else{if(!(e instanceof gf))return fn();t={verify:Vu(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const b=m.transform;if(b instanceof wd)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Fu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof bd)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Cd)return{fieldPath:m.field.canonicalString(),increment:b._t};throw fn()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:rm(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:fn()),t;var h}function sm(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ms.updateTime(Zs(h.updateTime)):void 0!==h.exists?Ms.exists(h.exists):Ms.none():Ms.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,b){let N=null;"setToServerValue"in b?(Rn("REQUEST_TIME"===b.setToServerValue),N=new wd):"appendMissingElements"in b?N=new Fu(b.appendMissingElements.values||[]):"removeAllFromArray"in b?N=new bd(b.removeAllFromArray.values||[]):"increment"in b?N=new Cd(m,b.increment):fn();const G=$i.fromServerFormat(b.fieldPath);return new iu(G,N)}(s,h)):[];var h;if(e.update){const h=oc(s,e.update.name),m=new qs({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Hn((e.updateMask.fieldPaths||[]).map(ee=>$i.fromServerFormat(ee)));return new Oc(h,m,b,t,a)}return new Td(h,m,t,a)}if(e.delete){const h=oc(s,e.delete);return new su(h,t)}if(e.verify){const h=oc(s,e.verify);return new gf(h,t)}return fn()}function om(s,e){return{documents:[ph(s,e.path)]}}function am(s,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=ph(s,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ph(s,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(G){if(0!==G.length)return vf(Wi.create(G,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(G){if(0!==G.length)return G.map(ee=>{return{field:Fc((_e=ee).field),direction:kc(_e.dir)};var _e})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const b=(ee=e.limit,s.useProto3Json||ya(ee)?ee:{value:ee});var ee,N,G;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function _f(s){let e=im(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){Rn(1===a);const _e=t.from[0];_e.allDescendants?h=_e.collectionId:e=e.child(_e.collectionId)}let m=[];t.where&&(m=function(_e){const st=W_(_e);return st instanceof Wi&&Su(st)?st.getFilters():[st]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(_e=>{return new Ac(ac((st=_e).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(st.direction));var st}));let N=null;t.limit&&(N=function(_e){let st;return st="object"==typeof _e?_e.value:_e,ya(st)?null:st}(t.limit));let G=null;var _e;t.startAt&&(G=new za((_e=t.startAt).values||[],!!_e.before));let ee=null;return t.endAt&&(ee=function(_e){return new za(_e.values||[],!_e.before)}(t.endAt)),Ul(e,h,b,m,N,"F",G,ee)}function W_(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ac(e.unaryFilter.field);return ui.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=ac(e.unaryFilter.field);return ui.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ac(e.unaryFilter.field);return ui.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ac(e.unaryFilter.field);return ui.create(m,"!=",{nullValue:"NULL_VALUE"});default:return fn()}}(s):void 0!==s.fieldFilter?ui.create(ac((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return Wi.create(e.compositeFilter.filters.map(t=>W_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return fn()}}(e.compositeFilter.op))}(s):fn();var e}function kc(s){return Ty[s]}function Dp(s){return G_[s]}function cm(s){return tm[s]}function Fc(s){return{fieldPath:s.canonicalString()}}function ac(s){return $i.fromServerFormat(s.fieldPath)}function vf(s){return s instanceof ui?function(e){if("=="===e.op){if(ud(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NAN"}};if(rc(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ud(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NOT_NAN"}};if(rc(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(e.field),op:Dp(e.op),value:e.value}}}(s):s instanceof Wi?function(e){const t=e.getFilters().map(a=>vf(a));return 1===t.length?t[0]:{compositeFilter:{op:cm(e.op),filters:t}}}(s):fn()}function Tp(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ef(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class lc{constructor(e,t,a,h,m=gr.min(),b=gr.min(),N=Wn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=N}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sp{constructor(e){this.se=e}}function Mp(s,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Vu(h=s.se,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:fh(h,m.version.toTimestamp()),createTime:fh(h,m.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:lu(e.version)};else{if(!e.isUnknownDocument())return fn();a.unknownDocument={path:t.path.toArray(),version:lu(e.version)}}var h,m;return a}function Rp(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lc(s){const e=new Ti(s.seconds,s.nanoseconds);return gr.fromTimestamp(e)}function Bc(s,e){const t=(e.baseMutations||[]).map(m=>sm(s.se,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const a=e.mutations.map(m=>sm(s.se,m)),h=Ti.fromMillis(e.localWriteTimeMs);return new vp(e.batchId,h,t,a)}function cc(s){const e=Lc(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?Lc(s.lastLimboFreeSnapshotVersion):gr.min();let a;var h;return void 0!==s.query.documents?(Rn(1===(h=s.query).documents.length),a=M(sl(im(h.documents[0])))):a=M(_f(s.query)),new lc(a,s.targetId,0,s.lastListenSequenceNumber,e,t,Wn.fromBase64String(s.resumeToken))}function um(s,e){const t=lu(e.snapshotVersion),a=lu(e.lastLimboFreeSnapshotVersion);let h;h=_d(e.target)?om(s.se,e.target):am(s.se,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pu(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function If(s){const e=_f({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?I(e,e.limit,"L"):e}function mh(s,e){return new jl(e.largestBatchId,sm(s.se,e.overlayMutation))}function dm(s,e){const t=e.path.lastSegment();return[s,pi(e.path.popLast()),t]}function yh(s,e,t,a){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:lu(a.readTime),documentKey:pi(a.documentKey.path),largestBatchId:a.largestBatchId}}class _h{getBundleMetadata(e,t){return $c(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:Lc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return $c(e).put({bundleId:(a=t).id,createTime:lu(Zs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return vh(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:If(h.bundledQuery),readTime:Lc(h.readTime)};var h})}saveNamedQuery(e,t){return vh(e).put({name:(a=t).name,readTime:lu(Zs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function $c(s){return bs(s,"bundles")}function vh(s){return bs(s,"namedQueries")}class Hl{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Hl(e,t.uid||"")}getOverlay(e,t){return Ad(e).get(dm(this.userId,t)).next(a=>a?mh(this.serializer,a):null)}getOverlays(e,t){const a=Lo();return Ft.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((m,b)=>{const N=new jl(t,b);h.push(this.re(e,N))}),Ft.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(b=>h.add(pi(b.getCollectionPath())));const m=[];return h.forEach(b=>{const N=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);m.push(Ad(e).J("collectionPathOverlayIndex",N))}),Ft.waitFor(m)}getOverlaysForCollection(e,t,a){const h=Lo(),m=pi(t),b=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Ad(e).j("collectionPathOverlayIndex",b).next(N=>{for(const G of N){const ee=mh(this.serializer,G);h.set(ee.getKey(),ee)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=Lo();let b;const N=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ad(e).Z({index:"collectionGroupOverlayIndex",range:N},(G,ee,_e)=>{const st=mh(this.serializer,ee);m.size()<h||st.largestBatchId===b?(m.set(st.getKey(),st),b=st.largestBatchId):_e.done()}).next(()=>m)}re(e,t){return Ad(e).put(function(a,h,m){const[b,N,G]=dm(h,m.mutation.key);return{userId:h,collectionPath:N,documentId:G,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:gh(a.se,m.mutation)}}(this.serializer,this.userId,t))}}function Ad(s){return bs(s,"documentOverlays")}class Hu{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(ts(e.integerValue));else if("doubleValue"in e){const a=ts(e.doubleValue);isNaN(a)?this.ae(t,13):(this.ae(t,15),ec(a)?t.he(0):t.he(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ae(t,20),"string"==typeof a?t.le(a):(t.le(`${a.seconds||""}`),t.he(a.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(ja(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ae(t,45),t.he(a.latitude||0),t.he(a.longitude||0)}else"mapValue"in e?Tc(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):fn()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const a=e.fields||{};this.ae(t,55);for(const h of Object.keys(a))this.fe(h,t),this.ue(a[h],t)}ge(e,t){const a=e.values||[];this.ae(t,50);for(const h of a)this.ue(h,t)}_e(e,t){this.ae(t,37),Nn.fromName(e).path.forEach(a=>{this.ae(t,60),this.ye(a,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function Ay(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function Uc(s){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=Ay(255&t[h]);if(a+=m,8!==m)break}return a}(s);return Math.ceil(e/8)}Hu.pe=new Hu;class My{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Te(a.value),a=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Re(a.value),a=t.next();this.ve()}be(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Te(a);else if(a<2048)this.Te(960|a>>>6),this.Te(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Te(480|a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a);else{const h=t.codePointAt(0);this.Te(240|h>>>18),this.Te(128|63&h>>>12),this.Te(128|63&h>>>6),this.Te(128|63&h)}}this.Ee()}Pe(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Re(a);else if(a<2048)this.Re(960|a>>>6),this.Re(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Re(480|a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a);else{const h=t.codePointAt(0);this.Re(240|h>>>18),this.Re(128|63&h>>>12),this.Re(128|63&h>>>6),this.Re(128|63&h)}}this.ve()}Ve(e){const t=this.Se(e),a=Uc(t);this.De(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Ce(e){const t=this.Se(e),a=Uc(t);this.De(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class K_{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class wf{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class cu{constructor(){this.Me=new My,this.Fe=new K_(this.Me),this.Be=new wf(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Md{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Md(this.indexId,this.documentKey,this.arrayValue,a)}}function uu(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=Ry(s.arrayValue,e.arrayValue),0!==t?t:(t=Ry(s.directionalValue,e.directionalValue),0!==t?t:Nn.comparator(s.documentKey,e.documentKey)))}function Ry(s,e){for(let t=0;t<s.length&&t<e.length;++t){const a=s[t]-e[t];if(0!==a)return a}return s.length-e.length}class xp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ge=a:this.Ke.push(a)}}Qe(e){Rn(e.collectionGroup===this.collectionId);const t=es(e);if(void 0!==t&&!this.ze(t))return!1;const a=Go(e);let h=0,m=0;for(;h<a.length&&this.ze(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Ge){const b=a[h];if(!this.je(this.Ge,b)||!this.We(this.Ue[m++],b))return!1;++h}for(;h<a.length;++h)if(m>=this.Ue.length||!this.We(this.Ue[m++],a[h]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pp(s){var e,t;if(Rn(s instanceof ui||s instanceof Wi),s instanceof ui){if(s instanceof md){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>ui.create(s.field,"==",m)))||[];return Wi.create(h,"or")}return s}const a=s.filters.map(h=>Pp(h));return Wi.create(a,s.op)}function xy(s){if(0===s.getFilters().length)return[];const e=uc(Pp(s));return Rn(ba(e)),Rd(e)||xd(e)?[e]:e.getFilters()}function Rd(s){return s instanceof ui}function xd(s){return s instanceof Wi&&Su(s)}function ba(s){return Rd(s)||xd(s)||function(e){if(e instanceof Wi&&pd(e)){for(const t of e.getFilters())if(!Rd(t)&&!xd(t))return!1;return!0}return!1}(s)}function uc(s){if(Rn(s instanceof ui||s instanceof Wi),s instanceof ui)return s;if(1===s.filters.length)return uc(s.filters[0]);const e=s.filters.map(a=>uc(a));let t=Wi.create(e,s.op);return t=Eh(t),ba(t)?t:(Rn(t instanceof Wi),Rn(ao(t)),Rn(t.filters.length>1),t.filters.reduce((a,h)=>hm(a,h)))}function hm(s,e){let t;return Rn(s instanceof ui||s instanceof Wi),Rn(e instanceof ui||e instanceof Wi),t=s instanceof ui?e instanceof ui?Wi.create([s,e],"and"):Op(s,e):e instanceof ui?Op(e,s):function(a,h){if(Rn(a.filters.length>0&&h.filters.length>0),ao(a)&&ao(h))return Mu(a,h.getFilters());const m=pd(a)?a:h,b=pd(a)?h:a,N=m.filters.map(G=>hm(G,b));return Wi.create(N,"or")}(s,e),Eh(t)}function Op(s,e){if(ao(e))return Mu(e,s.getFilters());{const t=e.filters.map(a=>hm(s,a));return Wi.create(t,"or")}}function Eh(s){if(Rn(s instanceof ui||s instanceof Wi),s instanceof ui)return s;const e=s.getFilters();if(1===e.length)return Eh(e[0]);if(gd(s))return s;const t=e.map(h=>Eh(h)),a=[];return t.forEach(h=>{h instanceof ui?a.push(h):h instanceof Wi&&(h.op===s.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Wi.create(a,s.op)}class bf{constructor(){this.He=new Pd}addToCollectionParentIndex(e,t){return this.He.add(t),Ft.resolve()}getCollectionParents(e,t){return Ft.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return Ft.resolve()}deleteFieldIndex(e,t){return Ft.resolve()}getDocumentsMatchingTarget(e,t){return Ft.resolve(null)}getIndexType(e,t){return Ft.resolve(0)}getFieldIndexes(e,t){return Ft.resolve([])}getNextCollectionGroupToUpdate(e){return Ft.resolve(null)}getMinOffset(e,t){return Ft.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,t){return Ft.resolve(yo.min())}updateCollectionGroup(e,t,a){return Ft.resolve()}updateIndexEntries(e,t){return Ft.resolve()}}class Pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new ft(oi.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new ft(oi.comparator)).toArray()}}const Cf=new Uint8Array(0);class bl{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new Pd,this.Ye=new Sn(a=>Pu(a),(a,h)=>wl(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const m={collectionId:a,parent:pi(h)};return Df(e).put(m)}return Ft.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[Fa(t),""],!1,!0);return Df(e).j(h).next(m=>{for(const b of m){if(b.collectionId!==t)break;a.push(oo(b.parent))}return a})}addFieldIndex(e,t){const a=Nd(e),h={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var b;delete h.indexId;const m=a.add(h);if(t.indexState){const b=zu(e);return m.next(N=>{b.put(yh(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const a=Nd(e),h=zu(e),m=Od(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Od(e);let h=!0;const m=new Map;return Ft.forEach(this.Ze(t),b=>this.Xe(e,b).next(N=>{h&&(h=!!N),m.set(b,N)})).next(()=>{if(h){let b=Hr();const N=[];return Ft.forEach(m,(G,ee)=>{var _e;Gt("IndexedDbIndexManager",`Using index ${_e=G,`id=${_e.indexId}|cg=${_e.collectionGroup}|f=${_e.fields.map(Mi=>`${Mi.fieldPath}:${Mi.kind}`).join(",")}`} to execute ${Pu(t)}`);const st=function(Mi,Ta){const ks=es(Ta);if(void 0===ks)return null;for(const Fs of Eo(Mi,ks.fieldPath))switch(Fs.op){case"array-contains-any":return Fs.value.arrayValue.values||[];case"array-contains":return[Fs.value]}return null}(ee,G),xt=function(Mi,Ta){const ks=new Map;for(const Fs of Go(Ta))for(const Sl of Eo(Mi,Fs.fieldPath))switch(Sl.op){case"==":case"in":ks.set(Fs.fieldPath.canonicalString(),Sl.value);break;case"not-in":case"!=":return ks.set(Fs.fieldPath.canonicalString(),Sl.value),Array.from(ks.values())}return null}(ee,G),en=function(Mi,Ta){const ks=[];let Fs=!0;for(const Sl of Go(Ta)){const nf=0===Sl.kind?eu(Mi,Sl.fieldPath,Mi.startAt):tu(Mi,Sl.fieldPath,Mi.startAt);ks.push(nf.value),Fs&&(Fs=nf.inclusive)}return new za(ks,Fs)}(ee,G),Dn=function(Mi,Ta){const ks=[];let Fs=!0;for(const Sl of Go(Ta)){const nf=0===Sl.kind?tu(Mi,Sl.fieldPath,Mi.endAt):eu(Mi,Sl.fieldPath,Mi.endAt);ks.push(nf.value),Fs&&(Fs=nf.inclusive)}return new za(ks,Fs)}(ee,G),Qn=this.tn(G,ee,en),Ir=this.tn(G,ee,Dn),Ki=this.en(G,ee,xt),Ns=this.nn(G.indexId,st,Qn,en.inclusive,Ir,Dn.inclusive,Ki);return Ft.forEach(Ns,Mi=>a.H(Mi,t.limit).next(Ta=>{Ta.forEach(ks=>{const Fs=Nn.fromSegments(ks.documentKey);b.has(Fs)||(b=b.add(Fs),N.push(Fs))})}))}).next(()=>N)}return Ft.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:xy(Wi.create(e.filters,"and")).map(a=>xu(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,a,h,m,b,N){const G=(null!=t?t.length:1)*Math.max(a.length,m.length),ee=G/(null!=t?t.length:1),_e=[];for(let st=0;st<G;++st){const xt=t?this.sn(t[st/ee]):Cf,en=this.rn(e,xt,a[st%ee],h),Dn=this.on(e,xt,m[st%ee],b),Qn=N.map(Ir=>this.rn(e,xt,Ir,!0));_e.push(...this.createRange(en,Dn,Qn))}return _e}rn(e,t,a,h){const m=new Md(e,Nn.empty(),t,a);return h?m:m.qe()}on(e,t,a,h){const m=new Md(e,Nn.empty(),t,a);return h?m.qe():m}Xe(e,t){const a=new xp(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let b=null;for(const N of m)a.Qe(N)&&(!b||N.fields.length>b.fields.length)&&(b=N);return b})}getIndexType(e,t){let a=2;const h=this.Ze(t);return Ft.forEach(h,m=>this.Xe(e,m).next(b=>{b?0!==a&&b.fields.length<function(N){let G=new ft($i.comparator),ee=!1;for(const _e of N.filters)for(const st of _e.getFlattenedFilters())st.field.isKeyField()||("array-contains"===st.op||"array-contains-any"===st.op?ee=!0:G=G.add(st.field));for(const _e of N.orderBy)_e.field.isKeyField()||(G=G.add(_e.field));return G.size+(ee?1:0)}(m)&&(a=1):a=0})).next(()=>null!==t.limit&&h.length>1&&2===a?1:a)}un(e,t){const a=new cu;for(const h of Go(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const b=a.Le(h.kind);Hu.pe.oe(m,b)}return a.$e()}sn(e){const t=new cu;return Hu.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const a=new cu;return Hu.pe.oe(nc(this.databaseId,t),a.Le(function(h){const m=Go(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.$e()}en(e,t,a){if(null===a)return[];let h=[];h.push(new cu);let m=0;for(const b of Go(e)){const N=a[m++];for(const G of h)if(this.an(t,b.fieldPath)&&Il(N))h=this.hn(h,b,N);else{const ee=G.Le(b.kind);Hu.pe.oe(N,ee)}}return this.ln(h)}tn(e,t,a){return this.en(e,t,a.position)}ln(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}hn(e,t,a){const h=[...e],m=[];for(const b of a.arrayValue.values||[])for(const N of h){const G=new cu;G.seed(N.$e()),Hu.pe.oe(b,G.Le(t.kind)),m.push(G)}return m}an(e,t){return!!e.filters.find(a=>a instanceof ui&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Nd(e),h=zu(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(m=>{const b=[];return Ft.forEach(m,N=>h.get([N.indexId,this.uid]).next(G=>{b.push(function(ee,_e){const st=_e?new os(_e.sequenceNumber,new yo(Lc(_e.readTime),new Nn(oo(_e.documentKey)),_e.largestBatchId)):os.empty(),xt=ee.fields.map(([en,Dn])=>new Ol($i.fromServerFormat(en),Dn));return new Is(ee.indexId,ee.collectionGroup,xt,st)}(N,G))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:or(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=Nd(e),m=zu(e);return this.fn(e).next(b=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>Ft.forEach(N,G=>m.put(yh(G.indexId,this.user,b,a)))))}updateIndexEntries(e,t){const a=new Map;return Ft.forEach(t,(h,m)=>{const b=a.get(h.collectionGroup);return(b?Ft.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(N=>(a.set(h.collectionGroup,N),Ft.forEach(N,G=>this.dn(e,h,G).next(ee=>{const _e=this.wn(m,G);return ee.isEqual(_e)?Ft.resolve():this._n(e,m,G,ee,_e)}))))})}mn(e,t,a,h){return Od(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.cn(a,t.key),documentKey:t.key.path.toArray()})}gn(e,t,a,h){return Od(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.cn(a,t.key),t.key.path.toArray()])}dn(e,t,a){const h=Od(e);let m=new ft(uu);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.cn(a,t)])},(b,N)=>{m=m.add(new Md(a.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>m)}wn(e,t){let a=new ft(uu);const h=this.un(t,e);if(null==h)return a;const m=es(t);if(null!=m){const b=e.data.field(m.fieldPath);if(Il(b))for(const N of b.arrayValue.values||[])a=a.add(new Md(t.indexId,e.key,this.sn(N),h))}else a=a.add(new Md(t.indexId,e.key,Cf,h));return a}_n(e,t,a,h,m){Gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(N,G,ee,_e,st){const xt=N.getIterator(),en=G.getIterator();let Dn=Un(xt),Qn=Un(en);for(;Dn||Qn;){let Ir=!1,Ki=!1;if(Dn&&Qn){const Ns=ee(Dn,Qn);Ns<0?Ki=!0:Ns>0&&(Ir=!0)}else null!=Dn?Ki=!0:Ir=!0;Ir?(_e(Qn),Qn=Un(en)):Ki?(st(Dn),Dn=Un(xt)):(Dn=Un(xt),Qn=Un(en))}}(h,m,uu,N=>{b.push(this.mn(e,t,a,N))},N=>{b.push(this.gn(e,t,a,N))}),Ft.waitFor(b)}fn(e){let t=1;return zu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((b,N)=>uu(b,N)).filter((b,N,G)=>!N||0!==uu(b,G[N-1]));const h=[];h.push(e);for(const b of a){const N=uu(b,e),G=uu(b,t);if(0===N)h[0]=e.qe();else if(N>0&&G<0)h.push(b),h.push(b.qe());else if(G>0)break}h.push(t);const m=[];for(let b=0;b<h.length;b+=2){if(this.yn(h[b],h[b+1]))return[];m.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,Cf,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,Cf,[]]))}return m}yn(e,t){return uu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qo)}getMinOffset(e,t){return Ft.mapArray(this.Ze(t),a=>this.Xe(e,a).next(h=>h||fn())).next(qo)}}function Df(s){return bs(s,"collectionParents")}function Od(s){return bs(s,"indexEntries")}function Nd(s){return bs(s,"indexConfiguration")}function zu(s){return bs(s,"indexState")}function qo(s){Rn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<s.length;a++){const h=s[a].indexState.offset;la(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new yo(e.readTime,e.documentKey,t)}const fm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class al{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new al(e,al.DEFAULT_COLLECTION_PERCENTILE,al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pm(s,e,t){const a=s.store("mutations"),h=s.store("documentMutations"),m=[],b=IDBKeyRange.only(t.batchId);let N=0;const G=a.Z({range:b},(_e,st,xt)=>(N++,xt.delete()));m.push(G.next(()=>{Rn(1===N)}));const ee=[];for(const _e of t.mutations){const st=R(e,_e.key.path,t.batchId);m.push(h.delete(st)),ee.push(_e.key)}return Ft.waitFor(m).next(()=>ee)}function Np(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw fn();e=s.noDocument}return JSON.stringify(e).length}al.DEFAULT_COLLECTION_PERCENTILE=10,al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,al.DEFAULT=new al(41943040,al.DEFAULT_COLLECTION_PERCENTILE,al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),al.DISABLED=new al(-1,0,0);class kp{constructor(e,t,a,h){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=h,this.pn={}}static ie(e,t,a,h){Rn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new kp(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Z({index:"userMutationsIndex",range:a},(h,m,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=Wa(e),b=du(e);return b.add({}).next(N=>{Rn("number"==typeof N);const G=new vp(N,t,a,h),ee=function(xt,en,Dn){const Qn=Dn.baseMutations.map(Ki=>gh(xt.se,Ki)),Ir=Dn.mutations.map(Ki=>gh(xt.se,Ki));return{userId:en,batchId:Dn.batchId,localWriteTimeMs:Dn.localWriteTime.toMillis(),baseMutations:Qn,mutations:Ir}}(this.serializer,this.userId,G),_e=[];let st=new ft((xt,en)=>or(xt.canonicalString(),en.canonicalString()));for(const xt of h){const en=R(this.userId,xt.key.path,N);st=st.add(xt.key.path.popLast()),_e.push(b.put(ee)),_e.push(m.put(en,w))}return st.forEach(xt=>{_e.push(this.indexManager.addToCollectionParentIndex(e,xt))}),e.addOnCommittedListener(()=>{this.pn[N]=G.keys()}),Ft.waitFor(_e).next(()=>G)})}lookupMutationBatch(e,t){return du(e).get(t).next(a=>a?(Rn(a.userId===this.userId),Bc(this.serializer,a)):null)}In(e,t){return this.pn[t]?Ft.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.pn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return du(e).Z({index:"userMutationsIndex",range:h},(b,N,G)=>{N.userId===this.userId&&(Rn(N.batchId>=a),m=Bc(this.serializer,N)),G.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return du(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,m,b)=>{a=m.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).j("userMutationsIndex",t).next(a=>a.map(h=>Bc(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=S(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return Wa(e).Z({range:h},(b,N,G)=>{const[ee,_e,st]=b,xt=oo(_e);if(ee===this.userId&&t.path.isEqual(xt))return du(e).get(st).next(en=>{if(!en)throw fn();Rn(en.userId===this.userId),m.push(Bc(this.serializer,en))});G.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new ft(or);const h=[];return t.forEach(m=>{const b=S(this.userId,m.path),N=IDBKeyRange.lowerBound(b),G=Wa(e).Z({range:N},(ee,_e,st)=>{const[xt,en,Dn]=ee,Qn=oo(en);xt===this.userId&&m.path.isEqual(Qn)?a=a.add(Dn):st.done()});h.push(G)}),Ft.waitFor(h).next(()=>this.Tn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=S(this.userId,a),b=IDBKeyRange.lowerBound(m);let N=new ft(or);return Wa(e).Z({range:b},(G,ee,_e)=>{const[st,xt,en]=G,Dn=oo(xt);st===this.userId&&a.isPrefixOf(Dn)?Dn.length===h&&(N=N.add(en)):_e.done()}).next(()=>this.Tn(e,N))}Tn(e,t){const a=[],h=[];return t.forEach(m=>{h.push(du(e).get(m).next(b=>{if(null===b)throw fn();Rn(b.userId===this.userId),a.push(Bc(this.serializer,b))}))}),Ft.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return pm(e.at,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),Ft.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ft.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Wa(e).Z({range:a},(m,b,N)=>{if(m[0]===this.userId){const G=oo(m[1]);h.push(G)}else N.done()}).next(()=>{Rn(0===h.length)})})}containsKey(e,t){return Py(e,this.userId,t)}An(e){return dc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Py(s,e,t){const a=S(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let b=!1;return Wa(s).Z({range:m,Y:!0},(N,G,ee)=>{const[_e,st,xt]=N;_e===e&&st===h&&(b=!0),ee.done()}).next(()=>b)}function du(s){return bs(s,"mutations")}function Wa(s){return bs(s,"documentMutations")}function dc(s){return bs(s,"mutationQueues")}class Gu{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Gu(0)}static bn(){return new Gu(-1)}}class q_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const a=new Gu(t.highestTargetId);return t.highestTargetId=a.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>gr.fromTimestamp(new Ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Pn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Vn(e,h)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(a=>(a.targetCount+=1,this.Dn(t,a),this.Vn(e,a))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kd(e).delete(t.targetId)).next(()=>this.Pn(e)).next(a=>(Rn(a.targetCount>0),a.targetCount-=1,this.Vn(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return kd(e).Z((b,N)=>{const G=cc(N);G.sequenceNumber<=t&&null===a.get(G.targetId)&&(h++,m.push(this.removeTargetData(e,G)))}).next(()=>Ft.waitFor(m)).next(()=>h)}forEachTarget(e,t){return kd(e).Z((a,h)=>{const m=cc(h);t(m)})}Pn(e){return Fp(e).get("targetGlobalKey").next(t=>(Rn(null!==t),t))}Vn(e,t){return Fp(e).put("targetGlobalKey",t)}Sn(e,t){return kd(e).put(um(this.serializer,t))}Dn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=Pu(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return kd(e).Z({range:h,index:"queryTargetsIndex"},(b,N,G)=>{const ee=cc(N);wl(t,ee.target)&&(m=ee,G.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=hu(e);return t.forEach(b=>{const N=pi(b.path);h.push(m.put({targetId:a,path:N})),h.push(this.referenceDelegate.addReference(e,a,b))}),Ft.waitFor(h)}removeMatchingKeys(e,t,a){const h=hu(e);return Ft.forEach(t,m=>{const b=pi(m.path);return Ft.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=hu(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=hu(e);let m=Hr();return h.Z({range:a,Y:!0},(b,N,G)=>{const ee=oo(b[1]),_e=new Nn(ee);m=m.add(_e)}).next(()=>m)}containsKey(e,t){const a=pi(t.path),h=IDBKeyRange.bound([a],[Fa(a)],!1,!0);let m=0;return hu(e).Z({index:"documentTargetsIndex",Y:!0,range:h},([b,N],G,ee)=>{0!==b&&(m++,ee.done())}).next(()=>m>0)}ne(e,t){return kd(e).get(t).next(a=>a?cc(a):null)}}function kd(s){return bs(s,"targets")}function Fp(s){return bs(s,"targetGlobal")}function hu(s){return bs(s,"targetDocuments")}function gm([s,e],[t,a]){const h=or(s,t);return 0===h?or(e,a):h}class Oy{constructor(e){this.Cn=e,this.buffer=new ft(gm),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();gm(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ny{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){ci(a)?Gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield _o(a)}yield t.$n(3e5)}))}}class Y_{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Ft.resolve(No.ct);const a=new Oy(t);return this.Mn.forEachTarget(e,h=>a.kn(h.sequenceNumber)).next(()=>this.Mn.Bn(e,h=>a.kn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Mn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector","Garbage collection skipped; disabled"),Ft.resolve(fm)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fm):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let a,h,m,b,N,G,ee;const _e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(st=>(st>this.params.maximumSequenceNumbersToCollect?(Gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${st}`),h=this.params.maximumSequenceNumbersToCollect):h=st,b=Date.now(),this.nthSequenceNumber(e,h))).next(st=>(a=st,N=Date.now(),this.removeTargets(e,a,t))).next(st=>(m=st,G=Date.now(),this.removeOrphanedDocuments(e,a))).next(st=>(ee=Date.now(),$n()<=Me.in.DEBUG&&Gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-_e}ms\n\tDetermined least recently used ${h} in `+(N-b)+`ms\n\tRemoved ${m} targets in `+(G-N)+`ms\n\tRemoved ${st} documents in `+(ee-G)+`ms\nTotal Duration: ${ee-_e}ms`),Ft.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:st})))}}class mm{constructor(e,t){this.db=e,this.garbageCollector=new Y_(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}qn(e){let t=0;return this.Bn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(a,h)=>t(h))}addReference(e,t,a){return Lp(e,a)}removeReference(e,t,a){return Lp(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return Lp(e,t)}Kn(e,t){return function(a,h){let m=!1;return dc(a).X(b=>Py(a,b,h).next(N=>(N&&(m=!0),Ft.resolve(!N)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Un(e,(b,N)=>{if(N<=t){const G=this.Kn(e,b).next(ee=>{if(!ee)return m++,a.getEntry(e,b).next(()=>(a.removeEntry(b,gr.min()),hu(e).delete([0,pi(b.path)])))});h.push(G)}}).next(()=>Ft.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return Lp(e,t)}Un(e,t){const a=hu(e);let h,m=No.ct;return a.Z({index:"documentTargetsIndex"},([b,N],{path:G,sequenceNumber:ee})=>{0===b?(m!==No.ct&&t(new Nn(oo(h)),m),m=ee,h=G):m=No.ct}).next(()=>{m!==No.ct&&t(new Nn(oo(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lp(s,e){return hu(s).put((a=s.currentSequenceNumber,{targetId:0,path:pi(e.path),sequenceNumber:a}));var a}class ky{constructor(){this.changes=new Sn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Ft.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return zl(e).put(a)}removeEntry(e,t,a){return zl(e).delete(function(h,m){const b=h.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Rp(m),b[b.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Gn(e,a)))}getEntry(e,t){let a=Vi.newInvalidDocument(t);return zl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gl(t))},(h,m)=>{a=this.Qn(t,m)}).next(()=>a)}zn(e,t){let a={size:0,document:Vi.newInvalidDocument(t)};return zl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gl(t))},(h,m)=>{a={document:this.Qn(t,m),size:Np(m)}}).next(()=>a)}getEntries(e,t){let a=_i();return this.jn(e,t,(h,m)=>{const b=this.Qn(h,m);a=a.insert(h,b)}).next(()=>a)}Wn(e,t){let a=_i(),h=new ie(Nn.comparator);return this.jn(e,t,(m,b)=>{const N=this.Qn(m,b);a=a.insert(m,N),h=h.insert(m,Np(b))}).next(()=>({documents:a,Hn:h}))}jn(e,t,a){if(t.isEmpty())return Ft.resolve();let h=new ft(Tf);t.forEach(G=>h=h.add(G));const m=IDBKeyRange.bound(Gl(h.first()),Gl(h.last())),b=h.getIterator();let N=b.getNext();return zl(e).Z({index:"documentKeyIndex",range:m},(G,ee,_e)=>{const st=Nn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;N&&Tf(N,st)<0;)a(N,null),N=b.getNext();N&&N.isEqual(st)&&(a(N,ee),N=b.hasNext()?b.getNext():null),N?_e.G(Gl(N)):_e.done()}).next(()=>{for(;N;)a(N,null),N=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,t,a,h){const m=t.path,b=[m.popLast().toArray(),m.lastSegment(),Rp(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],N=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zl(e).j(IDBKeyRange.bound(b,N,!0)).next(G=>{let ee=_i();for(const _e of G){const st=this.Qn(Nn.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);st.isFoundDocument()&&(It(t,st)||h.has(st.key))&&(ee=ee.insert(st.key,st))}return ee})}getAllFromCollectionGroup(e,t,a,h){let m=_i();const b=Ly(t,a),N=Ly(t,yo.max());return zl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,N,!0)},(G,ee,_e)=>{const st=this.Qn(Nn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);m=m.insert(st.key,st),m.size===h&&_e.done()}).next(()=>m)}newChangeBuffer(e){return new ym(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fy(e).get("remoteDocumentGlobalKey").next(t=>(Rn(!!t),t))}Gn(e,t){return Fy(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const a=function Ap(s,e){let t;if(e.document)t=au(s.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Nn.fromSegments(e.noDocument.path),h=Lc(e.noDocument.readTime);t=Vi.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fn();{const a=Nn.fromSegments(e.unknownDocument.path),h=Lc(e.unknownDocument.version);t=Vi.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new Ti(a[0],a[1]);return gr.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(gr.min()))return a}return Vi.newInvalidDocument(e)}}function Bp(s){return new hc(s)}class ym extends ky{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Sn(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new ft((m,b)=>or(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const N=this.Yn.get(m);if(t.push(this.Jn.removeEntry(e,m,N.readTime)),b.isValidDocument()){const G=Mp(this.Jn.serializer,b);h=h.add(m.path.popLast());const ee=Np(G);a+=ee-N.size,t.push(this.Jn.addEntry(e,m,G))}else if(a-=N.size,this.trackRemovals){const G=Mp(this.Jn.serializer,b.convertToNoDocument(gr.min()));t.push(this.Jn.addEntry(e,m,G))}}),h.forEach(m=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Jn.updateMetadata(e,a)),Ft.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(a=>(this.Yn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:a,Hn:h})=>(h.forEach((m,b)=>{this.Yn.set(m,{size:b,readTime:a.get(m).readTime})}),a))}}function Fy(s){return bs(s,"remoteDocumentGlobal")}function zl(s){return bs(s,"remoteDocumentsV14")}function Gl(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ly(s,e){const t=e.documentKey.path.toArray();return[s,Rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Tf(s,e){const t=s.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=or(t[m],a[m]),h)return h;return h=or(t.length,a.length),h||(h=or(t[t.length-2],a[a.length-2]),h||or(t[t.length-1],a[a.length-1]))}class $p{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class By{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==a&&ch(a.mutation,h,Hn.empty(),Ti.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Hr()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Hr()){const h=Lo();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(m=>{let b=Vl();return m.forEach((N,G)=>{b=b.insert(N,G.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const a=Lo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Hr()))}populateOverlays(e,t,a){const h=[];return a.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((b,N)=>{t.set(b,N)})})}computeViews(e,t,a,h){let m=_i();const b=Ga(),N=Ga();return t.forEach((G,ee)=>{const _e=a.get(ee.key);h.has(ee.key)&&(void 0===_e||_e.mutation instanceof Oc)?m=m.insert(ee.key,ee):void 0!==_e?(b.set(ee.key,_e.mutation.getFieldMask()),ch(_e.mutation,ee,_e.mutation.getFieldMask(),Ti.now())):b.set(ee.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,m).next(G=>(G.forEach((ee,_e)=>b.set(ee,_e)),t.forEach((ee,_e)=>{var st;return N.set(ee,new $p(_e,null!==(st=b.get(ee))&&void 0!==st?st:null))}),N))}recalculateAndSaveOverlays(e,t){const a=Ga();let h=new ie((b,N)=>b-N),m=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const N of b)N.keys().forEach(G=>{const ee=t.get(G);if(null===ee)return;let _e=a.get(G)||Hn.empty();_e=N.applyToLocalView(ee,_e),a.set(G,_e);const st=(h.get(N.batchId)||Hr()).add(G);h=h.insert(N.batchId,st)})}).next(()=>{const b=[],N=h.getReverseIterator();for(;N.hasNext();){const G=N.getNext(),ee=G.key,_e=G.value,st=nu();_e.forEach(xt=>{if(!m.has(xt)){const en=ff(t.get(xt),a.get(xt));null!==en&&st.set(xt,en),m=m.add(xt)}}),b.push(this.documentOverlayCache.saveOverlays(e,ee,st))}return Ft.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return Nn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(m=>{const b=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-m.size):Ft.resolve(Lo());let N=-1,G=m;return b.next(ee=>Ft.forEach(ee,(_e,st)=>(N<st.largestBatchId&&(N=st.largestBatchId),m.get(_e)?Ft.resolve():this.remoteDocumentCache.getEntry(e,_e).next(xt=>{G=G.insert(_e,xt)}))).next(()=>this.populateOverlays(e,ee,m)).next(()=>this.computeViews(e,G,ee,Hr())).next(_e=>({batchId:N,changes:vd(_e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nn(t)).next(a=>{let h=Vl();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let m=Vl();return this.indexManager.getCollectionParents(e,h).next(b=>Ft.forEach(b,N=>{const G=(ee=t,_e=N.child(h),new il(_e,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,_e;return this.getDocumentsMatchingCollectionQuery(e,G,a).next(ee=>{ee.forEach((_e,st)=>{m=m.insert(_e,st)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,h))).next(m=>{h.forEach((N,G)=>{const ee=G.getKey();null===m.get(ee)&&(m=m.insert(ee,Vi.newInvalidDocument(ee)))});let b=Vl();return m.forEach((N,G)=>{const ee=h.get(N);void 0!==ee&&ch(ee.mutation,G,Hn.empty(),Ti.now()),It(t,G)&&(b=b.insert(N,G))}),b})}}class Ih{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ft.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:Zs(a.createTime)}),Ft.resolve()}getNamedQuery(e,t){return Ft.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(a=t).name,query:If(a.bundledQuery),readTime:Zs(a.readTime)}),Ft.resolve();var a}}class Jr{constructor(){this.overlays=new ie(Nn.comparator),this.ts=new Map}getOverlay(e,t){return Ft.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Lo();return Ft.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.re(e,t,m)}),Ft.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.ts.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ts.delete(a)),Ft.resolve()}getOverlaysForCollection(e,t,a){const h=Lo(),m=t.length+1,b=new Nn(t.child("")),N=this.overlays.getIteratorFrom(b);for(;N.hasNext();){const G=N.getNext().value,ee=G.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===m&&G.largestBatchId>a&&h.set(G.getKey(),G)}return Ft.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new ie((ee,_e)=>ee-_e);const b=this.overlays.getIterator();for(;b.hasNext();){const ee=b.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>a){let _e=m.get(ee.largestBatchId);null===_e&&(_e=Lo(),m=m.insert(ee.largestBatchId,_e)),_e.set(ee.getKey(),ee)}}const N=Lo(),G=m.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ee,_e)=>N.set(ee,_e)),!(N.size()>=h)););return Ft.resolve(N)}re(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.ts.get(h.largestBatchId).delete(a.key);this.ts.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new jl(t,a));let m=this.ts.get(t);void 0===m&&(m=Hr(),this.ts.set(t,m)),this.ts.set(t,m.add(a.key))}}class Sf{constructor(){this.es=new ft(wo.ns),this.ss=new ft(wo.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const a=new wo(e,t);this.es=this.es.add(a),this.ss=this.ss.add(a)}os(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.us(new wo(e,t))}cs(e,t){e.forEach(a=>this.removeReference(a,t))}hs(e){const t=new Nn(new oi([])),a=new wo(t,e),h=new wo(t,e+1),m=[];return this.ss.forEachInRange([a,h],b=>{this.us(b),m.push(b.key)}),m}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Nn(new oi([])),a=new wo(t,e),h=new wo(t,e+1);let m=Hr();return this.ss.forEachInRange([a,h],b=>{m=m.add(b.key)}),m}containsKey(e){const t=new wo(e,0),a=this.es.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class wo{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Nn.comparator(e.key,t.key)||or(e.ds,t.ds)}static rs(e,t){return or(e.ds,t.ds)||Nn.comparator(e.key,t.key)}}class _m{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new ft(wo.ns)}checkEmpty(e){return Ft.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const m=this.ws;this.ws++;const b=new vp(m,t,a,h);this.mutationQueue.push(b);for(const N of h)this._s=this._s.add(new wo(N.key,m)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return Ft.resolve(b)}lookupMutationBatch(e,t){return Ft.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ys(t+1),m=h<0?0:h;return Ft.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ft.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new wo(t,0),h=new wo(t,Number.POSITIVE_INFINITY),m=[];return this._s.forEachInRange([a,h],b=>{const N=this.gs(b.ds);m.push(N)}),Ft.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new ft(or);return t.forEach(h=>{const m=new wo(h,0),b=new wo(h,Number.POSITIVE_INFINITY);this._s.forEachInRange([m,b],N=>{a=a.add(N.ds)})}),Ft.resolve(this.ps(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;Nn.isDocumentKey(m)||(m=m.child(""));const b=new wo(new Nn(m),0);let N=new ft(or);return this._s.forEachWhile(G=>{const ee=G.key.path;return!!a.isPrefixOf(ee)&&(ee.length===h&&(N=N.add(G.ds)),!0)},b),Ft.resolve(this.ps(N))}ps(e){const t=[];return e.forEach(a=>{const h=this.gs(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){Rn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let a=this._s;return Ft.forEach(t.mutations,h=>{const m=new wo(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this._s=a})}En(e){}containsKey(e,t){const a=new wo(t,0),h=this._s.firstAfterOrEqual(a);return Ft.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ft.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Up{constructor(e){this.Ts=e,this.docs=new ie(Nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,b=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ft.resolve(a?a.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let a=_i();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():Vi.newInvalidDocument(h))}),Ft.resolve(a)}getDocumentsMatchingQuery(e,t,a,h){let m=_i();const b=t.path,N=new Nn(b.child("")),G=this.docs.getIteratorFrom(N);for(;G.hasNext();){const{key:ee,value:{document:_e}}=G.getNext();if(!b.isPrefixOf(ee.path))break;ee.path.length>b.length+1||la(Yc(_e),a)<=0||(h.has(_e.key)||It(t,_e))&&(m=m.insert(_e.key,_e.mutableCopy()))}return Ft.resolve(m)}getAllFromCollectionGroup(e,t,a,h){fn()}Es(e,t){return Ft.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new vm(this)}getSize(e){return Ft.resolve(this.size)}}class vm extends ky{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Jn.addEntry(e,h)):this.Jn.removeEntry(a)}),Ft.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Vp{constructor(e){this.persistence=e,this.As=new Sn(t=>Pu(t),wl),this.lastRemoteSnapshotVersion=gr.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Sf,this.targetCount=0,this.bs=Gu.vn()}forEachTarget(e,t){return this.As.forEach((a,h)=>t(h)),Ft.resolve()}getLastRemoteSnapshotVersion(e){return Ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ft.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ft.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Rs&&(this.Rs=t),Ft.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Gu(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,Ft.resolve()}updateTargetData(e,t){return this.Sn(t),Ft.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Ft.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.As.forEach((b,N)=>{N.sequenceNumber<=t&&null===a.get(N.targetId)&&(this.As.delete(b),m.push(this.removeMatchingKeysForTargetId(e,N.targetId)),h++)}),Ft.waitFor(m).next(()=>h)}getTargetCount(e){return Ft.resolve(this.targetCount)}getTargetData(e,t){const a=this.As.get(t)||null;return Ft.resolve(a)}addMatchingKeys(e,t,a){return this.vs.os(t,a),Ft.resolve()}removeMatchingKeys(e,t,a){this.vs.cs(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(b=>{m.push(h.markPotentiallyOrphaned(e,b))}),Ft.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),Ft.resolve()}getMatchingKeysForTargetId(e,t){const a=this.vs.fs(t);return Ft.resolve(a)}containsKey(e,t){return Ft.resolve(this.vs.containsKey(t))}}class $y{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new No(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Vp(this),this.indexManager=new bf,this.remoteDocumentCache=new Up(a=>this.referenceDelegate.Cs(a)),this.serializer=new Sp(t),this.xs=new Ih(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jr,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Ps[e.toKey()];return a||(a=new _m(t,this.referenceDelegate),this.Ps[e.toKey()]=a),a}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,a){Gt("MemoryPersistence","Starting transaction:",e);const h=new Uy(this.Vs.next());return this.referenceDelegate.Ns(),a(h).next(m=>this.referenceDelegate.ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Os(e,t){return Ft.or(Object.values(this.Ps).map(a=>()=>a.containsKey(e,t)))}}class Uy extends nl{constructor(e){super(),this.currentSequenceNumber=e}}class wh{constructor(e){this.persistence=e,this.$s=new Sf,this.Ms=null}static Fs(e){return new wh(e)}get Bs(){if(this.Ms)return this.Ms;throw fn()}addReference(e,t,a){return this.$s.addReference(a,t),this.Bs.delete(a.toString()),Ft.resolve()}removeReference(e,t,a){return this.$s.removeReference(a,t),this.Bs.add(a.toString()),Ft.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),Ft.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(h=>this.Bs.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Bs.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ft.forEach(this.Bs,a=>{const h=Nn.fromPath(a);return this.Ls(e,h).next(m=>{m||t.removeEntry(h,gr.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(a=>{a?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return Ft.or([()=>Ft.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Z_{constructor(e){this.serializer=e}M(e,t,a,h){const m=new kl("createOrUpgrade",t);var N;a<1&&h>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0}),N.createObjectStore("documentMutations"),Vy(e),function(N){N.createObjectStore("remoteDocuments")}(e));let b=Ft.resolve();return a<3&&h>=3&&(0!==a&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Vy(e)),b=b.next(()=>function(N){const G=N.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gr.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ee)}(m))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(N,G){return G.store("mutations").j().next(ee=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0});const _e=G.store("mutations"),st=ee.map(xt=>_e.put(xt));return Ft.waitFor(st)})}(e,m))),b=b.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.qs(m))),a<6&&h>=6&&(b=b.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Us(m)))),a<7&&h>=7&&(b=b.next(()=>this.Ks(m))),a<8&&h>=8&&(b=b.next(()=>this.Gs(e,m))),a<9&&h>=9&&(b=b.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.Qs(m))),a<11&&h>=11&&(b=b.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(N){const G=N.createObjectStore("documentOverlays",{keyPath:Ks});G.createIndex("collectionPathOverlayIndex",as,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",As,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(N){const G=N.createObjectStore("remoteDocumentsV14",{keyPath:x});G.createIndex("documentKeyIndex",H),G.createIndex("collectionGroupIndex",re)}(e)).next(()=>this.zs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.js(e,m))),a<15&&h>=15&&(b=b.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:mn}).createIndex("sequenceNumberIndex",cn,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Rr}).createIndex("documentKeyIndex",ws,{unique:!1})}(e))),b}Us(e){let t=0;return e.store("remoteDocuments").Z((a,h)=>{t+=Np(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(h=>Ft.forEach(h,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",b).next(N=>Ft.forEach(N,G=>{Rn(G.userId===m.userId);const ee=Bc(this.serializer,G);return pm(e,m.userId,ee).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Z((b,N)=>{const G=new oi(b),ee=[0,pi(G)];m.push(t.get(ee).next(_e=>_e?Ft.resolve():t.put({targetId:0,path:pi(G),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ft.waitFor(m))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:wn});const a=t.store("collectionParents"),h=new Pd,m=b=>{if(h.add(b)){const N=b.lastSegment(),G=b.popLast();return a.put({collectionId:N,parent:pi(G)})}};return t.store("remoteDocuments").Z({Y:!0},(b,N)=>{const G=new oi(b);return m(G.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([b,N,G],ee)=>{const _e=oo(N);return m(_e.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((a,h)=>{const m=cc(h),b=um(this.serializer,m);return t.put(b)})}zs(e,t){const a=t.store("remoteDocuments"),h=[];return a.Z((m,b)=>{const N=t.store("remoteDocumentsV14"),G=(ee=b,ee.document?new Nn(oi.fromString(ee.document.name).popFirst(5)):ee.noDocument?Nn.fromSegments(ee.noDocument.path):ee.unknownDocument?Nn.fromSegments(ee.unknownDocument.path):fn()).path.toArray();var ee;const _e={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};h.push(N.put(_e))}).next(()=>Ft.waitFor(h))}js(e,t){const a=t.store("mutations"),h=Bp(this.serializer),m=new $y(wh.Fs,this.serializer.se);return a.j().next(b=>{const N=new Map;return b.forEach(G=>{var ee;let _e=null!==(ee=N.get(G.userId))&&void 0!==ee?ee:Hr();Bc(this.serializer,G).keys().forEach(st=>_e=_e.add(st)),N.set(G.userId,_e)}),Ft.forEach(N,(G,ee)=>{const _e=new Ne(ee),st=Hl.ie(this.serializer,_e),xt=m.getIndexManager(_e),en=kp.ie(_e,this.serializer,xt,m.referenceDelegate);return new By(h,en,st,xt).recalculateAndSaveOverlaysForDocumentKeys(new Va(t,No.ct),G).next()})})}}function Vy(s){s.createObjectStore("targetDocuments",{keyPath:gt}).createIndex("documentTargetsIndex",Nt,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fe,{unique:!0}),s.createObjectStore("targetGlobal")}const jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Af{constructor(e,t,a,h,m,b,N,G,ee,_e,st=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Ws=m,this.window=b,this.document=N,this.Hs=ee,this.Js=_e,this.Ys=st,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=xt=>Promise.resolve(),!Af.D())throw new tn(kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mm(this,h),this.si=t+"main",this.serializer=new Sp(G),this.ii=new Ws(this.si,this.Ys,new Z_(this.serializer)),this.Ds=new q_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Bp(this.serializer),this.xs=new _h,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===_e&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tn(kt.FAILED_PRECONDITION,jp);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new No(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var a=(0,ce.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,ce.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,ce.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ci(e))return Gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Wl(e).get("owner").next(t=>Ft.resolve(this._i(t)))}mi(e){return bh(e).delete(this.clientId)}gi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=bs(a,"clientMetadata");return h.j().next(m=>{const b=e.pi(m,18e5),N=m.filter(G=>-1===b.indexOf(G));return Ft.forEach(N,G=>h.delete(G.clientId)).next(()=>N)})}).catch(()=>[]);if(e.ri)for(const a of t)e.ri.removeItem(e.Ii(a.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?Ft.resolve(!0):Wl(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new tn(kt.FAILED_PRECONDITION,jp);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(e).j().next(a=>void 0===this.pi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Va(t,No.ct);return e.di(a).next(()=>e.mi(a))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(a=>this.yi(a.updateTimeMs,t)&&!this.Ti(a.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>bh(e).j().next(t=>this.pi(t,18e5).map(a=>a.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return kp.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bl(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Hl.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,a){Gt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(b=this.Ys)?Ua:14===b?ps:13===b?rl:12===b?ca:11===b?_a:void fn();var b;let N;return this.ii.runTransaction(e,h,m,G=>(N=new Va(G,this.Vs?this.Vs.next():No.ct),"readwrite-primary"===t?this.li(N).next(ee=>!!ee||this.fi(N)).next(ee=>{if(!ee)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new tn(kt.FAILED_PRECONDITION,Nl);return a(N)}).next(ee=>this.wi(N).next(()=>ee)):this.Pi(N).next(()=>a(N)))).then(G=>(N.raiseOnCommittedEvent(),G))}Pi(e){return Wl(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tn(kt.FAILED_PRECONDITION,jp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wl(e).put("owner",t)}static D(){return Ws.D()}di(e){const t=Wl(e);return t.get("owner").next(a=>this._i(a)?(Gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ft.resolve())}yi(e,t){const a=Date.now();return!(e<a-t||e>a&&(tr(`Detected an update time that is in the future: ${e} > ${a}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Qe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const a=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Gt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return tr("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wl(s){return bs(s,"owner")}function bh(s){return bs(s,"clientMetadata")}function Ch(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Yo{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Vi=a,this.Si=h}static Di(e,t){let a=Hr(),h=Hr();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Yo(e,t.fromCache,a,h)}}class Mf{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,a,h){return this.Ni(e,t).next(m=>m||this.ki(e,t,h,a)).next(m=>m||this.Oi(e,t))}Ni(e,t){if(ic(t))return Ft.resolve(null);let a=M(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=I(t,null,"F"),a=M(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const b=Hr(...m);return this.xi.getDocuments(e,b).next(N=>this.indexManager.getMinOffset(e,a).next(G=>{const ee=this.$i(t,N);return this.Mi(t,ee,b,G.readTime)?this.Ni(e,I(t,null,"F")):this.Fi(e,ee,t,G)}))})))}ki(e,t,a,h){return ic(t)||h.isEqual(gr.min())?this.Oi(e,t):this.xi.getDocuments(e,a).next(m=>{const b=this.$i(t,m);return this.Mi(t,b,a,h)?this.Oi(e,t):($n()<=Me.in.DEBUG&&Gt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ve(t)),this.Fi(e,b,t,Ba(h,-1)))})}$i(e,t){let a=new ft(Mn(e));return t.forEach((h,m)=>{It(e,m)&&(a=a.add(m))}),a}Mi(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Oi(e,t){return $n()<=Me.in.DEBUG&&Gt("QueryEngine","Using full collection scan to execute query:",ve(t)),this.xi.getDocumentsMatchingQuery(e,t,yo.min())}Fi(e,t,a,h){return this.xi.getDocumentsMatchingQuery(e,a,h).next(m=>(t.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Fd{constructor(e,t,a,h){this.persistence=e,this.Bi=t,this.serializer=h,this.Li=new ie(or),this.qi=new Sn(m=>Pu(m),wl),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(a)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new By(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Hp(s,e,t,a){return new Fd(s,e,t,a)}function Kl(s,e){return fu.apply(this,arguments)}function fu(){return fu=(0,ce.Z)(function*(s,e){const t=gn(s);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,t.Gi(e),t.mutationQueue.getAllMutationBatches(a))).next(m=>{const b=[],N=[];let G=Hr();for(const ee of h){b.push(ee.batchId);for(const _e of ee.mutations)G=G.add(_e.key)}for(const ee of m){N.push(ee.batchId);for(const _e of ee.mutations)G=G.add(_e.key)}return t.localDocuments.getDocuments(a,G).next(ee=>({Qi:ee,removedBatchIds:b,addedBatchIds:N}))})})}),fu.apply(this,arguments)}function jy(s){const e=gn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Dh(s,e,t){let a=Hr(),h=Hr();return t.forEach(m=>a=a.add(m)),e.getEntries(s,a).next(m=>{let b=_i();return t.forEach((N,G)=>{const ee=m.get(N);G.isFoundDocument()!==ee.isFoundDocument()&&(h=h.add(N)),G.isNoDocument()&&G.version.isEqual(gr.min())?(e.removeEntry(N,G.readTime),b=b.insert(N,G)):!ee.isValidDocument()||G.version.compareTo(ee.version)>0||0===G.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(G),b=b.insert(N,G)):Gt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",ee.version," Watch version:",G.version)}),{zi:b,ji:h}})}function Q_(s,e){const t=gn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Bd(s,e){const t=gn(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Ds.getTargetData(a,e).next(m=>m?(h=m,Ft.resolve(h)):t.Ds.allocateTargetId(a).next(b=>(h=new lc(e,b,0,a.currentSequenceNumber),t.Ds.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.Li.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Li=t.Li.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function fc(s,e,t){return Im.apply(this,arguments)}function Im(){return Im=(0,ce.Z)(function*(s,e,t){const a=gn(s),h=a.Li.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!ci(b))throw b;Gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.Li=a.Li.remove(e),a.qi.delete(h.target)}),Im.apply(this,arguments)}function Rf(s,e,t){const a=gn(s);let h=gr.min(),m=Hr();return a.persistence.runTransaction("Execute query","readonly",b=>function(N,G,ee){const _e=gn(N),st=_e.qi.get(ee);return void 0!==st?Ft.resolve(_e.Li.get(st)):_e.Ds.getTargetData(G,ee)}(a,b,M(e)).next(N=>{if(N)return h=N.lastLimboFreeSnapshotVersion,a.Ds.getMatchingKeysForTargetId(b,N.targetId).next(G=>{m=G})}).next(()=>a.Bi.getDocumentsMatchingQuery(b,e,t?h:gr.min(),t?m:Hr())).next(N=>(Th(a,Bt(e),N),{documents:N,Wi:m})))}function Hy(s,e){const t=gn(s),a=gn(t.Ds),h=t.Li.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.ne(m,e).next(b=>b?b.target:null))}function zy(s,e){const t=gn(s),a=t.Ui.get(e)||gr.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Ki.getAllFromCollectionGroup(h,e,Ba(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Th(t,e,h),h))}function Th(s,e,t){let a=s.Ui.get(e)||gr.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),s.Ui.set(e,a)}function $d(){return $d=(0,ce.Z)(function*(s,e,t,a){const h=gn(s);let m=Hr(),b=_i();for(const ee of t){const _e=e.Hi(ee.metadata.name);ee.document&&(m=m.add(_e));const st=e.Ji(ee);st.setReadTime(e.Yi(ee.metadata.readTime)),b=b.insert(_e,st)}const N=h.Ki.newChangeBuffer({trackRemovals:!0}),G=yield Bd(h,(ee=a,M(sl(oi.fromString(`__bundle__/docs/${ee}`)))));var ee;return h.persistence.runTransaction("Apply bundle documents","readwrite",ee=>Dh(ee,N,b).next(_e=>(N.apply(ee),_e)).next(_e=>h.Ds.removeMatchingKeysForTargetId(ee,G.targetId).next(()=>h.Ds.addMatchingKeys(ee,m,G.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ee,_e.zi,_e.ji)).next(()=>_e.zi)))}),$d.apply(this,arguments)}function Gp(s,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,ce.Z)(function*(s,e,t=Hr()){const a=yield Bd(s,M(If(e.bundledQuery))),h=gn(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const b=Zs(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.xs.saveNamedQuery(m,e);const N=a.withResumeToken(Wn.EMPTY_BYTE_STRING,b);return h.Li=h.Li.insert(N.targetId,N),h.Ds.updateTargetData(m,N).next(()=>h.Ds.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Ds.addMatchingKeys(m,t,a.targetId)).next(()=>h.xs.saveNamedQuery(m,e))})}),Wp.apply(this,arguments)}function Kp(s,e){return`firestore_clients_${s}_${e}`}function qp(s,e,t){let a=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Sh(s,e){return`firestore_targets_${s}_${e}`}class Yp{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static Zi(e,t,a){const h=JSON.parse(a);let m,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(m=new tn(h.error.code,h.error.message))),b?new Yp(e,t,h.state,m):(tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ua{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new tn(a.error.code,a.error.message))),m?new ua(e,a.state,h):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=ku();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ld(a.activeTargetIds[b]),m=m.add(a.activeTargetIds[b]);return h?new xf(e,m):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gy{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gy(t.clientId,t.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wu{constructor(){this.activeTargetIds=ku()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zp{constructor(e,t,a,h,m){this.window=e,this.Ws=t,this.persistenceKey=a,this.nr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ie(or),this.started=!1,this.ur=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.cr=Kp(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new Wu),this.hr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const t=yield e.syncEngine.bi();for(const h of t){if(h===e.nr)continue;const m=e.getItem(Kp(e.persistenceKey,h));if(m){const b=xf.Zi(h,m);b&&(e.rr=e.rr.insert(b.clientId,b))}}e.mr();const a=e.storage.getItem(e.wr);if(a){const h=e.gr(a);h&&e.yr(h)}for(const h of e.ur)e.ir(h);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,a){this.Ir(e,t,a),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Sh(this.persistenceKey,e));if(a){const h=ua.Zi(e,a);h&&(t=h.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sh(this.persistenceKey,e))}updateQueryState(e,t,a){this.Ar(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Tr(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Gt("SharedClientState","READ",e,t),t}setItem(e,t){Gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Gt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.cr)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ce.Z)(function*(){if(t.started){if(null!==a.key)if(t.hr.test(a.key)){if(null==a.newValue){const h=t.br(a.key);return t.Pr(h,null)}{const h=t.Vr(a.key,a.newValue);if(h)return t.Pr(h.clientId,h)}}else if(t.lr.test(a.key)){if(null!==a.newValue){const h=t.Sr(a.key,a.newValue);if(h)return t.Dr(h)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const h=t.Cr(a.key,a.newValue);if(h)return t.Nr(h)}}else if(a.key===t.wr){if(null!==a.newValue){const h=t.gr(a.newValue);if(h)return t.yr(h)}}else if(a.key===t.ar){const h=function(m){let b=No.ct;if(null!=m)try{const N=JSON.parse(m);Rn("number"==typeof N),b=N}catch(N){tr("SharedClientState","Failed to read sequence number from WebStorage",N)}return b}(a.newValue);h!==No.ct&&t.sequenceNumberHandler(h)}else if(a.key===t._r){const h=t.kr(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Or(m)))}}else t.ur.push(a)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,a){const h=new Yp(this.currentUser,e,t,a),m=qp(this.persistenceKey,this.currentUser,e);this.setItem(m,h.Xi())}Tr(e){const t=qp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,a){const h=Sh(this.persistenceKey,e),m=new ua(e,t,a);this.setItem(h,m.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const a=this.br(e);return xf.Zi(a,t)}Sr(e,t){const a=this.lr.exec(e),h=Number(a[1]);return Yp.Zi(new Ne(void 0!==a[2]?a[2]:null),h,t)}Cr(e,t){const a=this.dr.exec(e),h=Number(a[1]);return ua.Zi(h,t)}gr(e){return Gy.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const a=t?this.rr.insert(e,t):this.rr.remove(e),h=this.pr(this.rr),m=this.pr(a),b=[],N=[];return m.forEach(G=>{h.has(G)||b.push(G)}),h.forEach(G=>{m.has(G)||N.push(G)}),this.syncEngine.Fr(b,N).then(()=>{this.rr=a})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=ku();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class wm{constructor(){this.Br=new Wu,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,a){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Wu,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wy{qr(e){}shutdown(){}}class Ky{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function Ah(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const Mh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bm{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const bo="WebChannelConnection";class Cm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,a,h,m){const b=Ah(),N=this.ao(e,t);Gt("RestConnection",`Sending RPC '${e}' ${b}:`,N,a);const G={};return this.ho(G,h,m),this.lo(e,N,G,a).then(ee=>(Gt("RestConnection",`Received RPC '${e}' ${b}: `,ee),ee),ee=>{throw Tr("RestConnection",`RPC '${e}' ${b} failed with error: `,ee,"url: ",N,"request:",a),ee})}fo(e,t,a,h,m,b){return this.co(e,t,a,h,m)}ho(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ao(e,t){return`${this.ro}/v1/${t}:${Mh[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,a,h){const m=Ah();return new Promise((b,N)=>{const G=new j;G.setWithCredentials(!0),G.listenOnce(ka.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Na.NO_ERROR:const _e=G.getResponseJson();Gt(bo,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(_e)),b(_e);break;case Na.TIMEOUT:Gt(bo,`RPC '${e}' ${m} timed out`),N(new tn(kt.DEADLINE_EXCEEDED,"Request time out"));break;case Na.HTTP_ERROR:const st=G.getStatus();if(Gt(bo,`RPC '${e}' ${m} failed with status:`,st,"response text:",G.getResponseText()),st>0){let xt=G.getResponseJson();Array.isArray(xt)&&(xt=xt[0]);const en=null==xt?void 0:xt.error;if(en&&en.status&&en.message){const Dn=function(Qn){const Ir=Qn.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(Ir)>=0?Ir:kt.UNKNOWN}(en.status);N(new tn(Dn,en.message))}else N(new tn(kt.UNKNOWN,"Server responded with status "+G.getStatus()))}else N(new tn(kt.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Gt(bo,`RPC '${e}' ${m} completed.`)}});const ee=JSON.stringify(h);Gt(bo,`RPC '${e}' ${m} sending request:`,h),G.send(t,"POST",ee,a,15)})}wo(e,t,a){const h=Ah(),m=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Oa(),N=so(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new F({})),this.ho(G.initMessageHeaders,t,a),G.encodeInitMessageHeaders=!0;const ee=m.join("");Gt(bo,`Creating RPC '${e}' stream ${h}: ${ee}`,G);const _e=b.createWebChannel(ee,G);let st=!1,xt=!1;const en=new bm({Wr:Qn=>{xt?Gt(bo,`Not sending because RPC '${e}' stream ${h} is closed:`,Qn):(st||(Gt(bo,`Opening RPC '${e}' stream ${h} transport.`),_e.open(),st=!0),Gt(bo,`RPC '${e}' stream ${h} sending:`,Qn),_e.send(Qn))},Hr:()=>_e.close()}),Dn=(Qn,Ir,Ki)=>{Qn.listen(Ir,Ns=>{try{Ki(Ns)}catch(Mi){setTimeout(()=>{throw Mi},0)}})};return Dn(_e,J.EventType.OPEN,()=>{xt||Gt(bo,`RPC '${e}' stream ${h} transport opened.`)}),Dn(_e,J.EventType.CLOSE,()=>{xt||(xt=!0,Gt(bo,`RPC '${e}' stream ${h} transport closed`),en.so())}),Dn(_e,J.EventType.ERROR,Qn=>{xt||(xt=!0,Tr(bo,`RPC '${e}' stream ${h} transport errored:`,Qn),en.so(new tn(kt.UNAVAILABLE,"The operation could not be completed")))}),Dn(_e,J.EventType.MESSAGE,Qn=>{var Ir;if(!xt){const Ki=Qn.data[0];Rn(!!Ki);const Mi=Ki.error||(null===(Ir=Ki[0])||void 0===Ir?void 0:Ir.error);if(Mi){Gt(bo,`RPC '${e}' stream ${h} received error:`,Mi);const Ta=Mi.status;let ks=function(Sl){const nf=Io[Sl];if(void 0!==nf)return Jg(nf)}(Ta),Fs=Mi.message;void 0===ks&&(ks=kt.INTERNAL,Fs="Unknown error status: "+Ta+" with message "+Mi.message),xt=!0,en.so(new tn(ks,Fs)),_e.close()}else Gt(bo,`RPC '${e}' stream ${h} received:`,Ki),en.io(Ki)}}),Dn(N,Ic.STAT_EVENT,Qn=>{Qn.stat===Ji.PROXY?Gt(bo,`RPC '${e}' stream ${h} detected buffering proxy`):Qn.stat===Ji.NOPROXY&&Gt(bo,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{en.no()},0),en}}function Pf(){return typeof window<"u"?window:null}function Of(){return typeof document<"u"?document:null}function Ud(s){return new nm(s,!0)}class Nf{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Ws=e,this.timerId=t,this._o=a,this.mo=h,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),a=Math.max(0,Date.now()-this.To),h=Math.max(0,t-a);h>0&&Gt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,h,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Xp{constructor(e,t,a,h,m,b,N,G){this.Ws=e,this.bo=a,this.Po=h,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=N,this.listener=G,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Nf(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,ce.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,ce.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var a=this;return(0,ce.Z)(function*(){a.Bo(),a.Lo(),a.Co.cancel(),a.Vo++,4!==e?a.Co.reset():t&&t.code===kt.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),a.Co.Eo()):t&&t.code===kt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Vo===t&&this.Ko(a,h)},a=>{e(()=>{const h=new tn(kt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Go(h)})})}Ko(e,t){const a=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{a(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(h=>{a(()=>this.Go(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}ko(){var e=this;this.state=5,this.Co.Ao((0,ce.Z)(function*(){e.state=0,e.start()}))}Go(e){return Gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qy extends Xp{constructor(e,t,a,h,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,b),this.serializer=m}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Sy(s,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:fn(),h=e.targetChange.targetIds||[],m=function(G,ee){return G.useProto3Json?(Rn(void 0===ee||"string"==typeof ee),Wn.fromBase64String(ee||"")):(Rn(void 0===ee||ee instanceof Uint8Array),Wn.fromUint8Array(ee||new Uint8Array))}(s,e.targetChange.resumeToken),b=e.targetChange.cause,N=b&&function(G){const ee=void 0===G.code?kt.UNKNOWN:Jg(G.code);return new tn(ee,G.message||"")}(b);t=new ou(a,h,m,N||null)}else if("documentChange"in e){const a=e.documentChange,h=oc(s,a.document.name),m=Zs(a.document.updateTime),b=a.document.createTime?Zs(a.document.createTime):gr.min(),N=new qs({mapValue:{fields:a.document.fields}}),G=Vi.newFoundDocument(h,m,b,N);t=new Sd(a.targetIds||[],a.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const a=e.documentDelete,h=oc(s,a.document),m=a.readTime?Zs(a.readTime):gr.min(),b=Vi.newNoDocument(h,m);t=new Sd([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=oc(s,a.document);t=new Sd([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return fn();{const a=e.filter,m=new H_(a.count||0);t=new sc(a.targetId,m)}}var G;return t}(this.serializer,e),a=function(h){if(!("targetChange"in h))return gr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?gr.min():m.readTime?Zs(m.readTime):gr.min()}(e);return this.listener.zo(t,a)}jo(e){const t={};t.database=ju(this.serializer),t.addTarget=function(h,m){let b;const N=m.target;return b=_d(N)?{documents:om(h,N)}:{query:am(h,N)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?b.resumeToken=Uu(h,m.resumeToken):m.snapshotVersion.compareTo(gr.min())>0&&(b.readTime=fh(h,m.snapshotVersion.toTimestamp())),b}(this.serializer,e);const a=function lm(s,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Fo(t)}Wo(e){const t={};t.database=ju(this.serializer),t.removeTarget=e,this.Fo(t)}}class Dm extends Xp{constructor(e,t,a,h,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,b),this.serializer=m,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Cp(s,e){return s&&s.length>0?(Rn(void 0!==e),s.map(t=>function(a,h){let m=Zs(a.updateTime?a.updateTime:h);return m.isEqual(gr.min())&&(m=Zs(h)),new _p(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Zs(e.commitTime);return this.listener.Zo(a,t)}return Rn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=ju(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>gh(this.serializer,a))};this.Fo(t)}}class X_ extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=h,this.eu=!1}nu(){if(this.eu)throw new tn(kt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.co(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new tn(kt.UNKNOWN,h.toString())})}fo(e,t,a,h){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.fo(e,t,a,m,b,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new tn(kt.UNKNOWN,m.toString())})}terminate(){this.eu=!0}}class ev{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(tr(t),this.ru=!1):Gt("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Jp{constructor(e,t,a,h,m){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=m,this._u.qr(N=>{a.enqueueAndForget((0,ce.Z)(function*(){var G;Hd(b)&&(Gt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ce.Z)(function*(ee){const _e=gn(ee);_e.du.add(4),yield jd(_e),_e.mu.set("Unknown"),_e.du.delete(4),yield Vd(_e)}),function(ee){return G.apply(this,arguments)})(b))}))}),this.mu=new ev(a,h)}}function Vd(s){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ce.Z)(function*(s){if(Hd(s))for(const e of s.wu)yield e(!0)}),Tm.apply(this,arguments)}function jd(s){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,ce.Z)(function*(s){for(const e of s.wu)yield e(!1)}),Ka.apply(this,arguments)}function eg(s,e){const t=gn(s);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),Sm(t)?tg(t):zd(t).No()&&Yy(t,e))}function kf(s,e){const t=gn(s),a=zd(t);t.fu.delete(e),a.No()&&Ff(t,e),0===t.fu.size&&(a.No()?a.$o():Hd(t)&&t.mu.set("Unknown"))}function Yy(s,e){s.gu.Ot(e.targetId),zd(s).jo(e)}function Ff(s,e){s.gu.Ot(e),zd(s).Wo(e)}function tg(s){s.gu=new Dy({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>s.fu.get(e)||null}),zd(s).start(),s.mu.ou()}function Sm(s){return Hd(s)&&!zd(s).xo()&&s.fu.size>0}function Hd(s){return 0===gn(s).du.size}function Am(s){s.gu=void 0}function Zy(s){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,ce.Z)(function*(s){s.fu.forEach((e,t)=>{Yy(s,e)})}),Mm.apply(this,arguments)}function tv(s,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ce.Z)(function*(s,e){Am(s),Sm(s)?(s.mu.au(e),tg(s)):s.mu.set("Unknown")}),Lf.apply(this,arguments)}function nv(s,e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ce.Z)(function*(s,e,t){if(s.mu.set("Online"),e instanceof ou&&2===e.state&&e.cause)try{yield(a=(0,ce.Z)(function*(h,m){const b=m.cause;for(const N of m.targetIds)h.fu.has(N)&&(yield h.remoteSyncer.rejectListen(N,b),h.fu.delete(N),h.gu.removeTarget(N))}),function(h,m){return a.apply(this,arguments)})(s,e)}catch(a){Gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield ng(s,a)}else if(e instanceof Sd?s.gu.Kt(e):e instanceof sc?s.gu.Jt(e):s.gu.zt(e),!t.isEqual(gr.min()))try{const a=yield jy(s.localStore);t.compareTo(a)>=0&&(yield function(h,m){const b=h.gu.Xt(m);return b.targetChanges.forEach((N,G)=>{if(N.resumeToken.approximateByteSize()>0){const ee=h.fu.get(G);ee&&h.fu.set(G,ee.withResumeToken(N.resumeToken,m))}}),b.targetMismatches.forEach(N=>{const G=h.fu.get(N);if(!G)return;h.fu.set(N,G.withResumeToken(Wn.EMPTY_BYTE_STRING,G.snapshotVersion)),Ff(h,N);const ee=new lc(G.target,N,1,G.sequenceNumber);Yy(h,ee)}),h.remoteSyncer.applyRemoteEvent(b)}(s,t))}catch(a){Gt("RemoteStore","Failed to raise snapshot:",a),yield ng(s,a)}var a}),Rm.apply(this,arguments)}function ng(s,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,ce.Z)(function*(s,e,t){if(!ci(e))throw e;s.du.add(1),yield jd(s),s.mu.set("Offline"),t||(t=()=>jy(s.localStore)),s.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Gt("RemoteStore","Retrying IndexedDB access"),yield t(),s.du.delete(1),yield Vd(s)}))}),xm.apply(this,arguments)}function Qy(s,e){return e().catch(t=>ng(s,t,e))}function cl(s){return rg.apply(this,arguments)}function rg(){return rg=(0,ce.Z)(function*(s){const e=gn(s),t=pu(e);let a=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;rv(e);)try{const h=yield Q_(e.localStore,a);if(null===h){0===e.lu.length&&t.$o();break}a=h.batchId,iv(e,h)}catch(h){yield ng(e,h)}Pm(e)&&Om(e)}),rg.apply(this,arguments)}function rv(s){return Hd(s)&&s.lu.length<10}function iv(s,e){s.lu.push(e);const t=pu(s);t.No()&&t.Jo&&t.Yo(e.mutations)}function Pm(s){return Hd(s)&&!pu(s).xo()&&s.lu.length>0}function Om(s){pu(s).start()}function sv(s){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,ce.Z)(function*(s){pu(s).tu()}),Nm.apply(this,arguments)}function km(s){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ce.Z)(function*(s){const e=pu(s);for(const t of s.lu)e.Yo(t.mutations)}),Fm.apply(this,arguments)}function Ku(s,e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,ce.Z)(function*(s,e,t){const a=s.lu.shift(),h=Qg.from(a,e,t);yield Qy(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield cl(s)}),Xs.apply(this,arguments)}function Ca(s,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ce.Z)(function*(s,e){var t;e&&pu(s).Jo&&(yield(t=(0,ce.Z)(function*(a,h){if(Cy(m=h.code)&&m!==kt.ABORTED){const b=a.lu.shift();pu(a).Oo(),yield Qy(a,()=>a.remoteSyncer.rejectFailedWrite(b.batchId,h)),yield cl(a)}var m}),function(a,h){return t.apply(this,arguments)})(s,e)),Pm(s)&&Om(s)}),Vc.apply(this,arguments)}function ov(s,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,ce.Z)(function*(s,e){const t=gn(s);t.asyncQueue.verifyOperationInProgress(),Gt("RemoteStore","RemoteStore received new credentials");const a=Hd(t);t.du.add(3),yield jd(t),a&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Vd(t)}),Bf.apply(this,arguments)}function Xy(s,e){return ig.apply(this,arguments)}function ig(){return ig=(0,ce.Z)(function*(s,e){const t=gn(s);e?(t.du.delete(2),yield Vd(t)):e||(t.du.add(2),yield jd(t),t.mu.set("Unknown"))}),ig.apply(this,arguments)}function zd(s){return s.yu||(s.yu=function(e,t,a){const h=gn(e);return h.nu(),new qy(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(s.datastore,s.asyncQueue,{Jr:Zy.bind(null,s),Zr:tv.bind(null,s),zo:nv.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(t){t?(s.yu.Oo(),Sm(s)?tg(s):s.mu.set("Unknown")):(yield s.yu.stop(),Am(s))});return function(t){return e.apply(this,arguments)}}())),s.yu}function pu(s){return s.pu||(s.pu=function(e,t,a){const h=gn(e);return h.nu(),new Dm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(s.datastore,s.asyncQueue,{Jr:sv.bind(null,s),Zr:Ca.bind(null,s),Xo:km.bind(null,s),Zo:Ku.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(t){t?(s.pu.Oo(),yield cl(s)):(yield s.pu.stop(),s.lu.length>0&&(Gt("RemoteStore",`Stopping write stream with ${s.lu.length} pending writes`),s.lu=[]))});return function(t){return e.apply(this,arguments)}}())),s.pu}class $f{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,a,h,m){const b=Date.now()+a,N=new $f(e,t,b,h,m);return N.start(a),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tn(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gu(s,e){if(tr("AsyncQueue",`${e}: ${s}`),ci(s))return new tn(kt.UNAVAILABLE,`${e}: ${s}`);throw s}class qa{constructor(e){this.comparator=e?(t,a)=>e(t,a)||Nn.comparator(t.key,a.key):(t,a)=>Nn.comparator(t.key,a.key),this.keyedMap=Vl(),this.sortedSet=new ie(this.comparator)}static emptySet(e){return new qa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new qa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Rh{constructor(){this.Iu=new ie(Nn.comparator)}track(e){const t=e.doc.key,a=this.Iu.get(t);a?0!==e.type&&3===a.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==a.type?this.Iu=this.Iu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Iu=this.Iu.remove(t):1===e.type&&2===a.type?this.Iu=this.Iu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):fn():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Cl{constructor(e,t,a,h,m,b,N,G,ee){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=N,this.excludesMetadataChanges=G,this.hasCachedResults=ee}static fromInitialDocuments(e,t,a,h,m){const b=[];return t.forEach(N=>{b.push({type:0,doc:N})}),new Cl(e,t,qa.emptySet(t),b,a,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class Uf{constructor(){this.Eu=void 0,this.listeners=[]}}class Jy{constructor(){this.queries=new Sn(e=>te(e),P),this.onlineState="Unknown",this.Au=new Set}}function sg(s,e){return og.apply(this,arguments)}function og(){return og=(0,ce.Z)(function*(s,e){const t=gn(s),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new Uf),h)try{m.Eu=yield t.onListen(a)}catch(b){const N=gu(b,`Initialization of query '${ve(e.query)}' failed`);return void e.onError(N)}t.queries.set(a,m),m.listeners.push(e),e.Ru(t.onlineState),m.Eu&&e.vu(m.Eu)&&e_(t)}),og.apply(this,arguments)}function ag(s,e){return lg.apply(this,arguments)}function lg(){return lg=(0,ce.Z)(function*(s,e){const t=gn(s),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),lg.apply(this,arguments)}function xh(s,e){const t=gn(s);let a=!1;for(const h of e){const b=t.queries.get(h.query);if(b){for(const N of b.listeners)N.vu(h)&&(a=!0);b.Eu=h}}a&&e_(t)}function av(s,e,t){const a=gn(s),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function e_(s){s.Au.forEach(e=>{e.next()})}class Lm{constructor(e,t,a){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=a||{}}vu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Cl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class t_{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class n_{constructor(e){this.serializer=e}Hi(e){return oc(this.serializer,e)}Ji(e){return e.metadata.exists?au(this.serializer,e.document,!1):Vi.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Zs(e)}}class lv{constructor(e,t,a){this.Ou=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bm(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const a=oi.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,a=new n_(this.serializer);for(const h of e)if(h.metadata.queries){const m=a.Hi(h.metadata.name);for(const b of h.metadata.queries){const N=(t.get(b)||Hr()).add(m);t.set(b,N)}}return t}complete(){var e=this;return(0,ce.Z)(function*(){const t=yield function zp(s,e,t,a){return $d.apply(this,arguments)}(e.localStore,new n_(e.serializer),e.documents,e.Ou.id),a=e.Mu(e.documents);for(const h of e.queries)yield Gp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function Bm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class r_{constructor(e){this.key=e}}class i_{constructor(e){this.key=e}}class $m{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Hr(),this.mutatedKeys=Hr(),this.Ku=Mn(e),this.Gu=new qa(this.Ku)}get Qu(){return this.Lu}zu(e,t){const a=t?t.ju:new Rh,h=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,b=h,N=!1;const G="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ee="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((_e,st)=>{const xt=h.get(_e),en=It(this.query,st)?st:null,Dn=!!xt&&this.mutatedKeys.has(xt.key),Qn=!!en&&(en.hasLocalMutations||this.mutatedKeys.has(en.key)&&en.hasCommittedMutations);let Ir=!1;xt&&en?xt.data.isEqual(en.data)?Dn!==Qn&&(a.track({type:3,doc:en}),Ir=!0):this.Wu(xt,en)||(a.track({type:2,doc:en}),Ir=!0,(G&&this.Ku(en,G)>0||ee&&this.Ku(en,ee)<0)&&(N=!0)):!xt&&en?(a.track({type:0,doc:en}),Ir=!0):xt&&!en&&(a.track({type:1,doc:xt}),Ir=!0,(G||ee)&&(N=!0)),Ir&&(en?(b=b.add(en),m=Qn?m.add(_e):m.delete(_e)):(b=b.delete(_e),m=m.delete(_e)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const _e="F"===this.query.limitType?b.last():b.first();b=b.delete(_e.key),m=m.delete(_e.key),a.track({type:1,doc:_e})}return{Gu:b,ju:a,Mi:N,mutatedKeys:m}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.ju.Tu();m.sort((ee,_e)=>function(st,xt){const en=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return en(st)-en(xt)}(ee.type,_e.type)||this.Ku(ee.doc,_e.doc)),this.Hu(a);const b=t?this.Ju():[],N=0===this.Uu.size&&this.current?1:0,G=N!==this.qu;return this.qu=N,0!==m.length||G?{snapshot:new Cl(this.query,e.Gu,h,m,e.mutatedKeys,0===N,G,!1,!!a&&a.resumeToken.approximateByteSize()>0),Yu:b}:{Yu:b}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Rh,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Hr(),this.Gu.forEach(a=>{this.Zu(a.key)&&(this.Uu=this.Uu.add(a.key))});const t=[];return e.forEach(a=>{this.Uu.has(a)||t.push(new i_(a))}),this.Uu.forEach(a=>{e.has(a)||t.push(new r_(a))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Hr();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Cl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Um{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class cv{constructor(e){this.key=e,this.ec=!1}}class ls{constructor(e,t,a,h,m,b){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.nc={},this.sc=new Sn(N=>te(N),P),this.ic=new Map,this.rc=new Set,this.oc=new ie(Nn.comparator),this.uc=new Map,this.cc=new Sf,this.ac={},this.hc=new Map,this.lc=Gu.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Lv(s,e){return cg.apply(this,arguments)}function cg(){return cg=(0,ce.Z)(function*(s,e){const t=Fh(s);let a,h;const m=t.sc.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.tc();else{const b=yield Bd(t.localStore,M(e));t.isPrimaryClient&&eg(t.remoteStore,b);const N=t.sharedClientState.addLocalQueryTarget(b.targetId);a=b.targetId,h=yield Vm(t,e,a,"current"===N,b.resumeToken)}return h}),cg.apply(this,arguments)}function Vm(s,e,t,a,h){return jm.apply(this,arguments)}function jm(){return jm=(0,ce.Z)(function*(s,e,t,a,h){s.dc=(st,xt,en)=>{return(Dn=(0,ce.Z)(function*(Qn,Ir,Ki,Ns){let Mi=Ir.view.zu(Ki);Mi.Mi&&(Mi=yield Rf(Qn.localStore,Ir.query,!1).then(({documents:Fs})=>Ir.view.zu(Fs,Mi)));const Ta=Ns&&Ns.targetChanges.get(Ir.targetId),ks=Ir.view.applyChanges(Mi,Qn.isPrimaryClient,Ta);return ul(Qn,Ir.targetId,ks.Yu),ks.snapshot}),function(Qn,Ir,Ki,Ns){return Dn.apply(this,arguments)})(s,st,xt,en);var Dn};const m=yield Rf(s.localStore,e,!0),b=new $m(e,m.Wi),N=b.zu(m.documents),G=hh.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==s.onlineState,h),ee=b.applyChanges(N,s.isPrimaryClient,G);ul(s,t,ee.Yu);const _e=new Um(e,t,b);return s.sc.set(e,_e),s.ic.has(t)?s.ic.get(t).push(e):s.ic.set(t,[e]),ee.snapshot}),jm.apply(this,arguments)}function uv(s,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ce.Z)(function*(s,e){const t=gn(s),a=t.sc.get(e),h=t.ic.get(a.targetId);if(h.length>1)return t.ic.set(a.targetId,h.filter(m=>!P(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield fc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),kf(t.remoteStore,a.targetId),Yl(t,a.targetId)}).catch(_o))):(Yl(t,a.targetId),yield fc(t.localStore,a.targetId,!0))}),Hm.apply(this,arguments)}function ug(){return ug=(0,ce.Z)(function*(s,e,t){const a=Lh(s);try{const h=yield function(m,b){const N=gn(m),G=Ti.now(),ee=b.reduce((xt,en)=>xt.add(en.key),Hr());let _e,st;return N.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let en=_i(),Dn=Hr();return N.Ki.getEntries(xt,ee).next(Qn=>{en=Qn,en.forEach((Ir,Ki)=>{Ki.isValidDocument()||(Dn=Dn.add(Ir))})}).next(()=>N.localDocuments.getOverlayedDocuments(xt,en)).next(Qn=>{_e=Qn;const Ir=[];for(const Ki of b){const Ns=pf(Ki,_e.get(Ki.key).overlayedDocument);null!=Ns&&Ir.push(new Oc(Ki.key,Ns,af(Ns.value.mapValue),Ms.exists(!0)))}return N.mutationQueue.addMutationBatch(xt,G,Ir,b)}).next(Qn=>{st=Qn;const Ir=Qn.applyToLocalDocumentSet(_e,Dn);return N.documentOverlayCache.saveOverlays(xt,Qn.batchId,Ir)})}).then(()=>({batchId:st.batchId,changes:vd(_e)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,b,N){let G=m.ac[m.currentUser.toKey()];G||(G=new ie(or)),G=G.insert(b,N),m.ac[m.currentUser.toKey()]=G}(a,h.batchId,t),yield dl(a,h.changes),yield cl(a.remoteStore)}catch(h){const m=gu(h,"Failed to persist write");t.reject(m)}}),ug.apply(this,arguments)}function zm(s,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,ce.Z)(function*(s,e){const t=gn(s);try{const a=yield function Ld(s,e){const t=gn(s),a=e.snapshotVersion;let h=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=t.Ki.newChangeBuffer({trackRemovals:!0});h=t.Li;const N=[];e.targetChanges.forEach((_e,st)=>{const xt=h.get(st);if(!xt)return;N.push(t.Ds.removeMatchingKeys(m,_e.removedDocuments,st).next(()=>t.Ds.addMatchingKeys(m,_e.addedDocuments,st)));let en=xt.withSequenceNumber(m.currentSequenceNumber);var Dn,Qn,Ir;e.targetMismatches.has(st)?en=en.withResumeToken(Wn.EMPTY_BYTE_STRING,gr.min()).withLastLimboFreeSnapshotVersion(gr.min()):_e.resumeToken.approximateByteSize()>0&&(en=en.withResumeToken(_e.resumeToken,a)),h=h.insert(st,en),Qn=en,Ir=_e,(0===(Dn=xt).resumeToken.approximateByteSize()||Qn.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||Ir.addedDocuments.size+Ir.modifiedDocuments.size+Ir.removedDocuments.size>0)&&N.push(t.Ds.updateTargetData(m,en))});let G=_i(),ee=Hr();if(e.documentUpdates.forEach(_e=>{e.resolvedLimboDocuments.has(_e)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(m,_e))}),N.push(Dh(m,b,e.documentUpdates).next(_e=>{G=_e.zi,ee=_e.ji})),!a.isEqual(gr.min())){const _e=t.Ds.getLastRemoteSnapshotVersion(m).next(st=>t.Ds.setTargetsMetadata(m,m.currentSequenceNumber,a));N.push(_e)}return Ft.waitFor(N).next(()=>b.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,G,ee)).next(()=>G)}).then(m=>(t.Li=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const b=t.uc.get(m);b&&(Rn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.ec=!0:h.modifiedDocuments.size>0?Rn(b.ec):h.removedDocuments.size>0&&(Rn(b.ec),b.ec=!1))}),yield dl(t,a,e)}catch(a){yield _o(a)}}),Gm.apply(this,arguments)}function hv(s,e,t){const a=gn(s);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.sc.forEach((m,b)=>{const N=b.view.Ru(e);N.snapshot&&h.push(N.snapshot)}),function(m,b){const N=gn(m);N.onlineState=b;let G=!1;N.queries.forEach((ee,_e)=>{for(const st of _e.listeners)st.Ru(b)&&(G=!0)}),G&&e_(N)}(a.eventManager,e),h.length&&a.nc.zo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function s_(s,e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,ce.Z)(function*(s,e,t){const a=gn(s);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.uc.get(e),m=h&&h.key;if(m){let b=new ie(Nn.comparator);b=b.insert(m,Vi.newNoDocument(m,gr.min()));const N=Hr().add(m),G=new dh(gr.min(),new Map,new ft(or),b,N);yield zm(a,G),a.oc=a.oc.remove(m),a.uc.delete(e),qu(a)}else yield fc(a.localStore,e,!1).then(()=>Yl(a,e,t)).catch(_o)}),fv.apply(this,arguments)}function dg(s,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,ce.Z)(function*(s,e){const t=gn(s),a=e.batch.batchId;try{const h=yield function Em(s,e){const t=gn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.Ki.newChangeBuffer({trackRemovals:!0});return function(b,N,G,ee){const _e=G.batch,st=_e.keys();let xt=Ft.resolve();return st.forEach(en=>{xt=xt.next(()=>ee.getEntry(N,en)).next(Dn=>{const Qn=G.docVersions.get(en);Rn(null!==Qn),Dn.version.compareTo(Qn)<0&&(_e.applyToRemoteDocument(Dn,G),Dn.isValidDocument()&&(Dn.setReadTime(G.commitVersion),ee.addEntry(Dn)))})}),xt.next(()=>b.mutationQueue.removeMutationBatch(N,_e))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(b){let N=Hr();for(let G=0;G<b.mutationResults.length;++G)b.mutationResults[G].transformResults.length>0&&(N=N.add(b.batch.mutations[G].key));return N}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}(t.localStore,e);Zo(t,a,null),Gd(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield dl(t,h)}catch(h){yield _o(h)}}),Wm.apply(this,arguments)}function pv(s,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ce.Z)(function*(s,e,t){const a=gn(s);try{const h=yield function(m,b){const N=gn(m);return N.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ee;return N.mutationQueue.lookupMutationBatch(G,b).next(_e=>(Rn(null!==_e),ee=_e.keys(),N.mutationQueue.removeMutationBatch(G,_e))).next(()=>N.mutationQueue.performConsistencyCheck(G)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(G,ee,b)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ee)).next(()=>N.localDocuments.getDocuments(G,ee))})}(a.localStore,e);Zo(a,e,t),Gd(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield dl(a,h)}catch(h){yield _o(h)}}),Vf.apply(this,arguments)}function ql(){return ql=(0,ce.Z)(function*(s,e){const t=gn(s);Hd(t.remoteStore)||Gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const b=gn(m);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>b.mutationQueue.getHighestUnacknowledgedBatchId(N))}(t.localStore);if(-1===a)return void e.resolve();const h=t.hc.get(a)||[];h.push(e),t.hc.set(a,h)}catch(a){const h=gu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),ql.apply(this,arguments)}function Gd(s,e){(s.hc.get(e)||[]).forEach(t=>{t.resolve()}),s.hc.delete(e)}function Zo(s,e,t){const a=gn(s);let h=a.ac[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.ac[a.currentUser.toKey()]=h}}function Yl(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.ic.get(e))s.sc.delete(a),t&&s.nc.wc(a,t);s.ic.delete(e),s.isPrimaryClient&&s.cc.hs(e).forEach(a=>{s.cc.containsKey(a)||jf(s,a)})}function jf(s,e){s.rc.delete(e.path.canonicalString());const t=s.oc.get(e);null!==t&&(kf(s.remoteStore,t),s.oc=s.oc.remove(e),s.uc.delete(t),qu(s))}function ul(s,e,t){for(const a of t)a instanceof r_?(s.cc.addReference(a.key,e),Km(s,a)):a instanceof i_?(Gt("SyncEngine","Document no longer in limbo: "+a.key),s.cc.removeReference(a.key,e),s.cc.containsKey(a.key)||jf(s,a.key)):fn()}function Km(s,e){const t=e.key,a=t.path.canonicalString();s.oc.get(t)||s.rc.has(a)||(Gt("SyncEngine","New document in limbo: "+t),s.rc.add(a),qu(s))}function qu(s){for(;s.rc.size>0&&s.oc.size<s.maxConcurrentLimboResolutions;){const e=s.rc.values().next().value;s.rc.delete(e);const t=new Nn(oi.fromString(e)),a=s.lc.next();s.uc.set(a,new cv(t)),s.oc=s.oc.insert(t,a),eg(s.remoteStore,new lc(M(sl(t.path)),a,2,No.ct))}}function dl(s,e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,ce.Z)(function*(s,e,t){const a=gn(s),h=[],m=[],b=[];var N;a.sc.isEmpty()||(a.sc.forEach((N,G)=>{b.push(a.dc(G,e,t).then(ee=>{if((ee||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(G.targetId,null!=ee&&ee.fromCache?"not-current":"current"),ee){h.push(ee);const _e=Yo.Di(G.targetId,ee);m.push(_e)}}))}),yield Promise.all(b),a.nc.zo(h),yield(N=(0,ce.Z)(function*(G,ee){const _e=gn(G);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",st=>Ft.forEach(ee,xt=>Ft.forEach(xt.Vi,en=>_e.persistence.referenceDelegate.addReference(st,xt.targetId,en)).next(()=>Ft.forEach(xt.Si,en=>_e.persistence.referenceDelegate.removeReference(st,xt.targetId,en)))))}catch(st){if(!ci(st))throw st;Gt("LocalStore","Failed to update sequence numbers: "+st)}for(const st of ee){const xt=st.targetId;if(!st.fromCache){const en=_e.Li.get(xt),Qn=en.withLastLimboFreeSnapshotVersion(en.snapshotVersion);_e.Li=_e.Li.insert(xt,Qn)}}}),function(G,ee){return N.apply(this,arguments)})(a.localStore,m))}),Yu.apply(this,arguments)}function Ph(s,e){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,ce.Z)(function*(s,e){const t=gn(s);if(!t.currentUser.isEqual(e)){Gt("SyncEngine","User change. New user:",e.toKey());const a=yield Kl(t.localStore,e);t.currentUser=e,(h=t).hc.forEach(b=>{b.forEach(N=>{N.reject(new tn(kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.hc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield dl(t,a.Qi)}var h}),Zu.apply(this,arguments)}function Oh(s,e){const t=gn(s),a=t.uc.get(e);if(a&&a.ec)return Hr().add(a.key);{let h=Hr();const m=t.ic.get(e);if(!m)return h;for(const b of m){const N=t.sc.get(b);h=h.unionWith(N.view.Qu)}return h}}function Nh(s,e){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,ce.Z)(function*(s,e){const t=gn(s),a=yield Rf(t.localStore,e.query,!0),h=e.view.Xu(a);return t.isPrimaryClient&&ul(t,e.targetId,h.Yu),h}),Qu.apply(this,arguments)}function kh(s,e){return hg.apply(this,arguments)}function hg(){return hg=(0,ce.Z)(function*(s,e){const t=gn(s);return zy(t.localStore,e).then(a=>dl(t,a))}),hg.apply(this,arguments)}function mv(s,e,t,a){return fg.apply(this,arguments)}function fg(){return fg=(0,ce.Z)(function*(s,e,t,a){const h=gn(s),m=yield function(b,N){const G=gn(b),ee=gn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",_e=>ee.In(_e,N).next(st=>st?G.localDocuments.getDocuments(_e,st):Ft.resolve(null)))}(h.localStore,e);var N;null!==m?("pending"===t?yield cl(h.remoteStore):"acknowledged"===t||"rejected"===t?(Zo(h,e,a||null),Gd(h,e),N=e,gn(gn(h.localStore).mutationQueue).En(N)):fn(),yield dl(h,m)):Gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),fg.apply(this,arguments)}function pg(){return pg=(0,ce.Z)(function*(s,e){const t=gn(s);if(Fh(t),Lh(t),!0===e&&!0!==t.fc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield Hf(t,a.toArray());t.fc=!0,yield Xy(t.remoteStore,!0);for(const m of h)eg(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const a=[];let h=Promise.resolve();t.ic.forEach((m,b)=>{t.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Yl(t,b),fc(t.localStore,b,!0))),kf(t.remoteStore,b)}),yield h,yield Hf(t,a),function(m){const b=gn(m);b.uc.forEach((N,G)=>{kf(b.remoteStore,G)}),b.cc.ls(),b.uc=new Map,b.oc=new ie(Nn.comparator)}(t),t.fc=!1,yield Xy(t.remoteStore,!1)}}),pg.apply(this,arguments)}function Hf(s,e,t){return pc.apply(this,arguments)}function pc(){return pc=(0,ce.Z)(function*(s,e,t){const a=gn(s),h=[],m=[];for(const b of e){let N;const G=a.ic.get(b);if(G&&0!==G.length){N=yield Bd(a.localStore,M(G[0]));for(const ee of G){const _e=a.sc.get(ee),st=yield Nh(a,_e);st.snapshot&&m.push(st.snapshot)}}else{const ee=yield Hy(a.localStore,b);N=yield Bd(a.localStore,ee),yield Vm(a,gg(ee),b,!1,N.resumeToken)}h.push(N)}return a.nc.zo(m),h}),pc.apply(this,arguments)}function gg(s){return Ul(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function mg(s){const e=gn(s);return gn(gn(e.localStore).persistence).bi()}function qm(s,e,t,a){return zf.apply(this,arguments)}function zf(){return zf=(0,ce.Z)(function*(s,e,t,a){const h=gn(s);if(h.fc)return void Gt("SyncEngine","Ignoring unexpected query state notification.");const m=h.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const b=yield zy(h.localStore,Bt(m[0])),N=dh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Wn.EMPTY_BYTE_STRING);yield dl(h,b,N);break}case"rejected":yield fc(h.localStore,e,!0),Yl(h,e,a);break;default:fn()}}),zf.apply(this,arguments)}function hl(s,e,t){return yg.apply(this,arguments)}function yg(){return yg=(0,ce.Z)(function*(s,e,t){const a=Fh(s);if(a.fc){for(const h of e){if(a.ic.has(h)){Gt("SyncEngine","Adding an already active target "+h);continue}const m=yield Hy(a.localStore,h),b=yield Bd(a.localStore,m);yield Vm(a,gg(m),b.targetId,!1,b.resumeToken),eg(a.remoteStore,b)}for(const h of t)a.ic.has(h)&&(yield fc(a.localStore,h,!1).then(()=>{kf(a.remoteStore,h),Yl(a,h)}).catch(_o))}}),yg.apply(this,arguments)}function Fh(s){const e=gn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s_.bind(null,e),e.nc.zo=xh.bind(null,e.eventManager),e.nc.wc=av.bind(null,e.eventManager),e}function Lh(s){const e=gn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pv.bind(null,e),e}class Bh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.serializer=Ud(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hp(this.persistence,new Mf,e.initialUser,this.serializer)}createPersistence(e){return new $y(wh.Fs,this.serializer)}createSharedClientState(e){return new wm}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gf extends Bh{constructor(e,t,a){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,ce.Z)(function*(){yield t().call(a,e),yield a.mc.initialize(a,e),yield Lh(a.mc.syncEngine),yield cl(a.mc.remoteStore),yield a.persistence.hi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Hp(this.persistence,new Mf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Ny(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new ad(t,this.persistence);return new sh(e.asyncQueue,a)}createPersistence(e){const t=Ch(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?al.withCacheSize(this.cacheSizeBytes):al.DEFAULT;return new Af(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Pf(),Of(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new wm}}class Wf extends Gf{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,ce.Z)(function*(){yield t().call(a,e);const h=a.mc.syncEngine;a.sharedClientState instanceof Zp&&(a.sharedClientState.syncEngine={$r:mv.bind(null,h),Mr:qm.bind(null,h),Fr:hl.bind(null,h),bi:mg.bind(null,h),Or:kh.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.hi(function(){var m=(0,ce.Z)(function*(b){yield function o_(s,e){return pg.apply(this,arguments)}(a.mc.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Pf();if(!Zp.D(t))throw new tn(kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ch(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zp(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class fl{initialize(e,t){var a=this;return(0,ce.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>hv(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=Ph.bind(null,a.syncEngine),yield Xy(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jy}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),a=new Cm(e.databaseInfo);return new X_(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=N=>hv(this.syncEngine,N,0),b=Ky.D()?new Ky:new Wy,new Jp(t,a,h,m,b);var t,a,h,m,b}createSyncEngine(e,t){return function(a,h,m,b,N,G,ee){const _e=new ls(a,h,m,b,N,G);return ee&&(_e.fc=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(t){const a=gn(t);Gt("RemoteStore","RemoteStore shutting down."),a.du.add(5),yield jd(a),a._u.shutdown(),a.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ym(s,e=10240){let t=0;return{read:()=>(0,ce.Z)(function*(){if(t<s.byteLength){const a={value:s.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Wd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zm{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(a=>{a&&a.ku()?this.metadata.resolve(a.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.Nu)}`))},a=>this.metadata.reject(a))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const a=e.Tc.decode(t),h=Number(a);isNaN(h)&&e.Rc(`length string (${a}) is not valid number`);const m=yield e.vc(h);return new t_(JSON.parse(m),t.length+h)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,ce.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}vc(e){var t=this;return(0,ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const a=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Qm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tn(kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,ce.Z)(function*(m,b){const N=gn(m),G=ju(N.serializer)+"/documents",ee={documents:b.map(en=>Vu(N.serializer,en))},_e=yield N.fo("BatchGetDocuments",G,ee,b.length),st=new Map;_e.forEach(en=>{const Dn=function yf(s,e){return"found"in e?function(t,a){Rn(!!a.found);const h=oc(t,a.found.name),m=Zs(a.found.updateTime),b=a.found.createTime?Zs(a.found.createTime):gr.min(),N=new qs({mapValue:{fields:a.found.fields}});return Vi.newFoundDocument(h,m,b,N)}(s,e):"missing"in e?function(t,a){Rn(!!a.missing),Rn(!!a.readTime);const h=oc(t,a.missing),m=Zs(a.readTime);return Vi.newNoDocument(h,m)}(s,e):fn()}(N.serializer,en);st.set(Dn.key.toString(),Dn)});const xt=[];return b.forEach(en=>{const Dn=st.get(en.toString());Rn(!!Dn),xt.push(Dn)}),xt}),function(m,b){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new su(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=Nn.fromPath(h);e.mutations.push(new gf(m,e.precondition(m)))}),yield(a=(0,ce.Z)(function*(h,m){const b=gn(h),N=ju(b.serializer)+"/documents",G={writes:m.map(ee=>gh(b.serializer,ee))};yield b.co("Commit",N,G)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fn();t=gr.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new tn(kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gr.min())?Ms.exists(!1):Ms.updateTime(t):Ms.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gr.min()))throw new tn(kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ms.updateTime(t)}return Ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xm{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.Vc=a.maxAttempts,this.Co=new Nf(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,ce.Z)(function*(){const t=new Qm(e.datastore),a=e.Dc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Cc(m)}))}).catch(h=>{e.Cc(h)})}))}Dc(e){try{const t=this.updateFunction(e);return!ya(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cy(t)}return!1}}class vg{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=Ne.UNAUTHENTICATED,this.clientId=Po.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var b=(0,ce.Z)(function*(N){Gt("FirestoreClient","Received user=",N.uid),yield m.authCredentialListener(N),m.user=N});return function(N){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(a,b=>(Gt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tn(kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=gu(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Eg(s,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,ce.Z)(function*(m){a.isEqual(m)||(yield Kl(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),Kf.apply(this,arguments)}function Kd(s,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield wg(s);Gt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(t,a),s.setCredentialChangeListener(h=>ov(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>ov(e.remoteStore,m)),s._onlineComponents=e}),Ig.apply(this,arguments)}function Jm(s){return"FirebaseError"===s.name?s.code===kt.FAILED_PRECONDITION||s.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function wg(s){return $h.apply(this,arguments)}function $h(){return $h=(0,ce.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Eg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Jm(t))throw t;Tr("Error using user provided cache. Falling back to memory cache: "+t),yield Eg(s,new Bh)}}else Gt("FirestoreClient","Using default OfflineComponentProvider"),yield Eg(s,new Bh);return s._offlineComponents}),$h.apply(this,arguments)}function Xu(s){return qd.apply(this,arguments)}function qd(){return qd=(0,ce.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Kd(s,s._uninitializedComponentsProvider._online)):(Gt("FirestoreClient","Using default OnlineComponentProvider"),yield Kd(s,new fl))),s._onlineComponents}),qd.apply(this,arguments)}function qf(s){return wg(s).then(e=>e.persistence)}function Uh(s){return wg(s).then(e=>e.localStore)}function Yf(s){return Xu(s).then(e=>e.remoteStore)}function Zl(s){return Xu(s).then(e=>e.syncEngine)}function jc(s){return bg.apply(this,arguments)}function bg(){return bg=(0,ce.Z)(function*(s){const e=yield Xu(s),t=e.eventManager;return t.onListen=Lv.bind(null,e.syncEngine),t.onUnlisten=uv.bind(null,e.syncEngine),t}),bg.apply(this,arguments)}function Cg(s,e,t={}){const a=new wi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(h,m,b,N,G){const ee=new Wd({next:st=>{m.enqueueAndForget(()=>ag(h,_e));const xt=st.docs.has(b);!xt&&st.fromCache?G.reject(new tn(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&st.fromCache&&N&&"server"===N.source?G.reject(new tn(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(st)},error:st=>G.reject(st)}),_e=new Lm(sl(b.path),ee,{includeMetadataChanges:!0,xu:!0});return sg(h,_e)}(yield jc(s),s.asyncQueue,e,t,a)})),a.promise}function Dg(s,e,t={}){const a=new wi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(h,m,b,N,G){const ee=new Wd({next:st=>{m.enqueueAndForget(()=>ag(h,_e)),st.fromCache&&"server"===N.source?G.reject(new tn(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(st)},error:st=>G.reject(st)}),_e=new Lm(b,ee,{includeMetadataChanges:!0,xu:!0});return sg(h,_e)}(yield jc(s),s.asyncQueue,e,t,a)})),a.promise}const Tg=new Map;function gc(s,e,t){if(!t)throw new tn(kt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Xf(s,e,t,a){if(!0===e&&!0===a)throw new tn(kt.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Hh(s){if(!Nn.isDocumentKey(s))throw new tn(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zd(s){if(Nn.isDocumentKey(s))throw new tn(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ty(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":fn()}function Si(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new tn(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ty(s);throw new tn(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function l_(s,e){if(e<=0)throw new tn(kt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class c_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tn(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tn(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tn(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tn(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new el;switch(t.type){case"firstParty":return new Jl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tn(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tg.get(e);t&&(Gt("ComponentProvider","Removing Datastore"),Tg.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class lo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Dl extends lo{constructor(e,t,a){super(e,t,sl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Nn(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function u_(s,e,...t){if(s=(0,Qe.m9)(s),gc("collection","path",e),s instanceof zh){const a=oi.fromString(e,...t);return Zd(a),new Dl(s,null,a)}{if(!(s instanceof ei||s instanceof Dl))throw new tn(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oi.fromString(e,...t));return Zd(a),new Dl(s.firestore,null,a)}}function Sg(s,e,...t){if(s=(0,Qe.m9)(s),1===arguments.length&&(e=Po.A()),gc("doc","path",e),s instanceof zh){const a=oi.fromString(e,...t);return Hh(a),new ei(s,null,new Nn(a))}{if(!(s instanceof ei||s instanceof Dl))throw new tn(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oi.fromString(e,...t));return Hh(a),new ei(s.firestore,s instanceof Dl?s.converter:null,new Nn(a))}}function h_(s,e){return s=(0,Qe.m9)(s),e=(0,Qe.m9)(e),(s instanceof ei||s instanceof Dl)&&(e instanceof ei||e instanceof Dl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function ny(s,e){return s=(0,Qe.m9)(s),e=(0,Qe.m9)(e),s instanceof lo&&e instanceof lo&&s.firestore===e.firestore&&P(s._query,e._query)&&s.converter===e.converter}class yu{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Nf(this,"async_queue_retry"),this.qc=()=>{const t=Of();t&&Gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Of();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Of();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new wi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,ce.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!ci(t))throw t;Gt("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(a=>{throw this.Mc=a,this.Fc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(a)),a}).then(a=>(this.Fc=!1,a))));return this.Nc=t,t}enqueueAfterDelay(e,t,a){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const h=$f.createAndSchedule(this,e,t,a,m=>this.Qc(m));return this.$c.push(h),h}Uc(){this.Mc&&fn()}verifyOperationInProgress(){}zc(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function ry(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(s)}class yv{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cs extends zh{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new yu,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mg(this),this._firestoreClient.terminate()}}function Rs(s){return s._firestoreClient||Mg(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Mg(s){var e,t,a;const h=s._freezeSettings(),m=(N=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Qc(s._databaseId,N,s._persistenceKey,(ee=h).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,ee.useFetchStreams));var N,ee;s._firestoreClient=new vg(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=h.cache)&&void 0!==a&&a._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function iy(s,e,t){const a=new wi;return s.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield Eg(s,t),yield Kd(s,e),a.resolve()}catch(h){const m=h;if(!Jm(m))throw m;Tr("Error enabling indexeddb cache. Falling back to memory cache: "+m),a.reject(m)}})).then(()=>a.promise)}function Rg(s){if(s._initialized||s._terminated)throw new tn(kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(Wn.fromBase64String(e))}catch(t){throw new tn(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tn(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xd{constructor(e){this._methodName=e}}class Gh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tn(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tn(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const m_=/^__.*__$/;class Jf{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Td(e,this.data,t,this.fieldTransforms)}}class Jd{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ep(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class tp{constructor(e,t,a,h,m,b){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===m&&this.Jc(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Zc({path:a,ta:!1});return h.ea(e),h}na(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Zc({path:a,ta:!1});return h.Jc(),h}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Ng(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(ep(this.Yc)&&m_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class ay{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ud(e)}ua(e,t,a,h=!1){return new tp({Yc:e,methodName:t,oa:a,path:$i.emptyPath(),ta:!1,ra:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vu(s){const e=s._freezeSettings(),t=Ud(s._databaseId);return new ay(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Wh(s,e,t,a,h,m={}){const b=s.ua(m.merge||m.mergeFields?2:0,e,t,h);uy("Data must be an object, but it was:",b,a);const N=E_(a,b);let G,ee;if(m.merge)G=new Hn(b.fieldMask),ee=b.fieldTransforms;else if(m.mergeFields){const _e=[];for(const st of m.mergeFields){const xt=rp(e,st,t);if(!b.contains(xt))throw new tn(kt.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);dy(_e,xt)||_e.push(xt)}G=new Hn(_e),ee=b.fieldTransforms.filter(st=>G.covers(st.field))}else G=null,ee=b.fieldTransforms;return new Jf(new qs(N),G,ee)}class ed extends Xd{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function y_(s,e,t){return new tp({Yc:3,oa:e.settings.oa,methodName:s._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xg extends Xd{_toFieldTransform(e){return new iu(e.path,new wd)}isEqual(e){return e instanceof xg}}class __ extends Xd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=y_(this,e,!0),a=this.ca.map(m=>eh(m,t)),h=new Fu(a);return new iu(e.path,h)}isEqual(e){return this===e}}class ly extends Xd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=y_(this,e,!0),a=this.ca.map(m=>eh(m,t)),h=new bd(a);return new iu(e.path,h)}isEqual(e){return this===e}}class Pg extends Xd{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Cd(e.serializer,uf(e.serializer,this.aa));return new iu(e.path,t)}isEqual(e){return this===e}}function np(s,e,t,a){const h=s.ua(1,e,t);uy("Data must be an object, but it was:",h,a);const m=[],b=qs.empty();U(a,(G,ee)=>{const _e=Og(e,G,t);ee=(0,Qe.m9)(ee);const st=h.na(_e);if(ee instanceof ed)m.push(_e);else{const xt=eh(ee,st);null!=xt&&(m.push(_e),b.set(_e,xt))}});const N=new Hn(m);return new Jd(b,N,h.fieldTransforms)}function cy(s,e,t,a,h,m){const b=s.ua(1,e,t),N=[rp(e,a,t)],G=[h];if(m.length%2!=0)throw new tn(kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<m.length;xt+=2)N.push(rp(e,m[xt])),G.push(m[xt+1]);const ee=[],_e=qs.empty();for(let xt=N.length-1;xt>=0;--xt)if(!dy(ee,N[xt])){const en=N[xt];let Dn=G[xt];Dn=(0,Qe.m9)(Dn);const Qn=b.na(en);if(Dn instanceof ed)ee.push(en);else{const Ir=eh(Dn,Qn);null!=Ir&&(ee.push(en),_e.set(en,Ir))}}const st=new Hn(ee);return new Jd(_e,st,b.fieldTransforms)}function v_(s,e,t,a=!1){return eh(t,s.ua(a?4:3,e))}function eh(s,e){if(I_(s=(0,Qe.m9)(s)))return uy("Unsupported field value:",e,s),E_(s,e);if(s instanceof Xd)return function(t,a){if(!ep(a.Yc))throw a.ia(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ia(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const b of t){let N=eh(b,a.sa(m));null==N&&(N={nullValue:"NULL_VALUE"}),h.push(N),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,a){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uf(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Ti.fromDate(t);return{timestampValue:fh(a.serializer,h)}}if(t instanceof Ti){const h=new Ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fh(a.serializer,h)}}if(t instanceof Gh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:Uu(a.serializer,t._byteString)};if(t instanceof ei){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.ia(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nc(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ia(`Unsupported field value: ${ty(t)}`)}(s,e)}function E_(s,e){const t={};return W(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):U(s,(a,h)=>{const m=eh(h,e.Xc(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function I_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Ti||s instanceof Gh||s instanceof gl||s instanceof ei||s instanceof Xd)}function uy(s,e,t){if(!I_(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=ty(t);throw e.ia("an object"===a?s+" a custom object":s+" "+a)}var a}function rp(s,e,t){if((e=(0,Qe.m9)(e))instanceof _u)return e._internalPath;if("string"==typeof e)return Og(s,e);throw Ng("Field path arguments must be of type string or ",s,!1,void 0,t)}const w_=new RegExp("[~\\*/\\[\\]]");function Og(s,e,t){if(e.search(w_)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new _u(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ng(s,e,t,a,h){const m=a&&!a.isEmpty(),b=void 0!==h;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let G="";return(m||b)&&(G+=" (found",m&&(G+=` in field ${a}`),b&&(G+=` in document ${h}`),G+=")"),new tn(kt.INVALID_ARGUMENT,N+s+G)}function dy(s,e){return s.some(t=>t.isEqual(e))}class ip{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hy extends ip{data(){return super.data()}}function kg(s,e){return"string"==typeof e?Og(s,e):e instanceof _u?e._internalPath:e._delegate._internalPath}function b_(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new tn(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class sp extends fy{}function Eu(s,e,...t){let a=[];e instanceof fy&&a.push(e),a=a.concat(t),function(h){const m=h.filter(N=>N instanceof Iu).length,b=h.filter(N=>N instanceof op).length;if(m>1||m>0&&b>0)throw new tn(kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)s=h._apply(s);return s}class op extends sp{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new op(e,t,a)}_apply(e){const t=this._parse(e);return Bg(e._query,t),new lo(e.firestore,e.converter,_(e._query,t))}_parse(e){const t=vu(e.firestore);return function(h,m,b,N,G,ee,_e){let st;if(G.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new tn(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){Ev(_e,ee);const xt=[];for(const en of _e)xt.push(Lg(N,h,en));st={arrayValue:{values:xt}}}else st=Lg(N,h,_e)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||Ev(_e,ee),st=v_(b,"where",_e,"in"===ee||"not-in"===ee);return ui.create(G,ee,st)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iu extends fy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iu(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Wi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,h){let m=a;const b=h.getFlattenedFilters();for(const N of b)Bg(m,N),m=_(m,N)}(e._query,t),new lo(e.firestore,e.converter,_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Fg extends sp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fg(e,t)}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new tn(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new tn(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ac(h,m);return function(N,G){if(null===Rc(N)){const ee=wa(N);null!==ee&&gy(0,ee,G.field)}}(a,b),b}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new il(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class th extends sp{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new th(e,t,a)}_apply(e){return new lo(e.firestore,e.converter,I(e._query,this._limit,this._limitType))}}class wu extends sp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new wu(e,t,a)}_apply(e){const t=Kh(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(h=t,new il((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class lp extends sp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new lp(e,t,a)}_apply(e){const t=Kh(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(h=t,new il((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function Kh(s,e,t,a){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof ip)return function(h,m,b,N,G){if(!N)throw new tn(kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const ee=[];for(const _e of Ou(h))if(_e.field.isKeyField())ee.push(nc(m,N.key));else{const st=N.data.field(_e.field);if(Ha(st))throw new tn(kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===st){const xt=_e.field.canonicalString();throw new tn(kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}ee.push(st)}return new za(ee,G)}(s._query,s.firestore._databaseId,e,t[0]._document,a);{const h=vu(s.firestore);return function(m,b,N,G,ee,_e){const st=m.explicitOrderBy;if(ee.length>st.length)throw new tn(kt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let en=0;en<ee.length;en++){const Dn=ee[en];if(st[en].field.isKeyField()){if("string"!=typeof Dn)throw new tn(kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Dn}`);if(!cf(m)&&-1!==Dn.indexOf("/"))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Dn}' contains a slash.`);const Qn=m.path.child(oi.fromString(Dn));if(!Nn.isDocumentKey(Qn))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Qn}' is not because it contains an odd number of segments.`);const Ir=new Nn(Qn);xt.push(nc(b,Ir))}else{const Qn=v_(N,G,Dn);xt.push(Qn)}}return new za(xt,_e)}(s._query,s.firestore._databaseId,h,e,t,a)}}function Lg(s,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new tn(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cf(e)&&-1!==t.indexOf("/"))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(oi.fromString(t));if(!Nn.isDocumentKey(a))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nc(s,new Nn(a))}if(t instanceof ei)return nc(s,t._key);throw new tn(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(t)}.`)}function Ev(s,e){if(!Array.isArray(s)||0===s.length)throw new tn(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bg(s,e){if(e.isInequality()){const a=wa(s),h=e.field;if(null!==a&&!a.isEqual(h))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${h.toString()}'`);const m=Rc(s);null!==m&&gy(0,h,m)}const t=function(a,h){for(const m of a)for(const b of m.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new tn(kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gy(s,e,t){if(!t.isEqual(e))throw new tn(kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Sr{convertValue(e,t="none"){switch(tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ts(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fn()}}convertObject(e,t){const a={};return U(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new Gh(ts(e.latitude),ts(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Fo(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const t=ai(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=oi.fromString(e);Rn(Ef(a));const h=new Bl(a.get(1),a.get(3)),m=new Nn(a.popFirst(5));return h.isEqual(t)||tr(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function $g(s,e,t){let a;return a=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,a}class Iv extends Sr{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class us{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nd extends ip{constructor(e,t,a,h,m,b){super(e,t,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class qh extends nd{data(e={}){return super.data(e)}}class zc{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new us(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new qh(this._firestore,this._userDataWriter,a.key,a,new us(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tn(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(b=>({type:"added",doc:new qh(a._firestore,a._userDataWriter,b.doc.key,b.doc,new us(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const N=new qh(a._firestore,a._userDataWriter,b.doc.key,b.doc,new us(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter);let G=-1,ee=-1;return 0!==b.type&&(G=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),ee=m.indexOf(b.doc.key)),{type:Vg(b.type),doc:N,oldIndex:G,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vg(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}function jg(s,e){return s instanceof nd&&e instanceof nd?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof zc&&e instanceof zc&&s._firestore===e._firestore&&ny(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class Gc extends Sr{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function N_(s,e,t){s=Si(s,ei);const a=Si(s.firestore,cs),h=$g(s.converter,e,t);return Yh(a,[Wh(vu(a),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,Ms.none())])}function yy(s,e,t,...a){s=Si(s,ei);const h=Si(s.firestore,cs),m=vu(h);let b;return b="string"==typeof(e=(0,Qe.m9)(e))||e instanceof _u?cy(m,"updateDoc",s._key,e,t,a):np(m,"updateDoc",s._key,e),Yh(h,[b.toMutation(s._key,Ms.exists(!0))])}function vy(s,...e){var t,a,h;s=(0,Qe.m9)(s);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||ry(e[b])||(m=e[b],b++);const N={includeMetadataChanges:m.includeMetadataChanges};if(ry(e[b])){const st=e[b];e[b]=null===(t=st.next)||void 0===t?void 0:t.bind(st),e[b+1]=null===(a=st.error)||void 0===a?void 0:a.bind(st),e[b+2]=null===(h=st.complete)||void 0===h?void 0:h.bind(st)}let G,ee,_e;if(s instanceof ei)ee=Si(s.firestore,cs),_e=sl(s._key.path),G={next:st=>{e[b]&&e[b](k_(ee,s,st))},error:e[b+1],complete:e[b+2]};else{const st=Si(s,lo);ee=Si(st.firestore,cs),_e=st._query;const xt=new Gc(ee);G={next:en=>{e[b]&&e[b](new zc(ee,xt,st,en))},error:e[b+1],complete:e[b+2]},b_(s._query)}return function(st,xt,en,Dn){const Qn=new Wd(Dn),Ir=new Lm(xt,Qn,en);return st.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return sg(yield jc(st),Ir)})),()=>{Qn.yc(),st.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return ag(yield jc(st),Ir)}))}}(Rs(ee),_e,N,G)}function Yh(s,e){return function(t,a){const h=new wi;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function dv(s,e,t){return ug.apply(this,arguments)}(yield Zl(t),a,h)})),h.promise}(Rs(s),e)}function k_(s,e,t){const a=t.docs.get(e._key),h=new Gc(s);return new nd(s,h,e._key,a,new us(t.hasPendingWrites,t.fromCache),e.converter)}const Xe={maxAttempts:5};class ut{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vu(e)}set(e,t,a){this._verifyNotCommitted();const h=Ct(e,this._firestore),m=$g(h.converter,t,a),b=Wh(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Ms.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=Ct(e,this._firestore);let b;return b="string"==typeof(t=(0,Qe.m9)(t))||t instanceof _u?cy(this._dataReader,"WriteBatch.update",m._key,t,a,h):np(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(b.toMutation(m._key,Ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ct(e,this._firestore);return this._mutations=this._mutations.concat(new su(t._key,Ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tn(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ct(s,e){if((s=(0,Qe.m9)(s)).firestore!==e)throw new tn(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Zt extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vu(e)}get(e){const t=Ct(e,this._firestore),a=new Iv(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return fn();const m=h[0];if(m.isFoundDocument())return new ip(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new ip(this._firestore,a,t._key,null,t.converter);throw fn()})}set(e,t,a){const h=Ct(e,this._firestore),m=$g(h.converter,t,a),b=Wh(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,b),this}update(e,t,a,...h){const m=Ct(e,this._firestore);let b;return b="string"==typeof(t=(0,Qe.m9)(t))||t instanceof _u?cy(this._dataReader,"Transaction.update",m._key,t,a,h):np(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,b),this}delete(e){const t=Ct(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ct(e,this._firestore),a=new Gc(this._firestore);return super.get(e).then(h=>new nd(this._firestore,a,t._key,h._document,new us(!1,!1),t.converter))}}!function(s,e=!0){Lt=Q.SDK_VERSION,(0,Q._registerComponent)(new He.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const m=t.getProvider("app").getImmediate(),b=new cs(new tl(t.getProvider("auth-internal")),new wc(t.getProvider("app-check-internal")),function(N,G){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new tn(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(N.options.projectId,G)}(m,a),m);return h=Object.assign({useFetchStreams:e},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(ae,"3.10.1",s),(0,Q.registerVersion)(ae,"3.10.1","esm2017")}();function Wc(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function _c(){if(typeof Uint8Array>"u")throw new tn("unimplemented","Uint8Arrays are not available in this environment.")}function Zh(){if(!function ni(){return typeof atob<"u"}())throw new tn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Kc{constructor(e){this._delegate=e}static fromBase64String(e){return Zh(),new Kc(gl.fromBase64String(e))}static fromUint8Array(e){return _c(),new Kc(gl.fromUint8Array(e))}toBase64(){return Zh(),this._delegate.toBase64()}toUint8Array(){return _c(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nh(s){return function Qh(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(s,["next","error","complete"])}class Xh{enableIndexedDbPersistence(e,t){return function Ql(s,e){Rg(s=Si(s,cs));const t=Rs(s);if(t._uninitializedComponentsProvider)throw new tn(kt.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=s._freezeSettings(),h=new fl;return iy(t,h,new Gf(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function p_(s){Rg(s=Si(s,cs));const e=Rs(s);if(e._uninitializedComponentsProvider)throw new tn(kt.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),a=new fl;return iy(e,a,new Wf(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Hc(s){if(s._initialized&&!s._terminated)throw new tn(kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(t=(0,ce.Z)(function*(a){if(!Ws.D())return Promise.resolve();const h=a+"main";yield Ws.delete(h)}),function(a){return t.apply(this,arguments)})(Ch(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yr{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function pl(s,e,t,a={}){var h;const m=(s=Si(s,zh))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let b,N;if("string"==typeof a.mockUserToken)b=a.mockUserToken,N=Ne.MOCK_USER;else{b=(0,Qe.Sg)(a.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const G=a.mockUserToken.sub||a.mockUserToken.user_id;if(!G)throw new tn(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ne(G)}s._authCredentials=new vl(new Ja(b,N))}}(this._delegate,e,t,a)}enableNetwork(){return function yc(s){return function jh(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield qf(s),t=yield Yf(s);return e.setNetworkEnabled(!0),function(a){const h=gn(a);return h.du.delete(0),Vd(h)}(t)}))}(Rs(s=Si(s,cs)))}(this._delegate)}disableNetwork(){return function g_(s){return function ey(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield qf(s),t=yield Yf(s);return e.setNetworkEnabled(!1),(a=(0,ce.Z)(function*(h){const m=gn(h);m.du.add(0),yield jd(m),m.mu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(Rs(s=Si(s,cs)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,Xf("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mc(s){return function(e){const t=new wi;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function gv(s,e){return ql.apply(this,arguments)}(yield Zl(e),t)})),t.promise}(Rs(s=Si(s,cs)))}(this._delegate)}onSnapshotsInSync(e){return function Dv(s,e){return function Zf(s,e){const t=new Wd(e);return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return a=yield jc(s),h=t,gn(a).Au.add(h),void h.next();var a,h})),()=>{t.yc(),s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return a=yield jc(s),h=t,void gn(a).Au.delete(h);var a,h}))}}(Rs(s=Si(s,cs)),ry(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new id(this,u_(this._delegate,e))}catch(t){throw Ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new xs(this,Sg(this._delegate,e))}catch(t){throw Ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new co(this,function d_(s,e){if(s=Si(s,zh),gc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tn(kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lo(s,null,(t=e,new il(oi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nn(s,e,t){s=Si(s,cs);const a=Object.assign(Object.assign({},Xe),t);return function(h){if(h.maxAttempts<1)throw new tn(kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(h,m,b){const N=new wi;return h.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const G=yield function Vh(s){return Xu(s).then(e=>e.datastore)}(h);new Xm(h.asyncQueue,G,b,m,N).run()})),N.promise}(Rs(s),h=>e(new Zt(s,h)),a)}(this._delegate,t=>e(new Ei(this,t)))}batch(){return Rs(this._delegate),new Vs(new ut(this._delegate,e=>Yh(this._delegate,e)))}loadBundle(e){return function Qd(s,e){const t=Rs(s=Si(s,cs)),a=new yv;return function da(s,e,t,a){const h=function(m,b){let N;return N="string"==typeof m?(new TextEncoder).encode(m):m,G=function(G,ee){if(G instanceof Uint8Array)return Ym(G,void 0);if(G instanceof ArrayBuffer)return Ym(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Zm(G,b);var G}(t,Ud(e));s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function _g(s,e,t){const a=gn(s);var h;(h=(0,ce.Z)(function*(m,b,N){try{const G=yield b.getMetadata();if(yield function(xt,en){const Dn=gn(xt),Qn=Zs(en.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",Ir=>Dn.xs.getBundleMetadata(Ir,en.id)).then(Ir=>!!Ir&&Ir.createTime.compareTo(Qn)>=0)}(m.localStore,G))return yield b.close(),N._completeWith({taskState:"Success",documentsLoaded:(xt=G).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);N._updateProgress(Bm(G));const ee=new lv(G,m.localStore,b.serializer);let _e=yield b._c();for(;_e;){const xt=yield ee.$u(_e);xt&&N._updateProgress(xt),_e=yield b._c()}const st=yield ee.complete();return yield dl(m,st.Bu,void 0),yield function(xt,en){const Dn=gn(xt);return Dn.persistence.runTransaction("Save bundle","readwrite",Qn=>Dn.xs.saveBundleMetadata(Qn,en))}(m.localStore,G),N._completeWith(st.progress),Promise.resolve(st.Fu)}catch(G){return Tr("SyncEngine",`Loading bundle failed with ${G}`),N._failWith(G),Promise.resolve(new Set)}var xt}),function(m,b,N){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Zl(s),h,a)}))}(t,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function sy(s,e){return function Yd(s,e){return s.asyncQueue.enqueue((0,ce.Z)(function*(){return function(t,a){const h=gn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.xs.getNamedQuery(m,a))}(yield Uh(s),e)}))}(Rs(s=Si(s,cs)),e).then(t=>t?new lo(s,null,t.query):null)}(this._delegate,e).then(t=>t?new co(this,t):null)}}class Dr extends Sr{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xs.forKey(t,this.firestore,null)}}class Ei{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dr(e)}get(e){const t=ef(e);return this._delegate.get(t).then(a=>new Jh(this._firestore,new nd(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=ef(e);return a?(Wc("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=ef(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}}class Vs{constructor(e){this._delegate=e}set(e,t,a){const h=ef(e);return a?(Wc("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=ef(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pa{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Co(this._firestore,a),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=pa.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new pa(e,new Dr(e),t),h.set(t,m)),m}}pa.INSTANCES=new WeakMap;class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dr(e)}static forPath(e,t,a){if(e.length%2!=0)throw new tn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xs(t,new ei(t._delegate,a,new Nn(e)))}static forKey(e,t,a){return new xs(t,new ei(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new id(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new id(this.firestore,u_(this._delegate,e))}catch(t){throw Ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof ei&&h_(this._delegate,e)}set(e,t){t=Wc("DocumentReference.set",t);try{return t?N_(this._delegate,e,t):N_(this._delegate,e)}catch(a){throw Ps(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?yy(this._delegate,e):yy(this._delegate,e,t,...a)}catch(h){throw Ps(h,"updateDoc()","DocumentReference.update()")}}delete(){return function _y(s){return Yh(Si(s.firestore,cs),[new su(s._key,Ms.none())])}(this._delegate)}onSnapshot(...e){const t=Os(e),a=Hg(e,h=>new Jh(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return vy(this._delegate,t,a)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function O_(s){s=Si(s,ei);const e=Si(s.firestore,cs),t=Rs(e),a=new Gc(e);return function a_(s,e){const t=new wi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(a=(0,ce.Z)(function*(h,m,b){try{const N=yield function(G,ee){const _e=gn(G);return _e.persistence.runTransaction("read document","readonly",st=>_e.localDocuments.getDocument(st,ee))}(h,m);N.isFoundDocument()?b.resolve(N):N.isNoDocument()?b.resolve(null):b.reject(new tn(kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const G=gu(N,`Failed to get document '${m} from cache`);b.reject(G)}}),function(h,m,b){return a.apply(this,arguments)})(yield Uh(s),e,t);var a})),t.promise}(t,s._key).then(h=>new nd(e,a,s._key,h,new us(null!==h&&h.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function wv(s){s=Si(s,ei);const e=Si(s.firestore,cs);return Cg(Rs(e),s._key,{source:"server"}).then(t=>k_(e,s,t))}(this._delegate):function P_(s){s=Si(s,ei);const e=Si(s.firestore,cs);return Cg(Rs(e),s._key).then(t=>k_(e,s,t))}(this._delegate),t.then(a=>new Jh(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?pa.getInstance(this.firestore,e):null))}}function Ps(s,e,t){return s.message=s.message.replace(e,t),s}function Os(s){for(const e of s)if("object"==typeof e&&!nh(e))return e;return{}}function Hg(s,e){var t,a;let h;return h=nh(s[0])?s[0]:nh(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class Jh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jg(this._delegate,e._delegate)}}class Co extends Jh{data(e){const t=this._delegate.data(e);return function mo(s,e){s||fn()}(void 0!==t),t}}class co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dr(e)}where(e,t,a){try{return new co(this.firestore,Eu(this._delegate,function Tl(s,e,t){const a=e,h=kg("where",s);return op._create(h,a,t)}(e,t,a)))}catch(h){throw Ps(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new co(this.firestore,Eu(this._delegate,function C_(s,e="asc"){const t=e,a=kg("orderBy",s);return Fg._create(a,t)}(e,t)))}catch(a){throw Ps(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new co(this.firestore,Eu(this._delegate,function D_(s){return l_("limit",s),th._create("limit",s,"F")}(e)))}catch(t){throw Ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new co(this.firestore,Eu(this._delegate,function T_(s){return l_("limitToLast",s),th._create("limitToLast",s,"L")}(e)))}catch(t){throw Ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new co(this.firestore,Eu(this._delegate,function S_(...s){return wu._create("startAt",s,!0)}(...e)))}catch(t){throw Ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new co(this.firestore,Eu(this._delegate,function td(...s){return wu._create("startAfter",s,!1)}(...e)))}catch(t){throw Ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new co(this.firestore,Eu(this._delegate,function A_(...s){return lp._create("endBefore",s,!1)}(...e)))}catch(t){throw Ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new co(this.firestore,Eu(this._delegate,function ha(...s){return lp._create("endAt",s,!0)}(...e)))}catch(t){throw Ps(t,"endAt()","Query.endAt()")}}isEqual(e){return ny(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Cv(s){s=Si(s,lo);const e=Si(s.firestore,cs),t=Rs(e),a=new Gc(e);return function mu(s,e){const t=new wi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(a=(0,ce.Z)(function*(h,m,b){try{const N=yield Rf(h,m,!0),G=new $m(m,N.Wi),ee=G.zu(N.documents),_e=G.applyChanges(ee,!1);b.resolve(_e.snapshot)}catch(N){const G=gu(N,`Failed to execute query '${m} against cache`);b.reject(G)}}),function(h,m,b){return a.apply(this,arguments)})(yield Uh(s),e,t);var a})),t.promise}(t,s._query).then(h=>new zc(e,a,s,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function up(s){s=Si(s,lo);const e=Si(s.firestore,cs),t=Rs(e),a=new Gc(e);return Dg(t,s._query,{source:"server"}).then(h=>new zc(e,a,s,h))}(this._delegate):function bv(s){s=Si(s,lo);const e=Si(s.firestore,cs),t=Rs(e),a=new Gc(e);return b_(s._query),Dg(t,s._query).then(h=>new zc(e,a,s,h))}(this._delegate),t.then(a=>new rd(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=Os(e),a=Hg(e,h=>new rd(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return vy(this._delegate,t,a)}withConverter(e){return new co(this.firestore,this._delegate.withConverter(e?pa.getInstance(this.firestore,e):null))}}class Xl{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Co(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rd{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Co(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Xl(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new Co(this._firestore,a))})}isEqual(e){return jg(this._delegate,e._delegate)}}class id extends co{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xs(this.firestore,e):null}doc(e){try{return new xs(this.firestore,void 0===e?Sg(this._delegate):Sg(this._delegate,e))}catch(t){throw Ps(t,"doc()","CollectionReference.doc()")}}add(e){return function dp(s,e){const t=Si(s.firestore,cs),a=Sg(s),h=$g(s.converter,e);return Yh(t,[Wh(vu(s.firestore),"addDoc",a._key,h,null!==s.converter,{}).toMutation(a._key,Ms.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new xs(this.firestore,t))}isEqual(e){return h_(this._delegate,e._delegate)}withConverter(e){return new id(this.firestore,this._delegate.withConverter(e?pa.getInstance(this.firestore,e):null))}}function ef(s){return Si(s,ei)}class Tv{constructor(...e){this._delegate=new _u(...e)}static documentId(){return new Tv($i.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof _u&&this._delegate._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nr(){return new xg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hp(e)}static delete(){const e=function xn(){return new ed("deleteField")}();return e._methodName="FieldValue.delete",new hp(e)}static arrayUnion(...e){const t=function kr(...s){return new __("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new hp(t)}static arrayRemove(...e){const t=function Ai(...s){return new ly("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new hp(t)}static increment(e){const t=function vi(s){return new Pg("increment",s)}(e);return t._methodName="FieldValue.increment",new hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e0={Firestore:yr,GeoPoint:Gh,Timestamp:Ti,Blob:Kc,Transaction:Ei,WriteBatch:Vs,DocumentReference:xs,DocumentSnapshot:Jh,Query:co,QueryDocumentSnapshot:Co,QuerySnapshot:rd,CollectionReference:id,FieldPath:Tv,FieldValue:hp,setLogLevel:function Fr(s){!function Mr(s){Qt.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function n0(s){(function t0(s,e){s.INTERNAL.registerComponent(new He.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},e0)))})(s,(e,t)=>new yr(e,t,new Xh)),s.registerVersion("@firebase/firestore-compat","0.3.7")}(Ce.Z);var tf=L(1205),r0=L(6217),s0=L(9260);function Sv(s,e){return function $v(s,e=g.z){return new q.y(t=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},t)}):a=s.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=a&&a()}})}(s,e)}function Av(s,e){return Sv(s,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function Ey(s,e){return Av(s,e).pipe((0,De.O)(void 0),Te(),(0,me.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((b,N)=>{const G=h.find(_e=>_e.doc.ref.isEqual(b.ref)),ee=null==t?void 0:t.payload.docs.find(_e=>_e.ref.isEqual(b.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(b.metadata)||!G&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(b.metadata)||m.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:b}})}),m}))}function Uv(s,e,t){return Ey(s,t).pipe((0,Se.R)((a,h)=>function a0(s,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(s=function Rv(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mv(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mv(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mv(s,e.oldIndex,1)}return s}(s,a))}),s}(a,h.map(m=>m.payload),e),[]),(0,Be.x)(),(0,me.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function Mv(s,e,t,...a){const h=s.slice();return h.splice(e,t,...a),h}function F_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class xv{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=Ey(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,De.O)(void 0),Te(),(0,$e.h)(([a,h])=>h.length>0||!a),(0,me.U)(([a,h])=>h),xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=F_(e);return Uv(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return Av(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),xe.iC)}get(e){return(0,oe.D)(this.query.get(e)).pipe(xe.iC)}add(e){return this.ref.add(e)}doc(e){return new L_(this.ref.doc(e),this.afs)}}class L_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=fp(a,t);return new xv(h,m,this.afs)}snapshotChanges(){return function o0(s,e){return Sv(s,e).pipe((0,De.O)(void 0),Te(),(0,me.U)(([t,a])=>a.exists?null!=t&&t.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,oe.D)(this.ref.get(e)).pipe(xe.iC)}}class l0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ey(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,$e.h)(t=>t.length>0),xe.iC):Ey(this.query,this.afs.schedulers.outsideAngular).pipe(xe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=F_(e);return Uv(this.query,t,this.afs.schedulers.outsideAngular).pipe(xe.iC)}valueChanges(e={}){return Av(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),xe.iC)}get(e){return(0,oe.D)(this.query.get(e)).pipe(xe.iC)}}const Vv=new y.OlP("angularfire2.enableFirestorePersistence"),B_=new y.OlP("angularfire2.firestore.persistenceSettings"),c0=new y.OlP("angularfire2.firestore.settings"),jv=new y.OlP("angularfire2.firestore.use-emulator");function fp(s,e=(t=>t)){return{query:e(s),ref:s}}let Pv=(()=>{class s{constructor(t,a,h,m,b,N,G,ee,_e,st,xt,en,Dn,Qn,Ir,Ki,Ns){this.schedulers=G;const Mi=(0,Ye.on)(t,N,a),Ta=_e;st&&(0,tf.nw)(Mi,N,xt,Dn,Qn,Ir,en,Ki),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${Mi.name}.firestore`,"AngularFirestore",Mi.name,()=>{const ks=N.runOutsideAngular(()=>Mi.firestore());if(m&&ks.settings(m),Ta&&ks.useEmulator(...Ta),h&&!(0,nt.PM)(b)){const Fs=()=>{try{return(0,oe.D)(ks.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Sl){return typeof console<"u"&&console.warn(Sl),(0,Re.of)(!1)}};return[ks,N.runOutsideAngular(Fs)]}return[ks,(0,Re.of)(!1)]},[m,Ta,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:b}=fp(h,a),N=this.schedulers.ngZone.run(()=>m);return new xv(N,b,this)}collectionGroup(t,a){const h=a||(b=>b),m=this.firestore.collectionGroup(t);return new l0(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new L_(h,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(y.LFG(Ye.Dh),y.LFG(Ye.xv,8),y.LFG(Vv,8),y.LFG(c0,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(xe.HU),y.LFG(B_,8),y.LFG(jv,8),y.LFG(tf.zQ,8),y.LFG(tf.Qv,8),y.LFG(tf.L6,8),y.LFG(tf._Q,8),y.LFG(tf.rT,8),y.LFG(tf.lh,8),y.LFG(tf.f7,8),y.LFG(r0.nm,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),u0=(()=>{class s{constructor(){s0.Z.registerVersion("angularfire",xe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:Vv,useValue:!0},{provide:B_,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[Pv]}),s})()},2011:(an,lt,L)=>{"use strict";L.d(lt,{Dh:()=>ye,GT:()=>xe,cc:()=>$e,hO:()=>Be,on:()=>Te,pX:()=>Re,xv:()=>Fe});var y=L(4650),g=L(9260),q=L(2122);an=L.hmd(an);const oe=["ngOnDestroy"],Re=(Ce,ce,Q,He={})=>new Proxy(Ce,{get:(Me,Qe)=>Q.runOutsideAngular(()=>{var mt;if(Ce[Qe])return!(null===(mt=null==He?void 0:He.spy)||void 0===mt)&&mt.get&&He.spy.get(Qe,Ce[Qe]),Ce[Qe];if(oe.indexOf(Qe)>-1)return()=>{};const We=ce.toPromise().then(ne=>{const qe=ne&&ne[Qe];return"function"==typeof qe?qe.bind(ne):qe&&qe.then?qe.then(we=>Q.run(()=>we)):Q.run(()=>qe)});return new Proxy(()=>{},{get:(ne,qe)=>We[qe],apply:(ne,qe,we)=>We.then(rt=>{var bt;const Ke=rt&&rt(...we);return!(null===(bt=null==He?void 0:He.spy)||void 0===bt)&&bt.apply&&He.spy.apply(Qe,we,Ke),Ke})})})}),xe=(Ce,ce)=>{ce.forEach(Q=>{Object.getOwnPropertyNames(Q.prototype||Q).forEach(He=>{Object.defineProperty(Ce.prototype,He,Object.getOwnPropertyDescriptor(Q.prototype||Q,He))})})};class De{constructor(ce){return ce}}const ye=new y.OlP("angularfire2.app.options"),Fe=new y.OlP("angularfire2.app.name");function Te(Ce,ce,Q){const Me="object"==typeof Q&&Q||{};Me.name=Me.name||"string"==typeof Q&&Q||"[DEFAULT]";const mt=g.Z.apps.filter(We=>We&&We.name===Me.name)[0]||ce.runOutsideAngular(()=>g.Z.initializeApp(Ce,Me));try{JSON.stringify(Ce)!==JSON.stringify(mt.options)&&me("error",`${mt.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(mt)}const me=(Ce,...ce)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ce](...ce)},Se={provide:De,useFactory:Te,deps:[ye,y.R0b,[new y.FiY,Fe]]};let Be=(()=>{class Ce{constructor(Q){g.Z.registerVersion("angularfire",q.q4.full,"core"),g.Z.registerVersion("angularfire",q.q4.full,"app-compat"),g.Z.registerVersion("angular",y.q4F.full,Q.toString())}static initializeApp(Q,He){return{ngModule:Ce,providers:[{provide:ye,useValue:Q},{provide:Fe,useValue:He}]}}}return Ce.\u0275fac=function(Q){return new(Q||Ce)(y.LFG(y.Lbi))},Ce.\u0275mod=y.oAB({type:Ce}),Ce.\u0275inj=y.cJS({providers:[Se]}),Ce})();function $e(Ce,ce,Q,He,Me){const[,Qe,mt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===Ce)||[];if(Qe)return function Ye(Ce,ce){try{return Ce.toString()===ce.toString()}catch{return Ce===ce}}(Me,mt)||(Pe("error",`${ce} was already initialized on the ${Q} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Me,was:mt})),Qe;{const We=He();return globalThis.\u0275AngularfireInstanceCache.push([Ce,We,Me]),We}}const nt=!!an.hot,Pe=(Ce,...ce)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ce](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(an,lt,L)=>{"use strict";L.d(lt,{q4:()=>ko,iC:()=>Ua,fc:()=>rl,HU:()=>as,vb:()=>cn,JM:()=>mn});var y=L(4650),g=L(259),q=L(5861),oe=L(9681),Re=L(2090),xe=L(4859),De=L(1877),ye=L(8766);const Fe="@firebase/installations",Te="0.6.4",me=1e4,Se=`w:${Te}`,Be="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Ye=36e5,ce=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Q(U){return U instanceof Re.ZR&&U.code.includes("request-failed")}function He({projectId:U}){return`${$e}/projects/${U}/installations`}function Me(U){return{token:U.token,requestStatus:2,expiresIn:rt(U.expiresIn),creationTime:Date.now()}}function Qe(U,W){return mt.apply(this,arguments)}function mt(){return(mt=(0,q.Z)(function*(U,W){const Ge=(yield W.json()).error;return ce.create("request-failed",{requestName:U,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function We({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function qe(U){return we.apply(this,arguments)}function we(){return(we=(0,q.Z)(function*(U){const W=yield U();return W.status>=500&&W.status<600?U():W})).apply(this,arguments)}function rt(U){return Number(U.replace("s","000"))}function dt(){return(dt=(0,q.Z)(function*({appConfig:U,heartbeatServiceProvider:W},{fid:ie}){const Ge=He(U),vt=We(U),ft=W.getImmediate({optional:!0});if(ft){const ur=yield ft.getHeartbeatsHeader();ur&&vt.append("x-firebase-client",ur)}const Un={method:"POST",headers:vt,body:JSON.stringify({fid:ie,authVersion:Be,appId:U.appId,sdkVersion:Se})},Hn=yield qe(()=>fetch(Ge,Un));if(Hn.ok){const ur=yield Hn.json();return{fid:ur.fid||ie,registrationStatus:2,refreshToken:ur.refreshToken,authToken:Me(ur.authToken)}}throw yield Qe("Create Installation",Hn)})).apply(this,arguments)}function Dt(U){return new Promise(W=>{setTimeout(W,U)})}const ze=/^[cdef][\w-]{21}$/,Ue="";function je(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ie=function Et(U){return function _t(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return ze.test(ie)?ie:Ue}catch{return Ue}}function yt(U){return`${U.appName}!${U.appId}`}const Tt=new Map;function Ut(U,W){const ie=yt(U);ct(ie,W),function At(U,W){const ie=function bn(){return!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=U=>{ct(U.data.key,U.data.fid)}),Jt}();ie&&ie.postMessage({key:U,fid:W}),function Fn(){0===Tt.size&&Jt&&(Jt.close(),Jt=null)}()}(ie,W)}function ct(U,W){const ie=Tt.get(U);if(ie)for(const Ge of ie)Ge(W)}let Jt=null;const hn="firebase-installations-database",Kt=1,In="firebase-installations-store";let jt=null;function Or(){return jt||(jt=(0,ye.X3)(hn,Kt,{upgrade:(U,W)=>{0===W&&U.createObjectStore(In)}})),jt}function jn(U,W){return dn.apply(this,arguments)}function dn(){return(dn=(0,q.Z)(function*(U,W){const ie=yt(U),vt=(yield Or()).transaction(In,"readwrite"),ft=vt.objectStore(In),un=yield ft.get(ie);return yield ft.put(W,ie),yield vt.done,(!un||un.fid!==W.fid)&&Ut(U,W.fid),W})).apply(this,arguments)}function ar(U){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,q.Z)(function*(U){const W=yt(U),Ge=(yield Or()).transaction(In,"readwrite");yield Ge.objectStore(In).delete(W),yield Ge.done})).apply(this,arguments)}function Er(U,W){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,q.Z)(function*(U,W){const ie=yt(U),vt=(yield Or()).transaction(In,"readwrite"),ft=vt.objectStore(In),un=yield ft.get(ie),Un=W(un);return void 0===Un?yield ft.delete(ie):yield ft.put(Un,ie),yield vt.done,Un&&(!un||un.fid!==Un.fid)&&Ut(U,Un.fid),Un})).apply(this,arguments)}function zr(U){return mr.apply(this,arguments)}function mr(){return mr=(0,q.Z)(function*(U){let W;const ie=yield Er(U.appConfig,Ge=>{const vt=function hr(U){return Kr(U||{fid:je(),registrationStatus:0})}(Ge),ft=function Cn(U,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(ce.create("app-offline"))};const ie={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function sn(U,W){return xr.apply(this,arguments)}(U,ie);return{installationEntry:ie,registrationPromise:Ge}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Wr(U)}:{installationEntry:W}}(U,vt);return W=ft.registrationPromise,ft.installationEntry});return ie.fid===Ue?{installationEntry:yield W}:{installationEntry:ie,registrationPromise:W}}),mr.apply(this,arguments)}function xr(){return xr=(0,q.Z)(function*(U,W){try{const ie=yield function Ke(U,W){return dt.apply(this,arguments)}(U,W);return jn(U.appConfig,ie)}catch(ie){throw Q(ie)&&409===ie.customData.serverCode?yield ar(U.appConfig):yield jn(U.appConfig,{fid:W.fid,registrationStatus:0}),ie}}),xr.apply(this,arguments)}function Wr(U){return dr.apply(this,arguments)}function dr(){return(dr=(0,q.Z)(function*(U){let W=yield ii(U.appConfig);for(;1===W.registrationStatus;)yield Dt(100),W=yield ii(U.appConfig);if(0===W.registrationStatus){const{installationEntry:ie,registrationPromise:Ge}=yield zr(U);return Ge||ie}return W})).apply(this,arguments)}function ii(U){return Er(U,W=>{if(!W)throw ce.create("installation-not-found");return Kr(W)})}function Kr(U){return function Ri(U){return 1===U.registrationStatus&&U.registrationTime+me<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Qr(){return(Qr=(0,q.Z)(function*({appConfig:U,heartbeatServiceProvider:W},ie){const Ge=function rr(U,{fid:W}){return`${He(U)}/${W}/authTokens:generate`}(U,ie),vt=function ne(U,{refreshToken:W}){const ie=We(U);return ie.append("Authorization",function bt(U){return`${Be} ${U}`}(W)),ie}(U,ie),ft=W.getImmediate({optional:!0});if(ft){const ur=yield ft.getHeartbeatsHeader();ur&&vt.append("x-firebase-client",ur)}const Un={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:Se,appId:U.appId}})},Hn=yield qe(()=>fetch(Ge,Un));if(Hn.ok)return Me(yield Hn.json());throw yield Qe("Generate Auth Token",Hn)})).apply(this,arguments)}function Ii(U){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,q.Z)(function*(U,W=!1){let ie;const Ge=yield Er(U.appConfig,ft=>{if(!fr(ft))throw ce.create("not-registered");const un=ft.authToken;if(!W&&function Ar(U){return 2===U.requestStatus&&!function Je(U){const W=Date.now();return W<U.creationTime||U.creationTime+U.expiresIn<W+Ye}(U)}(un))return ft;if(1===un.requestStatus)return ie=function ln(U,W){return Ht.apply(this,arguments)}(U,W),ft;{if(!navigator.onLine)throw ce.create("app-offline");const Un=function Ve(U){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:W})}(ft);return ie=function Vn(U,W){return Gn.apply(this,arguments)}(U,Un),Un}});return ie?yield ie:Ge.authToken}),Jn.apply(this,arguments)}function Ht(){return(Ht=(0,q.Z)(function*(U,W){let ie=yield En(U.appConfig);for(;1===ie.authToken.requestStatus;)yield Dt(100),ie=yield En(U.appConfig);const Ge=ie.authToken;return 0===Ge.requestStatus?Ii(U,W):Ge})).apply(this,arguments)}function En(U){return Er(U,W=>{if(!fr(W))throw ce.create("not-registered");return function he(U){return 1===U.requestStatus&&U.requestTime+me<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function Gn(){return Gn=(0,q.Z)(function*(U,W){try{const ie=yield function _r(U,W){return Qr.apply(this,arguments)}(U,W),Ge=Object.assign(Object.assign({},W),{authToken:ie});return yield jn(U.appConfig,Ge),ie}catch(ie){if(!Q(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const Ge=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield jn(U.appConfig,Ge)}else yield ar(U.appConfig);throw ie}}),Gn.apply(this,arguments)}function fr(U){return void 0!==U&&2===U.registrationStatus}function de(){return(de=(0,q.Z)(function*(U){const W=U,{installationEntry:ie,registrationPromise:Ge}=yield zr(W);return Ge?Ge.catch(console.error):Ii(W).catch(console.error),ie.fid})).apply(this,arguments)}function Oe(){return Oe=(0,q.Z)(function*(U,W=!1){const ie=U;return yield function Le(U){return Ie.apply(this,arguments)}(ie),(yield Ii(ie,W)).token}),Oe.apply(this,arguments)}function Ie(){return(Ie=(0,q.Z)(function*(U){const{registrationPromise:W}=yield zr(U);W&&(yield W)})).apply(this,arguments)}function ji(U){return ce.create("missing-app-config-values",{valueName:U})}const Li="installations",ds=U=>{const W=U.getProvider("app").getImmediate(),ie=function Pi(U){if(!U||!U.options)throw ji("App Configuration");if(!U.name)throw ji("App Name");const W=["projectId","apiKey","appId"];for(const ie of W)if(!U.options[ie])throw ji(ie);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(W);return{app:W,appConfig:ie,heartbeatServiceProvider:(0,oe._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},gs=U=>{const W=U.getProvider("app").getImmediate(),ie=(0,oe._getProvider)(W,Li).getImmediate();return{getId:()=>function ge(U){return de.apply(this,arguments)}(ie),getToken:vt=>function ht(U){return Oe.apply(this,arguments)}(ie,vt)}};(function Xn(){(0,oe._registerComponent)(new xe.wA(Li,ds,"PUBLIC")),(0,oe._registerComponent)(new xe.wA("installations-internal",gs,"PRIVATE"))})(),(0,oe.registerVersion)(Fe,Te),(0,oe.registerVersion)(Fe,Te,"esm2017");const Lr="@firebase/remote-config",Gr=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qt{constructor(W,ie,Ge,vt){this.client=W,this.storage=ie,this.storageCache=Ge,this.logger=vt}isCachedDataFresh(W,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-ie,vt=Ge<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${vt}.`),vt}fetch(W){var ie=this;return(0,q.Z)(function*(){const[Ge,vt]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(vt&&ie.isCachedDataFresh(W.cacheMaxAgeMillis,Ge))return vt;W.eTag=vt&&vt.eTag;const ft=yield ie.client.fetch(W),un=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ft.status&&un.push(ie.storage.setLastSuccessfulFetchResponse(ft)),yield Promise.all(un),ft})()}}function pn(U=navigator){return U.languages&&U.languages[0]||U.language}class Yn{constructor(W,ie,Ge,vt,ft,un){this.firebaseInstallations=W,this.sdkVersion=ie,this.namespace=Ge,this.projectId=vt,this.apiKey=ft,this.appId=un}fetch(W){var ie=this;return(0,q.Z)(function*(){const[Ge,vt]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Hn={sdk_version:ie.sdkVersion,app_instance_id:Ge,app_instance_id_token:vt,app_id:ie.appId,language_code:pn()},ur={method:"POST",headers:Un,body:JSON.stringify(Hn)},ni=fetch(un,ur),Wn=new Promise((Fo,Ko)=>{W.signal.addEventListener(()=>{const Qc=new Error("The operation was aborted.");Qc.name="AbortError",Ko(Qc)})});let va;try{yield Promise.race([ni,Wn]),va=yield ni}catch(Fo){let Ko="fetch-client-network";throw"AbortError"===(null==Fo?void 0:Fo.name)&&(Ko="fetch-timeout"),Gr.create(Ko,{originalErrorMessage:null==Fo?void 0:Fo.message})}let ai=va.status;const ts=va.headers.get("ETag")||void 0;let ja,Ha;if(200===va.status){let Fo;try{Fo=yield va.json()}catch(Ko){throw Gr.create("fetch-client-parse",{originalErrorMessage:null==Ko?void 0:Ko.message})}ja=Fo.entries,Ha=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ha?ai=500:"NO_CHANGE"===Ha?ai=304:("NO_TEMPLATE"===Ha||"EMPTY_CONFIG"===Ha)&&(ja={}),304!==ai&&200!==ai)throw Gr.create("fetch-status",{httpStatus:ai});return{status:ai,eTag:ts,config:ja}})()}}class at{constructor(W,ie){this.client=W,this.storage=ie}fetch(W){var ie=this;return(0,q.Z)(function*(){const Ge=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(W,Ge)})()}attemptFetch(W,{throttleEndTimeMillis:ie,backoffCount:Ge}){var vt=this;return(0,q.Z)(function*(){yield function ir(U,W){return new Promise((ie,Ge)=>{const vt=Math.max(W-Date.now(),0),ft=setTimeout(ie,vt);U.addEventListener(()=>{clearTimeout(ft),Ge(Gr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,ie);try{const ft=yield vt.client.fetch(W);return yield vt.storage.deleteThrottleMetadata(),ft}catch(ft){if(!function Ze(U){if(!(U instanceof Re.ZR&&U.customData))return!1;const W=Number(U.customData.httpStatus);return 429===W||500===W||503===W||504===W}(ft))throw ft;const un={throttleEndTimeMillis:Date.now()+(0,Re.$s)(Ge),backoffCount:Ge+1};return yield vt.storage.setThrottleMetadata(un),vt.attemptFetch(W,un)}})()}}class on{constructor(W,ie,Ge,vt,ft){this.app=W,this._client=ie,this._storageCache=Ge,this._storage=vt,this._logger=ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ln(U,W){const ie=U.target.error||void 0;return Gr.create(W,{originalErrorMessage:ie&&(null==ie?void 0:ie.message)})}const er="app_namespace_store";class mi{constructor(W,ie,Ge,vt=function Xr(){return new Promise((U,W)=>{try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=Ge=>{W(Ln(Ge,"storage-open"))},ie.onsuccess=Ge=>{U(Ge.target.result)},ie.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(er,{keyPath:"compositeKey"})}}catch(ie){W(Gr.create("storage-open",{originalErrorMessage:null==ie?void 0:ie.message}))}})}()){this.appId=W,this.appName=ie,this.namespace=Ge,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var ie=this;return(0,q.Z)(function*(){const Ge=yield ie.openDbPromise;return new Promise((vt,ft)=>{const Un=Ge.transaction([er],"readonly").objectStore(er),Hn=ie.createCompositeKey(W);try{const ur=Un.get(Hn);ur.onerror=ni=>{ft(Ln(ni,"storage-get"))},ur.onsuccess=ni=>{const Wn=ni.target.result;vt(Wn?Wn.value:void 0)}}catch(ur){ft(Gr.create("storage-get",{originalErrorMessage:null==ur?void 0:ur.message}))}})})()}set(W,ie){var Ge=this;return(0,q.Z)(function*(){const vt=yield Ge.openDbPromise;return new Promise((ft,un)=>{const Hn=vt.transaction([er],"readwrite").objectStore(er),ur=Ge.createCompositeKey(W);try{const ni=Hn.put({compositeKey:ur,value:ie});ni.onerror=Wn=>{un(Ln(Wn,"storage-set"))},ni.onsuccess=()=>{ft()}}catch(ni){un(Gr.create("storage-set",{originalErrorMessage:null==ni?void 0:ni.message}))}})})()}delete(W){var ie=this;return(0,q.Z)(function*(){const Ge=yield ie.openDbPromise;return new Promise((vt,ft)=>{const Un=Ge.transaction([er],"readwrite").objectStore(er),Hn=ie.createCompositeKey(W);try{const ur=Un.delete(Hn);ur.onerror=ni=>{ft(Ln(ni,"storage-delete"))},ur.onsuccess=()=>{vt()}}catch(ur){ft(Gr.create("storage-delete",{originalErrorMessage:null==ur?void 0:ur.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class rs{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,q.Z)(function*(){const ie=W.storage.getLastFetchStatus(),Ge=W.storage.getLastSuccessfulFetchTimestampMillis(),vt=W.storage.getActiveConfig(),ft=yield ie;ft&&(W.lastFetchStatus=ft);const un=yield Ge;un&&(W.lastSuccessfulFetchTimestampMillis=un);const Un=yield vt;Un&&(W.activeConfig=Un)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Do(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,q.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}!function Hs(){(0,oe._registerComponent)(new xe.wA("remote-config",function U(W,{instanceIdentifier:ie}){const Ge=W.getProvider("app").getImmediate(),vt=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gr.create("registration-window");if(!(0,Re.hl)())throw Gr.create("indexed-db-unavailable");const{projectId:ft,apiKey:un,appId:Un}=Ge.options;if(!ft)throw Gr.create("registration-project-id");if(!un)throw Gr.create("registration-api-key");if(!Un)throw Gr.create("registration-app-id");const Hn=new mi(Un,Ge.name,ie=ie||"firebase"),ur=new rs(Hn),ni=new De.Yd(Lr);ni.logLevel=De.in.ERROR;const Wn=new Yn(vt,oe.SDK_VERSION,ie,ft,un,Un),va=new at(Wn,Hn),ai=new qt(va,Hn,ur,ni),ts=new on(Ge,ai,ur,Hn,ni);return function Nr(U){const W=(0,Re.m9)(U);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Lr,"0.4.4"),(0,oe.registerVersion)(Lr,"0.4.4","esm2017")}();const hs="/firebase-messaging-sw.js",ea="/firebase-cloud-messaging-push-scope",$o="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="https://fcmregistrations.googleapis.com/v1",Js="google.c.a.c_id",ta="google.c.a.c_l",eo="google.c.a.ts",Bs="google.c.a.e";var to=(()=>{return(U=to||(to={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",to;var U})();function qi(U){const W=new Uint8Array(U);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function To(U){const ie=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(ie),vt=new Uint8Array(Ge.length);for(let ft=0;ft<Ge.length;++ft)vt[ft]=Ge.charCodeAt(ft);return vt}const na="fcm_token_details_db",Vo=5,zs="fcm_token_object_Store";function Yi(){return Yi=(0,q.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ft=>ft.name).includes(na))return null;let W=null;return(yield(0,ye.X3)(na,Vo,{upgrade:(Ge=(0,q.Z)(function*(vt,ft,un,Un){var Hn;if(ft<2||!vt.objectStoreNames.contains(zs))return;const ur=Un.objectStore(zs),ni=yield ur.index("fcmSenderId").get(U);if(yield ur.clear(),ni)if(2===ft){const Wn=ni;if(!Wn.auth||!Wn.p256dh||!Wn.endpoint)return;W={token:Wn.fcmToken,createTime:null!==(Hn=Wn.createTime)&&void 0!==Hn?Hn:Date.now(),subscriptionOptions:{auth:Wn.auth,p256dh:Wn.p256dh,endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:"string"==typeof Wn.vapidKey?Wn.vapidKey:qi(Wn.vapidKey)}}}else if(3===ft){const Wn=ni;W={token:Wn.fcmToken,createTime:Wn.createTime,subscriptionOptions:{auth:qi(Wn.auth),p256dh:qi(Wn.p256dh),endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:qi(Wn.vapidKey)}}}else if(4===ft){const Wn=ni;W={token:Wn.fcmToken,createTime:Wn.createTime,subscriptionOptions:{auth:qi(Wn.auth),p256dh:qi(Wn.p256dh),endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:qi(Wn.vapidKey)}}}}),function(ft,un,Un,Hn){return Ge.apply(this,arguments)})})).close(),yield(0,ye.Lj)(na),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),function ys(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:W}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}(W)?W:null;var Ge}),Yi.apply(this,arguments)}const Cs="firebase-messaging-database",si=1,Ds="firebase-messaging-store";let no=null;function ro(){return no||(no=(0,ye.X3)(Cs,si,{upgrade:(U,W)=>{0===W&&U.createObjectStore(Ds)}})),no}function ra(U){return ga.apply(this,arguments)}function ga(){return ga=(0,q.Z)(function*(U){const W=Zi(U),Ge=yield(yield ro()).transaction(Ds).objectStore(Ds).get(W);if(Ge)return Ge;{const vt=yield function $s(U){return Yi.apply(this,arguments)}(U.appConfig.senderId);if(vt)return yield So(U,vt),vt}}),ga.apply(this,arguments)}function So(U,W){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,q.Z)(function*(U,W){const ie=Zi(U),vt=(yield ro()).transaction(Ds,"readwrite");return yield vt.objectStore(Ds).put(W,ie),yield vt.done,W})).apply(this,arguments)}function jo(){return(jo=(0,q.Z)(function*(U){const W=Zi(U),Ge=(yield ro()).transaction(Ds,"readwrite");yield Ge.objectStore(Ds).delete(W),yield Ge.done})).apply(this,arguments)}function Zi({appConfig:U}){return U.appId}const Ui=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zi(U,W){return Di.apply(this,arguments)}function Di(){return(Di=(0,q.Z)(function*(U,W){const ie=yield Z(U),Ge=K(W),vt={method:"POST",headers:ie,body:JSON.stringify(Ge)};let ft;try{ft=yield(yield fetch(D(U.appConfig),vt)).json()}catch(un){throw Ui.create("token-subscribe-failed",{errorInfo:null==un?void 0:un.toString()})}if(ft.error)throw Ui.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ui.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function _s(){return(_s=(0,q.Z)(function*(U,W){const ie=yield Z(U),Ge=K(W.subscriptionOptions),vt={method:"PATCH",headers:ie,body:JSON.stringify(Ge)};let ft;try{ft=yield(yield fetch(`${D(U.appConfig)}/${W.token}`,vt)).json()}catch(un){throw Ui.create("token-update-failed",{errorInfo:null==un?void 0:un.toString()})}if(ft.error)throw Ui.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ui.create("token-update-no-token");return ft.token})).apply(this,arguments)}function ss(U,W){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,q.Z)(function*(U,W){const Ge={method:"DELETE",headers:yield Z(U)};try{const ft=yield(yield fetch(`${D(U.appConfig)}/${W}`,Ge)).json();if(ft.error)throw Ui.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(vt){throw Ui.create("token-unsubscribe-failed",{errorInfo:null==vt?void 0:vt.toString()})}})).apply(this,arguments)}function D({projectId:U}){return`${uo}/projects/${U}/registrations`}function Z(U){return T.apply(this,arguments)}function T(){return(T=(0,q.Z)(function*({appConfig:U,installations:W}){const ie=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function K({p256dh:U,auth:W,endpoint:ie,vapidKey:Ge}){const vt={web:{endpoint:ie,auth:W,p256dh:U}};return Ge!==$o&&(vt.web.applicationPubKey=Ge),vt}const Ee=6048e5;function Bn(){return Bn=(0,q.Z)(function*(U){const W=yield function k(U,W){return le.apply(this,arguments)}(U.swRegistration,U.vapidKey),ie={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:W.endpoint,auth:qi(W.getKey("auth")),p256dh:qi(W.getKey("p256dh"))},Ge=yield ra(U.firebaseDependencies);if(Ge){if(function Ot(U,W){return W.vapidKey===U.vapidKey&&W.endpoint===U.endpoint&&W.auth===U.auth&&W.p256dh===U.p256dh}(Ge.subscriptionOptions,ie))return Date.now()>=Ge.createTime+Ee?function On(U,W){return Gi.apply(this,arguments)}(U,{token:Ge.token,createTime:Date.now(),subscriptionOptions:ie}):Ge.token;try{yield ss(U.firebaseDependencies,Ge.token)}catch(vt){console.warn(vt)}return z(U.firebaseDependencies,ie)}return z(U.firebaseDependencies,ie)}),Bn.apply(this,arguments)}function Cr(){return Cr=(0,q.Z)(function*(U){const W=yield ra(U.firebaseDependencies);W&&(yield ss(U.firebaseDependencies,W.token),yield function Ao(U){return jo.apply(this,arguments)}(U.firebaseDependencies));const ie=yield U.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()}),Cr.apply(this,arguments)}function Gi(){return Gi=(0,q.Z)(function*(U,W){try{const ie=yield function is(U,W){return _s.apply(this,arguments)}(U.firebaseDependencies,W),Ge=Object.assign(Object.assign({},W),{token:ie,createTime:Date.now()});return yield So(U.firebaseDependencies,Ge),ie}catch(ie){throw yield function Kn(U){return Cr.apply(this,arguments)}(U),ie}}),Gi.apply(this,arguments)}function z(U,W){return V.apply(this,arguments)}function V(){return(V=(0,q.Z)(function*(U,W){const Ge={token:yield zi(U,W),createTime:Date.now(),subscriptionOptions:W};return yield So(U,Ge),Ge.token})).apply(this,arguments)}function le(){return(le=(0,q.Z)(function*(U,W){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:To(W)})})).apply(this,arguments)}function kn(U){const W={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function li(U,W){if(!W.notification)return;U.notification={};const ie=W.notification.title;ie&&(U.notification.title=ie);const Ge=W.notification.body;Ge&&(U.notification.body=Ge);const vt=W.notification.image;vt&&(U.notification.image=vt);const ft=W.notification.icon;ft&&(U.notification.icon=ft)}(W,U),function Vt(U,W){W.data&&(U.data=W.data)}(W,U),function Zn(U,W){var ie,Ge,vt,ft,un;if(!(W.fcmOptions||null!==(ie=W.notification)&&void 0!==ie&&ie.click_action))return;U.fcmOptions={};const Un=null!==(vt=null===(Ge=W.fcmOptions)||void 0===Ge?void 0:Ge.link)&&void 0!==vt?vt:null===(ft=W.notification)||void 0===ft?void 0:ft.click_action;Un&&(U.fcmOptions.link=Un);const Hn=null===(un=W.fcmOptions)||void 0===un?void 0:un.analytics_label;Hn&&(U.fcmOptions.analyticsLabel=Hn)}(W,U),W}function Aa(U,W){const ie=[];for(let Ge=0;Ge<U.length;Ge++)ie.push(U.charAt(Ge)),Ge<W.length&&ie.push(W.charAt(Ge));return ie.join("")}function ml(U){return Ui.create("missing-app-config-values",{valueName:U})}Aa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Aa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ya{constructor(W,ie,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function vs(U){if(!U||!U.options)throw ml("App Configuration Object");if(!U.name)throw ml("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=U;for(const Ge of W)if(!ie[Ge])throw ml(Ge);return{appName:U.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:vt,installations:ie,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function Ts(U){return yl.apply(this,arguments)}function yl(){return(yl=(0,q.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(hs,{scope:ea}),U.swRegistration.update().catch(()=>{})}catch(W){throw Ui.create("failed-service-worker-registration",{browserErrorMessage:null==W?void 0:W.message})}})).apply(this,arguments)}function Al(){return(Al=(0,q.Z)(function*(U,W){if(!W&&!U.swRegistration&&(yield Ts(U)),W||!U.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw Ui.create("invalid-sw-registration");U.swRegistration=W}})).apply(this,arguments)}function _l(){return(_l=(0,q.Z)(function*(U,W){W?U.vapidKey=W:U.vapidKey||(U.vapidKey=$o)})).apply(this,arguments)}function Us(){return Us=(0,q.Z)(function*(U,W){if(!navigator)throw Ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ui.create("permission-blocked");return yield function ho(U,W){return _l.apply(this,arguments)}(U,null==W?void 0:W.vapidKey),yield function Ma(U,W){return Al.apply(this,arguments)}(U,null==W?void 0:W.serviceWorkerRegistration),function Xt(U){return Bn.apply(this,arguments)}(U)}),Us.apply(this,arguments)}function fo(){return(fo=(0,q.Z)(function*(U,W,ie){const Ge=function Ro(U){switch(U){case to.NOTIFICATION_CLICKED:return"notification_open";case to.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(W);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:ie[Js],message_name:ie[ta],message_time:ie[eo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ra(){return Ra=(0,q.Z)(function*(U,W){const ie=W.data;if(!ie.isFirebaseMessaging)return;U.onMessageHandler&&ie.messageType===to.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(kn(ie)):U.onMessageHandler.next(kn(ie)));const Ge=ie.data;(function ia(U){return"object"==typeof U&&!!U&&Js in U})(Ge)&&"1"===Ge[Bs]&&(yield function Ss(U,W,ie){return fo.apply(this,arguments)}(U,ie.messageType,Ge))}),Ra.apply(this,arguments)}const Ml="@firebase/messaging",Qa=U=>{const W=new Ya(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function sa(U,W){return Ra.apply(this,arguments)}(W,ie)),W},Es=U=>{const W=U.getProvider("messaging").getImmediate();return{getToken:Ge=>function Xi(U,W){return Us.apply(this,arguments)}(W,Ge)}};function Gs(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,q.Z)(function*(){try{yield(0,Re.eu)()}catch{return!1}return typeof window<"u"&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xa(){(0,oe._registerComponent)(new xe.wA("messaging",Qa,"PUBLIC")),(0,oe._registerComponent)(new xe.wA("messaging-internal",Es,"PRIVATE")),(0,oe.registerVersion)(Ml,"0.12.4"),(0,oe.registerVersion)(Ml,"0.12.4","esm2017")}();const io="analytics",fi="firebase_id",go="origin",Yr=6e4,Pa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xo="https://www.googletagmanager.com/gtag/js",yi=new De.Yd("@firebase/analytics"),so=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Na(U){if(!U.startsWith(xo)){const W=so.create("invalid-gtag-resource",{gtagURL:U});return yi.warn(W.message),""}return U}function ka(U){return Promise.all(U.map(W=>W.catch(ie=>ie)))}function j(){return(j=(0,q.Z)(function*(U,W,ie,Ge,vt,ft){const un=Ge[vt];try{if(un)yield W[un];else{const Hn=(yield ka(ie)).find(ur=>ur.measurementId===vt);Hn&&(yield W[Hn.appId])}}catch(Un){yi.error(Un)}U("config",vt,ft)})).apply(this,arguments)}function Ne(){return(Ne=(0,q.Z)(function*(U,W,ie,Ge,vt){try{let ft=[];if(vt&&vt.send_to){let un=vt.send_to;Array.isArray(un)||(un=[un]);const Un=yield ka(ie);for(const Hn of un){const ur=Un.find(Wn=>Wn.measurementId===Hn),ni=ur&&W[ur.appId];if(!ni){ft=[];break}ft.push(ni)}}0===ft.length&&(ft=Object.values(W)),yield Promise.all(ft),U("event",Ge,vt||{})}catch(ft){yi.error(ft)}})).apply(this,arguments)}const Mr=30,Tr=new class tr{constructor(W={},ie=1e3){this.throttleMetadata=W,this.intervalMillis=ie}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,ie){this.throttleMetadata[W]=ie}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function Qi(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Rn(){return(Rn=(0,q.Z)(function*(U){var W;const{appId:ie,apiKey:Ge}=U,vt={method:"GET",headers:Qi(Ge)},ft=Pa.replace("{app-id}",ie),un=yield fetch(ft,vt);if(200!==un.status&&304!==un.status){let Un="";try{const Hn=yield un.json();null!==(W=Hn.error)&&void 0!==W&&W.message&&(Un=Hn.error.message)}catch{}throw so.create("config-fetch-failed",{httpStatus:un.status,responseMessage:Un})}return un.json()})).apply(this,arguments)}function gn(){return(gn=(0,q.Z)(function*(U,W=Tr,ie){const{appId:Ge,apiKey:vt,measurementId:ft}=U.options;if(!Ge)throw so.create("no-app-id");if(!vt){if(ft)return{measurementId:ft,appId:Ge};throw so.create("no-api-key")}const un=W.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Un=new el;return setTimeout((0,q.Z)(function*(){Un.abort()}),void 0!==ie?ie:Yr),kt({appId:Ge,apiKey:vt,measurementId:ft},un,Un,W)})).apply(this,arguments)}function kt(U,W,ie){return tn.apply(this,arguments)}function tn(){return tn=(0,q.Z)(function*(U,{throttleEndTimeMillis:W,backoffCount:ie},Ge,vt=Tr){var ft;const{appId:un,measurementId:Un}=U;try{yield function wi(U,W){return new Promise((ie,Ge)=>{const vt=Math.max(W-Date.now(),0),ft=setTimeout(ie,vt);U.addEventListener(()=>{clearTimeout(ft),Ge(so.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(Ge,W)}catch(Hn){if(Un)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null==Hn?void 0:Hn.message}]`),{appId:un,measurementId:Un};throw Hn}try{const Hn=yield function fn(U){return Rn.apply(this,arguments)}(U);return vt.deleteThrottleMetadata(un),Hn}catch(Hn){const ur=Hn;if(!function Ja(U){if(!(U instanceof Re.ZR&&U.customData))return!1;const W=Number(U.customData.httpStatus);return 429===W||500===W||503===W||504===W}(ur)){if(vt.deleteThrottleMetadata(un),Un)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null==ur?void 0:ur.message}]`),{appId:un,measurementId:Un};throw Hn}const ni=503===Number(null===(ft=null==ur?void 0:ur.customData)||void 0===ft?void 0:ft.httpStatus)?(0,Re.$s)(ie,vt.intervalMillis,Mr):(0,Re.$s)(ie,vt.intervalMillis),Wn={throttleEndTimeMillis:Date.now()+ni,backoffCount:ie+1};return vt.setThrottleMetadata(un,Wn),yi.debug(`Calling attemptFetch again in ${ni} millis`),kt(U,Wn,Ge,vt)}}),tn.apply(this,arguments)}class el{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let vl,Fa;function bu(){return(bu=(0,q.Z)(function*(U,W,ie,Ge,vt){if(vt&&vt.global)U("event",ie,Ge);else{const ft=yield W;U("event",ie,Object.assign(Object.assign({},Ge),{send_to:ft}))}})).apply(this,arguments)}function oi(){return(oi=(0,q.Z)(function*(){if(!(0,Re.hl)())return yi.warn(so.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(U){return yi.warn(so.create("indexeddb-unavailable",{errorInfo:null==U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function $i(){return $i=(0,q.Z)(function*(U,W,ie,Ge,vt,ft,un){var Un;const Hn=function mo(U){return gn.apply(this,arguments)}(U);Hn.then(ai=>{ie[ai.measurementId]=ai.appId,U.options.measurementId&&ai.measurementId!==U.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ai=>yi.error(ai)),W.push(Hn);const ur=function La(){return oi.apply(this,arguments)}().then(ai=>{if(ai)return Ge.getId()}),[ni,Wn]=yield Promise.all([Hn,ur]);(function $n(U){const W=window.document.getElementsByTagName("script");for(const ie of Object.values(W))if(ie.src&&ie.src.includes(xo)&&ie.src.includes(U))return ie;return null})(ft)||function Ji(U,W){const ie=function Ic(U,W){let ie;return window.trustedTypes&&(ie=window.trustedTypes.createPolicy(U,W)),ie}("firebase-js-sdk-policy",{createScriptURL:Na}),Ge=document.createElement("script"),vt=`${xo}?l=${U}&id=${W}`;Ge.src=ie?null==ie?void 0:ie.createScriptURL(vt):vt,Ge.async=!0,document.head.appendChild(Ge)}(ft,ni.measurementId),Fa&&(vt("consent","default",Fa),function Ti(U){Fa=U}(void 0)),vt("js",new Date);const va=null!==(Un=null==un?void 0:un.config)&&void 0!==Un?Un:{};return va[go]="firebase",va.update=!0,null!=Wn&&(va[fi]=Wn),vt("config",ni.measurementId,va),vl&&(vt("set",vl),function gr(U){vl=U}(void 0)),ni.measurementId}),$i.apply(this,arguments)}class Nn{constructor(W){this.app=W}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}}let Is={},es=[];const Go={};let aa,os,Oo="dataLayer",Ol="gtag",Ba=!1;function la(U,W,ie){!function yo(){const U=[];if((0,Re.ru)()&&U.push("This is a browser extension environment."),(0,Re.zI)()||U.push("Cookies are not available."),U.length>0){const W=U.map((Ge,vt)=>`(${vt+1}) ${Ge}`).join(" "),ie=so.create("invalid-analytics-context",{errorInfo:W});yi.warn(ie.message)}}();const Ge=U.options.appId;if(!Ge)throw so.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw so.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Is[Ge])throw so.create("already-exists",{id:Ge});if(!Ba){!function F(U){let W=[];Array.isArray(window[U])?W=window[U]:window[U]=W}(Oo);const{wrappedGtag:ft,gtagCore:un}=function Qt(U,W,ie,Ge,vt){let ft=function(...un){window[Ge].push(arguments)};return window[vt]&&"function"==typeof window[vt]&&(ft=window[vt]),window[vt]=function Lt(U,W,ie,Ge){function ft(){return ft=(0,q.Z)(function*(un,Un,Hn){try{"event"===un?yield function ae(U,W,ie,Ge,vt){return Ne.apply(this,arguments)}(U,W,ie,Un,Hn):"config"===un?yield function J(U,W,ie,Ge,vt,ft){return j.apply(this,arguments)}(U,W,ie,Ge,Un,Hn):"consent"===un?U("consent","update",Hn):U("set",Un)}catch(ur){yi.error(ur)}}),ft.apply(this,arguments)}return function vt(un,Un,Hn){return ft.apply(this,arguments)}}(ft,U,W,ie),{gtagCore:ft,wrappedGtag:window[vt]}}(Is,es,Go,Oo,Ol);os=ft,aa=un,Ba=!0}return Is[Ge]=function Cu(U,W,ie,Ge,vt,ft,un){return $i.apply(this,arguments)}(U,es,Go,W,aa,Oo,ie),new Nn(U)}function _o(){return vo.apply(this,arguments)}function vo(){return(vo=(0,q.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}const Wo="@firebase/analytics";!function Fl(){(0,oe._registerComponent)(new xe.wA(io,(W,{options:ie})=>la(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,oe._registerComponent)(new xe.wA("analytics-internal",function U(W){try{const ie=W.getProvider(io).getImmediate();return{logEvent:(Ge,vt,ft)=>function ci(U,W,ie,Ge){U=(0,Re.m9)(U),function tl(U,W,ie,Ge,vt){return bu.apply(this,arguments)}(os,Is[U.app.options.appId],W,ie,Ge).catch(vt=>yi.error(vt))}(ie,Ge,vt,ft)}}catch(ie){throw so.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,oe.registerVersion)(Wo,"0.9.5"),(0,oe.registerVersion)(Wo,"0.9.5","esm2017")}();var sh=L(4408),No=L(7565);const ec=new class ya extends No.v{}(class ad extends sh.o{constructor(W,ie){super(W,ie),this.scheduler=W,this.work=ie}schedule(W,ie=0){return ie>0?super.schedule(W,ie):(this.delay=ie,this.state=W,this.scheduler.flush(this),this)}execute(W,ie){return ie>0||this.closed?super.execute(W,ie):this._execute(W,ie)}requestAsyncId(W,ie,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(W,ie,Ge):(W.flush(this),0)}});var pi=L(4986),bc=L(8505),$a=L(5363),oo=L(9468);const ko=new y.GfV("7.5.0"),S="__angularfire_symbol__analyticsIsSupportedValue",R="__angularfire_symbol__analyticsIsSupported",w="__angularfire_symbol__remoteConfigIsSupportedValue",x="__angularfire_symbol__remoteConfigIsSupported",H="__angularfire_symbol__messagingIsSupportedValue",re="__angularfire_symbol__messagingIsSupported";function mn(U,W,ie){if(W){if(1===W.length)return W[0];const ft=W.filter(un=>un.app===ie);if(1===ft.length)return ft[0]}return ie.container.getProvider(U).getImmediate({optional:!0})}globalThis[R]||(globalThis[R]=_o().then(U=>globalThis[S]=U).catch(()=>globalThis[S]=!1)),globalThis[re]||(globalThis[re]=Gs().then(U=>globalThis[H]=U).catch(()=>globalThis[H]=!1)),globalThis[x]||(globalThis[x]=Do().then(U=>globalThis[w]=U).catch(()=>globalThis[w]=!1));const cn=(U,W)=>{const ie=W?[W]:(0,g.C6)(),Ge=[];return ie.forEach(vt=>{vt.container.getProvider(U).instances.forEach(un=>{Ge.includes(un)||Ge.push(un)})}),Ge};function Rr(){}class ws{constructor(W,ie=ec){this.zone=W,this.delegate=ie}now(){return this.delegate.now()}schedule(W,ie,Ge){const vt=this.zone;return this.delegate.schedule(function(un){vt.runGuarded(()=>{W.apply(this,[un])})},ie,Ge)}}class Ks{constructor(W){this.zone=W,this.task=null}call(W,ie){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr)),ie.pipe((0,bc.b)({next:Ge,complete:Ge,error:Ge})).subscribe(W).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class U{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new ws(Zone.current)),this.insideAngular=ie.run(()=>new ws(Zone.current,pi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ie){return new(ie||U)(y.LFG(y.R0b))},U.\u0275prov=y.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function As(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function rl(U){return U.pipe((0,$a.Q)(As().outsideAngular))}function Ua(U){return As(),function Va(U){return function(ie){return(ie=ie.lift(new Ks(U.ngZone))).pipe((0,oo.R)(U.outsideAngular),(0,$a.Q)(U.insideAngular))}}(As())(U)}},8277:(an,lt,L)=>{"use strict";L.d(lt,{$:()=>Cr,A:()=>me,D:()=>$e,I:()=>gi,J:()=>be,L:()=>hs,N:()=>fr,P:()=>wn,Q:()=>$s,R:()=>bc,U:()=>si,V:()=>Ds,W:()=>no,X:()=>Cs,Y:()=>So,Z:()=>Sa,_:()=>Ui,a:()=>wc,a0:()=>Gi,a1:()=>V,a2:()=>kn,a3:()=>vs,a4:()=>Ya,a5:()=>yl,a6:()=>Al,a7:()=>_l,a8:()=>Us,a9:()=>fo,aA:()=>ne,aB:()=>ns,aC:()=>Vn,aD:()=>Ar,aE:()=>Cc,aF:()=>Hn,aG:()=>Un,aH:()=>pr,aL:()=>Po,aO:()=>ra,aa:()=>Ro,ab:()=>Ra,ac:()=>Ml,ad:()=>xa,ae:()=>Xa,af:()=>zo,ai:()=>Ni,aj:()=>xl,ak:()=>io,an:()=>ss,ao:()=>ka,aq:()=>tr,ar:()=>tn,as:()=>we,at:()=>et,au:()=>Oe,av:()=>He,aw:()=>Jc,ax:()=>cd,ay:()=>Mt,az:()=>Me,b:()=>Jl,c:()=>ca,d:()=>Va,e:()=>ps,f:()=>Wn,g:()=>Fo,h:()=>ts,i:()=>vo,j:()=>Bl,k:()=>ah,l:()=>R,m:()=>xu,p:()=>ye,r:()=>x,s:()=>ko,u:()=>gt});var y=L(5861),g=L(2090),q=L(9681),oe=L(655),Re=L(1877),xe=L(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new Re.Yd("@firebase/auth");function Q(M,..._){Ce.logLevel<=Re.in.ERROR&&Ce.error(`Auth (${q.SDK_VERSION}): ${M}`,..._)}function He(M,..._){throw We(M,..._)}function Me(M,..._){return We(M,..._)}function Qe(M,_,I){const P=Object.assign(Object.assign({},Ye()),{[_]:I});return new g.LL("auth","Firebase",P).create(_,{appName:M.name})}function mt(M,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&He(M,"argument-error"),Qe(M,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(M,..._){if("string"!=typeof M){const I=_[0],P=[..._.slice(1)];return P[0]&&(P[0].appName=M.name),M._errorFactory.create(I,...P)}return nt.create(M,..._)}function ne(M,_,...I){if(!M)throw We(_,...I)}function qe(M){const _="INTERNAL ASSERTION FAILED: "+M;throw Q(_),new Error(_)}function we(M,_){M||qe(_)}function rt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function bt(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class _t{constructor(_,I){this.shortDelay=_,this.longDelay=I,we(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(M,_){we(M.emulator,"Emulator should always be set here");const{url:I}=M.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Ue{static initialize(_,I,P){this.fetchImpl=_,I&&(this.headersImpl=I),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Et=new _t(3e4,6e4);function yt(M,_){return M.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:M.tenantId}):_}function Tt(M,_,I,P){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(M,_,I,P,te={}){return vn(M,te,(0,y.Z)(function*(){let ve={},It={};P&&("GET"===_?It=P:ve={body:JSON.stringify(P)});const Bt=(0,g.xO)(Object.assign({key:M.config.apiKey},It)).slice(1),Mn=yield M._getAdditionalHeaders();return Mn["Content-Type"]="application/json",M.languageCode&&(Mn["X-Firebase-Locale"]=M.languageCode),Ue.fetch()(Jt(M,M.config.apiHost,I,Bt),Object.assign({method:_,headers:Mn,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function vn(M,_,I){return St.apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(M,_,I){M._canInitEmulator=!1;const P=Object.assign(Object.assign({},je),_);try{const te=new bn(M),ve=yield Promise.race([I(),te.promise]);te.clearNetworkTimeout();const It=yield ve.json();if("needConfirmation"in It)throw Fn(M,"account-exists-with-different-credential",It);if(ve.ok&&!("errorMessage"in It))return It;{const Bt=ve.ok?It.errorMessage:It.error.message,[Mn,zn]=Bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mn)throw Fn(M,"credential-already-in-use",It);if("EMAIL_EXISTS"===Mn)throw Fn(M,"email-already-in-use",It);if("USER_DISABLED"===Mn)throw Fn(M,"user-disabled",It);const Sn=P[Mn]||Mn.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw Qe(M,Sn,zn);He(M,Sn)}}catch(te){if(te instanceof g.ZR)throw te;He(M,"network-request-failed",{message:String(te)})}})).apply(this,arguments)}function ct(M,_,I,P){return At.apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(M,_,I,P,te={}){const ve=yield Tt(M,_,I,P,te);return"mfaPendingCredential"in ve&&He(M,"multi-factor-auth-required",{_serverResponse:ve}),ve})).apply(this,arguments)}function Jt(M,_,I,P){const te=`${_}${I}?${P}`;return M.config.emulator?ze(M.config,te):`${M.config.apiScheme}://${te}`}class bn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,P)=>{this.timer=setTimeout(()=>P(Me(this.auth,"network-request-failed")),Et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(M,_,I){const P={appName:M.name};I.email&&(P.email=I.email),I.phoneNumber&&(P.phoneNumber=I.phoneNumber);const te=Me(M,_,P);return te.customData._tokenResponse=I,te}function Kt(){return(Kt=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function jt(){return(jt=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function jn(){return(jn=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function dn(M){if(M)try{const _=new Date(Number(M));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Er(){return(Er=(0,y.Z)(function*(M,_=!1){const I=(0,g.m9)(M),P=yield I.getIdToken(_),te=zr(P);ne(te&&te.exp&&te.auth_time&&te.iat,I.auth,"internal-error");const ve="object"==typeof te.firebase?te.firebase:void 0,It=null==ve?void 0:ve.sign_in_provider;return{claims:te,token:P,authTime:dn(Ci(te.auth_time)),issuedAtTime:dn(Ci(te.iat)),expirationTime:dn(Ci(te.exp)),signInProvider:It||null,signInSecondFactor:(null==ve?void 0:ve.sign_in_second_factor)||null}})).apply(this,arguments)}function Ci(M){return 1e3*Number(M)}function zr(M){const[_,I,P]=M.split(".");if(void 0===_||void 0===I||void 0===P)return Q("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,g.tV)(I);return te?JSON.parse(te):(Q("Failed to decode base64 JWT payload"),null)}catch(te){return Q("Caught error parsing JWT payload as JSON",null==te?void 0:te.toString()),null}}function hr(M,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(M,_,I=!1){if(I)return _;try{return yield _}catch(P){throw P instanceof g.ZR&&function sn({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(P)&&M.auth.currentUser===M&&(yield M.auth.signOut()),P}})).apply(this,arguments)}class xr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const te=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const P=this.getInterval(_);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),P)}iteration(){var _=this;return(0,y.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null==I?void 0:I.code)&&_.schedule(!0))}_.schedule()})()}}class Wr{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(M){return ii.apply(this,arguments)}function ii(){return ii=(0,y.Z)(function*(M){var _;const I=M.auth,P=yield M.getIdToken(),te=yield hr(M,function Or(M,_){return jn.apply(this,arguments)}(I,{idToken:P}));ne(null==te?void 0:te.users.length,I,"internal-error");const ve=te.users[0];M._notifyReloadListener(ve);const It=null!==(_=ve.providerUserInfo)&&void 0!==_&&_.length?function Qr(M){return M.map(_=>{var{providerId:I}=_,P=(0,oe._T)(_,["providerId"]);return{providerId:I,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(ve.providerUserInfo):[],Bt=function _r(M,_){return[...M.filter(P=>!_.some(te=>te.providerId===P.providerId)),..._]}(M.providerData,It),Sn=!!M.isAnonymous&&!(M.email&&ve.passwordHash||null!=Bt&&Bt.length),Pr={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:Bt,metadata:new Wr(ve.createdAt,ve.lastLoginAt),isAnonymous:Sn};Object.assign(M,Pr)}),ii.apply(this,arguments)}function Ri(){return(Ri=(0,y.Z)(function*(M){const _=(0,g.m9)(M);yield dr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(M,_){const I=yield vn(M,{},(0,y.Z)(function*(){const P=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:te,apiKey:ve}=M.config,It=Jt(M,te,"/v1/token",`key=${ve}`),Bt=yield M._getAdditionalHeaders();return Bt["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(It,{method:"POST",headers:Bt,body:P})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class Jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ne(_.idToken,"internal-error"),ne(typeof _.idToken<"u","internal-error"),ne(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function mr(M){const _=zr(M);return ne(_,"internal-error"),ne(typeof _.exp<"u","internal-error"),ne(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var P=this;return(0,y.Z)(function*(){return ne(!P.accessToken||P.refreshToken,_,"user-token-expired"),I||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(_,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var P=this;return(0,y.Z)(function*(){const{accessToken:te,refreshToken:ve,expiresIn:It}=yield function rr(M,_){return Ii.apply(this,arguments)}(_,I);P.updateTokensAndExpiration(te,ve,Number(It))})()}updateTokensAndExpiration(_,I,P){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(_,I){const{refreshToken:P,accessToken:te,expirationTime:ve}=I,It=new Jn;return P&&(ne("string"==typeof P,"internal-error",{appName:_}),It.refreshToken=P),te&&(ne("string"==typeof te,"internal-error",{appName:_}),It.accessToken=te),ve&&(ne("number"==typeof ve,"internal-error",{appName:_}),It.expirationTime=ve),It}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Jn,this.toJSON())}_performRefresh(){return qe("not implemented")}}function ln(M,_){ne("string"==typeof M||typeof M>"u","internal-error",{appName:_})}class Ht{constructor(_){var{uid:I,auth:P,stsTokenManager:te}=_,ve=(0,oe._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=P,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new Wr(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,y.Z)(function*(){const P=yield hr(I,I.stsTokenManager.getToken(I.auth,_));return ne(P,I.auth,"internal-error"),I.accessToken!==P&&(I.accessToken=P,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),P})()}getIdTokenResult(_){return function Zr(M){return Er.apply(this,arguments)}(this,_)}reload(){return function Kr(M){return Ri.apply(this,arguments)}(this)}_assign(_){this!==_&&(ne(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Ht(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var P=this;return(0,y.Z)(function*(){let te=!1;_.idToken&&_.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(_),te=!0),I&&(yield dr(P)),yield P.auth._persistUserIfCurrent(P),te&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var _=this;return(0,y.Z)(function*(){const I=yield _.getIdToken();return yield hr(_,function hn(M,_){return Kt.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var P,te,ve,It,Bt,Mn,zn,Sn;const Pr=null!==(P=I.displayName)&&void 0!==P?P:void 0,_i=null!==(te=I.email)&&void 0!==te?te:void 0,ol=null!==(ve=I.phoneNumber)&&void 0!==ve?ve:void 0,Vl=null!==(It=I.photoURL)&&void 0!==It?It:void 0,vd=null!==(Bt=I.tenantId)&&void 0!==Bt?Bt:void 0,Lo=null!==(Mn=I._redirectEventId)&&void 0!==Mn?Mn:void 0,nu=null!==(zn=I.createdAt)&&void 0!==zn?zn:void 0,Ga=null!==(Sn=I.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:Nu,emailVerified:xc,isAnonymous:Hr,providerData:Pc,stsTokenManager:ku}=I;ne(Nu&&ku,_,"internal-error");const Ed=Jn.fromJSON(this.name,ku);ne("string"==typeof Nu,_,"internal-error"),ln(Pr,_.name),ln(_i,_.name),ne("boolean"==typeof xc,_,"internal-error"),ne("boolean"==typeof Hr,_,"internal-error"),ln(ol,_.name),ln(Vl,_.name),ln(vd,_.name),ln(Lo,_.name),ln(nu,_.name),ln(Ga,_.name);const ru=new Ht({uid:Nu,auth:_,email:_i,emailVerified:xc,displayName:Pr,isAnonymous:Hr,photoURL:Vl,phoneNumber:ol,tenantId:vd,stsTokenManager:Ed,createdAt:nu,lastLoginAt:Ga});return Pc&&Array.isArray(Pc)&&(ru.providerData=Pc.map(uf=>Object.assign({},uf))),Lo&&(ru._redirectEventId=Lo),ru}static _fromIdTokenResponse(_,I,P=!1){return(0,y.Z)(function*(){const te=new Jn;te.updateFromServerResponse(I);const ve=new Ht({uid:I.localId,auth:_,stsTokenManager:te,isAnonymous:P});return yield dr(ve),ve})()}}const En=new Map;function Vn(M){we(M instanceof Function,"Expected a class definition");let _=En.get(M);return _?(we(_ instanceof M,"Instance stored in cache mismatched with class"),_):(_=new M,En.set(M,_),_)}const fr=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,P){var te=this;return(0,y.Z)(function*(){te.storage[I]=P})()}_get(I){var P=this;return(0,y.Z)(function*(){const te=P.storage[I];return void 0===te?null:te})()}_remove(I){var P=this;return(0,y.Z)(function*(){delete P.storage[I]})()}_addListener(I,P){}_removeListener(I,P){}}return M.type="NONE",M})();function Ar(M,_,I){return`firebase:${M}:${_}:${I}`}class Je{constructor(_,I,P){this.persistence=_,this.auth=I,this.userKey=P;const{config:te,name:ve}=this.auth;this.fullUserKey=Ar(this.userKey,te.apiKey,ve),this.fullPersistenceKey=Ar("persistence",te.apiKey,ve),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,y.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Ht._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,y.Z)(function*(){if(I.persistence===_)return;const P=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,P?I.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,P="authUser"){return(0,y.Z)(function*(){if(!I.length)return new Je(Vn(fr),_,P);const te=(yield Promise.all(I.map(function(){var zn=(0,y.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let ve=te[0]||Vn(fr);const It=Ar(P,_.config.apiKey,_.name);let Bt=null;for(const zn of I)try{const Sn=yield zn._get(It);if(Sn){const Pr=Ht._fromJSON(_,Sn);zn!==ve&&(Bt=Pr),ve=zn;break}}catch{}const Mn=te.filter(zn=>zn._shouldAllowMigration);return ve._shouldAllowMigration&&Mn.length?(ve=Mn[0],Bt&&(yield ve._set(It,Bt.toJSON())),yield Promise.all(I.map(function(){var zn=(0,y.Z)(function*(Sn){if(Sn!==ve)try{yield Sn._remove(It)}catch{}});return function(Sn){return zn.apply(this,arguments)}}())),new Je(ve,_,P)):new Je(ve,_,P)})()}}function Ve(M){const _=M.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(ht(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(he(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Le(_))return"Blackberry";if(Ie(_))return"Webos";if(ge(_))return"Safari";if((_.includes("chrome/")||de(_))&&!_.includes("edge/"))return"Chrome";if(Oe(_))return"Android";{const P=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==P?void 0:P.length))return P[1]}return"Other"}function he(M=(0,g.z$)()){return/firefox\//i.test(M)}function ge(M=(0,g.z$)()){const _=M.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function de(M=(0,g.z$)()){return/crios\//i.test(M)}function ht(M=(0,g.z$)()){return/iemobile/i.test(M)}function Oe(M=(0,g.z$)()){return/android/i.test(M)}function Le(M=(0,g.z$)()){return/blackberry/i.test(M)}function Ie(M=(0,g.z$)()){return/webos/i.test(M)}function et(M=(0,g.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function Mt(M=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function yn(M=(0,g.z$)()){return et(M)||Oe(M)||Ie(M)||Le(M)||/windows phone/i.test(M)||ht(M)}function di(M,_=[]){let I;switch(M){case"Browser":I=Ve((0,g.z$)());break;case"Worker":I=`${Ve((0,g.z$)())}-${M}`;break;default:I=M}const P=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${q.SDK_VERSION}/${P}`}function ji(){return(ji=(0,y.Z)(function*(M){return(yield Tt(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Li(M,_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,y.Z)(function*(M,_){return Tt(M,"GET","/v2/recaptchaConfig",yt(M,_))})).apply(this,arguments)}function ds(M){return void 0!==M&&void 0!==M.getResponse}function gs(M){return void 0!==M&&void 0!==M.enterprise}class Xn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Vr(M){return new Promise((_,I)=>{const P=document.createElement("script");P.setAttribute("src",M),P.onload=_,P.onerror=te=>{const ve=Me("internal-error");ve.customData=te,I(ve)},P.type="text/javascript",P.charset="UTF-8",function Lr(){var M,_;return null!==(_=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==_?_:document}().appendChild(P)})}function br(M){return`__${M}${Math.floor(1e6*Math.random())}`}class Gr{constructor(_){this.type="recaptcha-enterprise",this.auth=pr(_)}verify(_="verify",I=!1){var P=this;return(0,y.Z)(function*(){function ve(){return ve=(0,y.Z)(function*(Bt){if(!I){if(null==Bt.tenantId&&null!=Bt._agentRecaptchaConfig)return Bt._agentRecaptchaConfig.siteKey;if(null!=Bt.tenantId&&void 0!==Bt._tenantRecaptchaConfigs[Bt.tenantId])return Bt._tenantRecaptchaConfigs[Bt.tenantId].siteKey}return new Promise(function(){var Mn=(0,y.Z)(function*(zn,Sn){Li(Bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const _i=new Xn(Pr);return null==Bt.tenantId?Bt._agentRecaptchaConfig=_i:Bt._tenantRecaptchaConfigs[Bt.tenantId]=_i,zn(_i.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{Sn(Pr)})});return function(zn,Sn){return Mn.apply(this,arguments)}}())}),ve.apply(this,arguments)}function It(Bt,Mn,zn){const Sn=window.grecaptcha;gs(Sn)?Sn.enterprise.ready(()=>{try{Sn.enterprise.execute(Bt,{action:_}).then(Pr=>{Mn(Pr)}).catch(Pr=>{zn(Pr)})}catch(Pr){zn(Pr)}}):zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Bt,Mn)=>{(function te(Bt){return ve.apply(this,arguments)})(P.auth).then(zn=>{if(!I&&gs(window.grecaptcha))It(zn,Bt,Mn);else{if(typeof window>"u")return void Mn(new Error("RecaptchaVerifier is only supported in browser"));Vr("https://www.google.com/recaptcha/enterprise.js?render="+zn).then(()=>{It(zn,Bt,Mn)}).catch(Sn=>{Mn(Sn)})}}).catch(zn=>{Mn(zn)})})})()}}function xi(M,_,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,y.Z)(function*(M,_,I,P=!1){const te=new Gr(M);let ve;try{ve=yield te.verify(I)}catch{ve=yield te.verify(I,!0)}const It=Object.assign({},_);return Object.assign(It,P?{captchaResp:ve}:{captchaResponse:ve}),Object.assign(It,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(It,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),It})).apply(this,arguments)}class An{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const P=ve=>new Promise((It,Bt)=>{try{It(_(ve))}catch(Mn){Bt(Mn)}});P.onAbort=I,this.queue.push(P);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,y.Z)(function*(){if(I.auth.currentUser===_)return;const P=[];try{for(const te of I.queue)yield te(_),te.onAbort&&P.push(te.onAbort)}catch(te){P.reverse();for(const ve of P)try{ve()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null==te?void 0:te.message})}})()}}class cr{constructor(_,I,P,te){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=P,this.config=te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new An(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=te.sdkClientVersion}_initializeWithPersistence(_,I){var P=this;return I&&(this._popupRedirectResolver=Vn(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var te,ve;if(!P._deleted&&(P.persistenceManager=yield Je.create(P,_),!P._deleted)){if(null!==(te=P._popupRedirectResolver)&&void 0!==te&&te._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(I),P.lastNotifiedUid=(null===(ve=P.currentUser)||void 0===ve?void 0:ve.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,y.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,y.Z)(function*(){var P;const te=yield I.assertedPersistence.getCurrentUser();let ve=te,It=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Bt=null===(P=I.redirectUser)||void 0===P?void 0:P._redirectEventId,Mn=null==ve?void 0:ve._redirectEventId,zn=yield I.tryRedirectSignIn(_);(!Bt||Bt===Mn)&&null!=zn&&zn.user&&(ve=zn.user,It=!0)}if(!ve)return I.directlySetCurrentUser(null);if(!ve._redirectEventId){if(It)try{yield I.beforeStateQueue.runMiddleware(ve)}catch(Bt){ve=te,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Bt))}return ve?I.reloadAndSetCurrentUserOrClear(ve):I.directlySetCurrentUser(null)}return ne(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===ve._redirectEventId?I.directlySetCurrentUser(ve):I.reloadAndSetCurrentUserOrClear(ve)})()}tryRedirectSignIn(_){var I=this;return(0,y.Z)(function*(){let P=null;try{P=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,y.Z)(function*(){try{yield dr(_)}catch(P){if("auth/network-request-failed"!==(null==P?void 0:P.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var _=this;return(0,y.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,y.Z)(function*(){const P=_?(0,g.m9)(_):null;return P&&ne(P.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(P&&P._clone(I))})()}_updateCurrentUser(_,I=!1){var P=this;return(0,y.Z)(function*(){if(!P._deleted)return _&&ne(P.tenantId===_.tenantId,P,"tenant-id-mismatch"),I||(yield P.beforeStateQueue.runMiddleware(_)),P.queue((0,y.Z)(function*(){yield P.directlySetCurrentUser(_),P.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,y.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(Vn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,y.Z)(function*(){const I=yield Li(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new Xn(I);null==_.tenantId?_._agentRecaptchaConfig=P:_._tenantRecaptchaConfigs[_.tenantId]=P,P.emailPasswordEnabled&&new Gr(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,I,P){return this.registerStateListener(this.authStateSubscription,_,I,P)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,P){return this.registerStateListener(this.idTokenSubscription,_,I,P)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var P=this;return(0,y.Z)(function*(){const te=yield P.getOrInitRedirectPersistenceManager(I);return null===_?te.removeCurrentUser():te.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const P=_&&Vn(_)||I._popupRedirectResolver;ne(P,I,"argument-error"),I.redirectPersistenceManager=yield Je.create(I,[Vn(P._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,y.Z)(function*(){var P,te;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===(P=I._currentUser)||void 0===P?void 0:P._redirectEventId)===_?I._currentUser:(null===(te=I.redirectUser)||void 0===te?void 0:te._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,y.Z)(function*(){if(_===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,P,te){if(this._deleted)return()=>{};const ve="function"==typeof I?I:I.next.bind(I),It=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(It,this,"internal-error"),It.then(()=>ve(this.currentUser)),"function"==typeof I?_.addObserver(I,P,te):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,y.Z)(function*(){var I;const P={"X-Client-Version":_.clientVersion};_.app.options.appId&&(P["X-Firebase-gmpid"]=_.app.options.appId);const te=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();te&&(P["X-Firebase-Client"]=te);const ve=yield _._getAppCheckToken();return ve&&(P["X-Firebase-AppCheck"]=ve),P})()}_getAppCheckToken(){var _=this;return(0,y.Z)(function*(){var I;const P=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return null!=P&&P.error&&function ce(M,..._){Ce.logLevel<=Re.in.WARN&&Ce.warn(`Auth (${q.SDK_VERSION}): ${M}`,..._)}(`Error while retrieving App Check token: ${P.error}`),null==P?void 0:P.token})()}}function pr(M){return(0,g.m9)(M)}class hi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(I=>this.observer=I)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gi(M,_,I){const P=pr(M);ne(P._canInitEmulator,P,"emulator-config-failed"),ne(/^https?:\/\//.test(_),P,"invalid-emulator-scheme");const te=!(null==I||!I.disableWarnings),ve=Nr(_),{host:It,port:Bt}=function ue(M){const _=Nr(M),I=/(\/\/)?([^?#/]+)/.exec(M.substr(_.length));if(!I)return{host:"",port:null};const P=I[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(P);if(te){const ve=te[1];return{host:ve,port:Ae(P.substr(ve.length+1))}}{const[ve,It]=P.split(":");return{host:ve,port:Ae(It)}}}(_);P.config.emulator={url:`${ve}//${It}${null===Bt?"":`:${Bt}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:It,port:Bt,protocol:ve.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function tt(){function M(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function Nr(M){const _=M.indexOf(":");return _<0?"":M.substr(0,_+1)}function Ae(M){if(!M)return null;const _=Number(M);return isNaN(_)?null:_}class be{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return qe("not implemented")}_getIdTokenResponse(_){return qe("not implemented")}_linkToIdToken(_,I){return qe("not implemented")}_getReauthenticationResolver(_){return qe("not implemented")}}function it(M,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:resetPassword",yt(M,_))})).apply(this,arguments)}function Rt(M,_){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function qt(){return(qt=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:update",yt(M,_))})).apply(this,arguments)}function pn(M,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithPassword",yt(M,_))})).apply(this,arguments)}function ir(M,_){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:sendOobCode",yt(M,_))})).apply(this,arguments)}function wt(){return(wt=(0,y.Z)(function*(M,_){return ir(M,_)})).apply(this,arguments)}function Wt(M,_){return on.apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(M,_){return ir(M,_)})).apply(this,arguments)}function Ln(M,_){return er.apply(this,arguments)}function er(){return(er=(0,y.Z)(function*(M,_){return ir(M,_)})).apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(M,_){return ir(M,_)})).apply(this,arguments)}function mi(){return(mi=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithEmailLink",yt(M,_))})).apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithEmailLink",yt(M,_))})).apply(this,arguments)}class Ls extends be{constructor(_,I,P,te=null){super("password",P),this._email=_,this._password=I,this._tenantId=te}static _fromEmailAndPassword(_,I){return new Ls(_,I,"password")}static _fromEmailAndCode(_,I,P=null){return new Ls(_,I,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(null!=I&&I.email&&null!=I&&I.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,y.Z)(function*(){var P;switch(I.signInMethod){case"password":const te={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=_._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const ve=yield xi(_,te,"signInWithPassword");return pn(_,ve)}return pn(_,te).catch(function(){var ve=(0,y.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Bt=yield xi(_,te,"signInWithPassword");return pn(_,Bt)}return Promise.reject(It)});return function(It){return ve.apply(this,arguments)}}());case"emailLink":return function Xr(M,_){return mi.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:He(_,"internal-error")}})()}_linkToIdToken(_,I){var P=this;return(0,y.Z)(function*(){switch(P.signInMethod){case"password":return Rt(_,{idToken:I,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function rs(M,_){return Hs.apply(this,arguments)}(_,{idToken:I,email:P._email,oobCode:P._password});default:He(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function jr(M,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithIdp",yt(M,_))})).apply(this,arguments)}class hs extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new hs(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):He("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:te}=I,ve=(0,oe._T)(I,["providerId","signInMethod"]);if(!P||!te)return null;const It=new hs(P,te);return It.idToken=ve.idToken||void 0,It.accessToken=ve.accessToken||void 0,It.secret=ve.secret,It.nonce=ve.nonce,It.pendingToken=ve.pendingToken||null,It}_getIdTokenResponse(_){return jr(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,jr(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,jr(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,g.xO)(I)}return _}}function $o(){return($o=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:sendVerificationCode",yt(M,_))})).apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithPhoneNumber",yt(M,_))})).apply(this,arguments)}function eo(){return(eo=(0,y.Z)(function*(M,_){const I=yield ct(M,"POST","/v1/accounts:signInWithPhoneNumber",yt(M,_));if(I.temporaryProof)throw Fn(M,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Bs={USER_NOT_FOUND:"user-not-found"};function to(){return(to=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithPhoneNumber",yt(M,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Bs)})).apply(this,arguments)}class qi extends be{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new qi({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new qi({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function uo(M,_){return Js.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function ta(M,_){return eo.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Uo(M,_){return to.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:P,verificationCode:te}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:P,code:te}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:P,phoneNumber:te,temporaryProof:ve}=_;return P||I||te||ve?new qi({verificationId:I,verificationCode:P,phoneNumber:te,temporaryProof:ve}):null}}class Vo{constructor(_){var I,P,te,ve,It,Bt;const Mn=(0,g.zd)((0,g.pd)(_)),zn=null!==(I=Mn.apiKey)&&void 0!==I?I:null,Sn=null!==(P=Mn.oobCode)&&void 0!==P?P:null,Pr=function To(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=Mn.mode)&&void 0!==te?te:null);ne(zn&&Sn&&Pr,"argument-error"),this.apiKey=zn,this.operation=Pr,this.code=Sn,this.continueUrl=null!==(ve=Mn.continueUrl)&&void 0!==ve?ve:null,this.languageCode=null!==(It=Mn.languageCode)&&void 0!==It?It:null,this.tenantId=null!==(Bt=Mn.tenantId)&&void 0!==Bt?Bt:null}static parseLink(_){const I=function na(M){const _=(0,g.zd)((0,g.pd)(M)).link,I=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,P=(0,g.zd)((0,g.pd)(M)).deep_link_id;return(P?(0,g.zd)((0,g.pd)(P)).link:null)||P||I||_||M}(_);try{return new Vo(I)}catch{return null}}}let $s=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(I,P){return Ls._fromEmailAndPassword(I,P)}static credentialWithLink(I,P){const te=Vo.parseLink(P);return ne(te,"argument-error"),Ls._fromEmailAndCode(I,te.code,te.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Yi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ys extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Cs extends ys{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return ne("providerId"in I&&"signInMethod"in I,"argument-error"),hs._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ne(_.idToken||_.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Cs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Cs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:P,oauthTokenSecret:te,pendingToken:ve,nonce:It,providerId:Bt}=_;if(!P&&!te&&!I&&!ve||!Bt)return null;try{return new Cs(Bt)._credential({idToken:I,accessToken:P,nonce:It,pendingToken:ve})}catch{return null}}}let si=(()=>{class M extends ys{constructor(){super("facebook.com")}static credential(I){return hs._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),Ds=(()=>{class M extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(I,P){return hs._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:P})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:P,oauthAccessToken:te}=I;if(!P&&!te)return null;try{return M.credential(P,te)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),no=(()=>{class M extends ys{constructor(){super("github.com")}static credential(I){return hs._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class ra extends be{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return jr(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,jr(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,jr(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:te,pendingToken:ve}=I;return P&&te&&ve&&P===te?new ra(P,ve):null}static _create(_,I){return new ra(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends Yi{constructor(_){ne(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return So.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return So.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=ra.fromJSON(_);return ne(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:P}=_;if(!I||!P)return null;try{return ra._create(P,I)}catch{return null}}}let Sa=(()=>{class M extends ys{constructor(){super("twitter.com")}static credential(I,P){return hs._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:P})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:P,oauthTokenSecret:te}=I;if(!P||!te)return null;try{return M.credential(P,te)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function Ao(M,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signUp",yt(M,_))})).apply(this,arguments)}class Zi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,P,te=!1){return(0,y.Z)(function*(){const ve=yield Ht._fromIdTokenResponse(_,P,te),It=Hi(P);return new Zi({user:ve,providerId:It,_tokenResponse:P,operationType:I})})()}static _forOperation(_,I,P){return(0,y.Z)(function*(){yield _._updateTokensIfNecessary(P,!0);const te=Hi(P);return new Zi({user:_,providerId:te,_tokenResponse:P,operationType:I})})()}}function Hi(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function Ui(M){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(M){var _;const I=pr(M);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new Zi({user:I.currentUser,providerId:null,operationType:"signIn"});const P=yield Ao(I,{returnSecureToken:!0}),te=yield Zi._fromIdTokenResponse(I,"signIn",P,!0);return yield I._updateCurrentUser(te.user),te})).apply(this,arguments)}class Di extends g.ZR{constructor(_,I,P,te){var ve;super(I.code,I.message),this.operationType=P,this.user=te,Object.setPrototypeOf(this,Di.prototype),this.customData={appName:_.name,tenantId:null!==(ve=_.tenantId)&&void 0!==ve?ve:void 0,_serverResponse:I.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(_,I,P,te){return new Di(_,I,P,te)}}function is(M,_,I,P){return("reauthenticate"===_?I._getReauthenticationResolver(M):I._getIdTokenResponse(M)).catch(ve=>{throw"auth/multi-factor-auth-required"===ve.code?Di._fromErrorAndOperation(M,ve,_,P):ve})}function _s(M){return new Set(M.map(({providerId:_})=>_).filter(_=>!!_))}function ss(M,_){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,y.Z)(function*(M,_){const I=(0,g.m9)(M);yield T(!0,I,_);const{providerUserInfo:P}=yield function In(M,_){return jt.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),te=_s(P||[]);return I.providerData=I.providerData.filter(ve=>te.has(ve.providerId)),te.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),Mo.apply(this,arguments)}function D(M,_){return Z.apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(M,_,I=!1){const P=yield hr(M,_._linkToIdToken(M.auth,yield M.getIdToken()),I);return Zi._forOperation(M,"link",P)})).apply(this,arguments)}function T(M,_,I){return K.apply(this,arguments)}function K(){return(K=(0,y.Z)(function*(M,_,I){yield dr(_);const te=!1===M?"provider-already-linked":"no-such-provider";ne(_s(_.providerData).has(I)===M,_.auth,te)})).apply(this,arguments)}function Ee(M,_){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,y.Z)(function*(M,_,I=!1){const{auth:P}=M,te="reauthenticate";try{const ve=yield hr(M,is(P,te,_,M),I);ne(ve.idToken,P,"internal-error");const It=zr(ve.idToken);ne(It,P,"internal-error");const{sub:Bt}=It;return ne(M.uid===Bt,P,"user-mismatch"),Zi._forOperation(M,te,ve)}catch(ve){throw"auth/user-not-found"===(null==ve?void 0:ve.code)&&He(P,"user-mismatch"),ve}})).apply(this,arguments)}function Bn(M,_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(M,_,I=!1){const P="signIn",te=yield is(M,P,_),ve=yield Zi._fromIdTokenResponse(M,P,te);return I||(yield M._updateCurrentUser(ve.user)),ve})).apply(this,arguments)}function Cr(M,_){return On.apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(M,_){return Bn(pr(M),_)})).apply(this,arguments)}function Gi(M,_){return z.apply(this,arguments)}function z(){return(z=(0,y.Z)(function*(M,_){const I=(0,g.m9)(M);return yield T(!1,I,_.providerId),D(I,_)})).apply(this,arguments)}function V(M,_){return k.apply(this,arguments)}function k(){return(k=(0,y.Z)(function*(M,_){return Ee((0,g.m9)(M),_)})).apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(M,_){return ct(M,"POST","/v1/accounts:signInWithCustomToken",yt(M,_))})).apply(this,arguments)}function kn(M,_){return li.apply(this,arguments)}function li(){return li=(0,y.Z)(function*(M,_){const I=pr(M),P=yield function le(M,_){return Ot.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),te=yield Zi._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser(te.user),te}),li.apply(this,arguments)}class Vt{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?Zn._fromServerResponse(_,I):"totpInfo"in I?ia._fromServerResponse(_,I):He(_,"internal-error")}}class Zn extends Vt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new Zn(I)}}class ia extends Vt{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new ia(I)}}function Aa(M,_,I){var P;ne((null===(P=I.url)||void 0===P?void 0:P.length)>0,M,"invalid-continue-uri"),ne(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(ne(I.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(ne(I.android.packageName.length>0,M,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function vs(M,_,I){return ml.apply(this,arguments)}function ml(){return ml=(0,y.Z)(function*(M,_,I){var P;const te=pr(M),ve={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=te._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const It=yield xi(te,ve,"getOobCode",!0);I&&Aa(te,It,I),yield Wt(te,It)}else I&&Aa(te,ve,I),yield Wt(te,ve).catch(function(){var It=(0,y.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Mn=yield xi(te,ve,"getOobCode",!0);I&&Aa(te,Mn,I),yield Wt(te,Mn)}});return function(Bt){return It.apply(this,arguments)}}())}),ml.apply(this,arguments)}function Ya(M,_,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,y.Z)(function*(M,_,I){yield it((0,g.m9)(M),{oobCode:_,newPassword:I})})).apply(this,arguments)}function yl(M,_){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,y.Z)(function*(M,_){yield function zt(M,_){return qt.apply(this,arguments)}((0,g.m9)(M),{oobCode:_})}),Ma.apply(this,arguments)}function Al(M,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,y.Z)(function*(M,_){const I=(0,g.m9)(M),P=yield it(I,{oobCode:_}),te=P.requestType;switch(ne(te,I,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(P.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(P.mfaInfo,I,"internal-error");default:ne(P.email,I,"internal-error")}let ve=null;return P.mfaInfo&&(ve=Vt._fromServerResponse(pr(I),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:ve},operation:te}})).apply(this,arguments)}function _l(M,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(M,_){const{data:I}=yield Al((0,g.m9)(M),_);return I.email})).apply(this,arguments)}function Us(M,_,I){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,y.Z)(function*(M,_,I){var P;const te=pr(M),ve={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let It;if(null!==(P=te._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const zn=yield xi(te,ve,"signUpPassword");It=Ao(te,zn)}else It=Ao(te,ve).catch(function(){var zn=(0,y.Z)(function*(Sn){if("auth/missing-recaptcha-token"===Sn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pr=yield xi(te,ve,"signUpPassword");return Ao(te,Pr)}return Promise.reject(Sn)});return function(Sn){return zn.apply(this,arguments)}}());const Bt=yield It.catch(zn=>Promise.reject(zn)),Mn=yield Zi._fromIdTokenResponse(te,"signIn",Bt);return yield te._updateCurrentUser(Mn.user),Mn}),Ss.apply(this,arguments)}function fo(M,_,I){return Cr((0,g.m9)(M),$s.credential(_,I))}function Ro(M,_,I){return sa.apply(this,arguments)}function sa(){return sa=(0,y.Z)(function*(M,_,I){var P;const te=pr(M),ve={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function It(Bt,Mn){ne(Mn.handleCodeInApp,te,"argument-error"),Mn&&Aa(te,Bt,Mn)}if(null!==(P=te._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Bt=yield xi(te,ve,"getOobCode",!0);It(Bt,I),yield Ln(te,Bt)}else It(ve,I),yield Ln(te,ve).catch(function(){var Bt=(0,y.Z)(function*(Mn){if("auth/missing-recaptcha-token"!==Mn.code)return Promise.reject(Mn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const zn=yield xi(te,ve,"getOobCode",!0);It(zn,I),yield Ln(te,zn)}});return function(Mn){return Bt.apply(this,arguments)}}())}),sa.apply(this,arguments)}function Ra(M,_){const I=Vo.parseLink(_);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function Ml(M,_,I){return Za.apply(this,arguments)}function Za(){return(Za=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M),te=$s.credentialWithLink(_,I||rt());return ne(te._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Cr(P,te)})).apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:createAuthUri",yt(M,_))})).apply(this,arguments)}function xa(M,_){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,y.Z)(function*(M,_){const P={identifier:_,continueUri:bt()?rt():"http://localhost"},{signinMethods:te}=yield function Qa(M,_){return Es.apply(this,arguments)}((0,g.m9)(M),P);return te||[]}),Gs.apply(this,arguments)}function Xa(M,_){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,y.Z)(function*(M,_){const I=(0,g.m9)(M),te={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};_&&Aa(I.auth,te,_);const{email:ve}=yield function at(M,_){return wt.apply(this,arguments)}(I.auth,te);ve!==M.email&&(yield M.reload())}),Ho.apply(this,arguments)}function zo(M,_,I){return po.apply(this,arguments)}function po(){return po=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M),ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:_};I&&Aa(P.auth,ve,I);const{email:It}=yield function sr(M,_){return Br.apply(this,arguments)}(P.auth,ve);It!==M.email&&(yield M.reload())}),po.apply(this,arguments)}function Rl(){return(Rl=(0,y.Z)(function*(M,_){return Tt(M,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ni(M,_){return ma.apply(this,arguments)}function ma(){return ma=(0,y.Z)(function*(M,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const P=(0,g.m9)(M),ve={idToken:yield P.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},It=yield hr(P,function Ec(M,_){return Rl.apply(this,arguments)}(P.auth,ve));P.displayName=It.displayName||null,P.photoURL=It.photoUrl||null;const Bt=P.providerData.find(({providerId:Mn})=>"password"===Mn);Bt&&(Bt.displayName=P.displayName,Bt.photoURL=P.photoURL),yield P._updateTokensIfNecessary(It)}),ma.apply(this,arguments)}function xl(M,_){return fi((0,g.m9)(M),_,null)}function io(M,_){return fi((0,g.m9)(M),null,_)}function fi(M,_,I){return go.apply(this,arguments)}function go(){return(go=(0,y.Z)(function*(M,_,I){const{auth:P}=M,ve={idToken:yield M.getIdToken(),returnSecureToken:!0};_&&(ve.email=_),I&&(ve.password=I);const It=yield hr(M,Rt(P,ve));yield M._updateTokensIfNecessary(It,!0)})).apply(this,arguments)}class Pa{constructor(_,I,P={}){this.isNewUser=_,this.providerId=I,this.profile=P}}class xo extends Pa{constructor(_,I,P,te){super(_,I,P),this.username=te}}class yi extends Pa{constructor(_,I){super(_,"facebook.com",I)}}class Oa extends xo{constructor(_,I){super(_,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class so extends Pa{constructor(_,I){super(_,"google.com",I)}}class Na extends xo{constructor(_,I,P){super(_,"twitter.com",I,P)}}function ka(M){const{user:_,_tokenResponse:I}=M;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Yr(M){var _,I;if(!M)return null;const{providerId:P}=M,te=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},ve=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!P&&null!=M&&M.idToken){const It=null===(I=null===(_=zr(M.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(It)return new Pa(ve,"anonymous"!==It&&"custom"!==It?It:null)}if(!P)return null;switch(P){case"facebook.com":return new yi(ve,te);case"github.com":return new Oa(ve,te);case"google.com":return new so(ve,te);case"twitter.com":return new Na(ve,te,M.screenName||null);case"custom":case"anonymous":return new Pa(ve,null);default:return new Pa(ve,P,te)}}(I)}class Mr{constructor(_,I,P){this.type=_,this.credential=I,this.auth=P}static _fromIdtoken(_,I){return new Mr("enroll",_,I)}static _fromMfaPendingCredential(_){return new Mr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,P;if(null!=_&&_.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Mr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(P=_.multiFactorSession)&&void 0!==P&&P.idToken)return Mr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Gt{constructor(_,I,P){this.session=_,this.hints=I,this.signInResolver=P}static _fromError(_,I){const P=pr(_),te=I.customData._serverResponse,ve=(te.mfaInfo||[]).map(Bt=>Vt._fromServerResponse(P,Bt));ne(te.mfaPendingCredential,P,"internal-error");const It=Mr._fromMfaPendingCredential(te.mfaPendingCredential);return new Gt(It,ve,function(){var Bt=(0,y.Z)(function*(Mn){const zn=yield Mn._process(P,It);delete te.mfaInfo,delete te.mfaPendingCredential;const Sn=Object.assign(Object.assign({},te),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(I.operationType){case"signIn":const Pr=yield Zi._fromIdTokenResponse(P,I.operationType,Sn);return yield P._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return ne(I.user,P,"internal-error"),Zi._forOperation(I.user,I.operationType,Sn);default:He(P,"internal-error")}});return function(Mn){return Bt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,y.Z)(function*(){return I.signInResolver(_)})()}}function tr(M,_){var I;const P=(0,g.m9)(M),te=_;return ne(_.customData.operationType,P,"argument-error"),ne(null===(I=te.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,P,"argument-error"),Gt._fromError(P,te)}class gn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(P=>Vt._fromServerResponse(_.auth,P)))})}static _fromUser(_){return new gn(_)}getSession(){var _=this;return(0,y.Z)(function*(){return Mr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var P=this;return(0,y.Z)(function*(){const te=_,ve=yield P.getSession(),It=yield hr(P.user,te._process(P.user.auth,ve,I));return yield P.user._updateTokensIfNecessary(It),P.user.reload()})()}unenroll(_){var I=this;return(0,y.Z)(function*(){const P="string"==typeof _?_:_.uid,te=yield I.user.getIdToken();try{const ve=yield hr(I.user,function mo(M,_){return Tt(M,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(M,_))}(I.user.auth,{idToken:te,mfaEnrollmentId:P}));I.enrolledFactors=I.enrolledFactors.filter(({uid:It})=>It!==P),yield I.user._updateTokensIfNecessary(ve),yield I.user.reload()}catch(ve){throw ve}})()}}const kt=new WeakMap;function tn(M){const _=(0,g.m9)(M);return kt.has(_)||kt.set(_,gn._fromUser(_)),kt.get(_)}const wi="__sak";class Ja{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(wi,"1"),this.storage.removeItem(wi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jl=(()=>{class M extends Ja{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,P)=>this.onStorageEvent(I,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function el(){const M=(0,g.z$)();return ge(M)||et(M)}()&&function lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const P of Object.keys(this.listeners)){const te=this.storage.getItem(P),ve=this.localCache[P];te!==ve&&I(P,ve,te)}}onStorageEvent(I,P=!1){if(!I.key)return void this.forAllChangedKeys((Bt,Mn,zn)=>{this.notifyListeners(Bt,zn)});const te=I.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Bt=this.storage.getItem(te);if(I.newValue!==Bt)null!==I.newValue?this.storage.setItem(te,I.newValue):this.storage.removeItem(te);else if(this.localCache[te]===I.newValue&&!P)return}const ve=()=>{const Bt=this.storage.getItem(te);!P&&this.localCache[te]===Bt||this.notifyListeners(te,Bt)},It=this.storage.getItem(te);!function Pn(){return(0,g.w1)()&&10===document.documentMode}()||It===I.newValue||I.newValue===I.oldValue?ve():setTimeout(ve,10)}notifyListeners(I,P){this.localCache[I]=P;const te=this.listeners[I];if(te)for(const ve of Array.from(te))ve(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,P,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:P,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,P){var te=()=>super._set,ve=this;return(0,y.Z)(function*(){yield te().call(ve,I,P),ve.localCache[I]=JSON.stringify(P)})()}_get(I){var P=()=>super._get,te=this;return(0,y.Z)(function*(){const ve=yield P().call(te,I);return te.localCache[I]=JSON.stringify(ve),ve})()}_remove(I){var P=()=>super._remove,te=this;return(0,y.Z)(function*(){yield P().call(te,I),delete te.localCache[I]})()}}return M.type="LOCAL",M})(),wc=(()=>{class M extends Ja{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,P){}_removeListener(I,P){}}return M.type="SESSION",M})();let qc=(()=>{class M{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const P=this.receivers.find(ve=>ve.isListeningto(I));if(P)return P;const te=new M(I);return this.receivers.push(te),te}isListeningto(I){return this.eventTarget===I}handleEvent(I){var P=this;return(0,y.Z)(function*(){const te=I,{eventId:ve,eventType:It,data:Bt}=te.data,Mn=P.handlersMap[It];if(null==Mn||!Mn.size)return;te.ports[0].postMessage({status:"ack",eventId:ve,eventType:It});const zn=Array.from(Mn).map(function(){var Pr=(0,y.Z)(function*(_i){return _i(te.origin,Bt)});return function(_i){return Pr.apply(this,arguments)}}()),Sn=yield function oa(M){return Promise.all(M.map(function(){var _=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(P){return{fulfilled:!1,reason:P}}});return function(I){return _.apply(this,arguments)}}()))}(zn);te.ports[0].postMessage({status:"done",eventId:ve,eventType:It,response:Sn})})()}_subscribe(I,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(P)}_unsubscribe(I,P){this.handlersMap[I]&&P&&this.handlersMap[I].delete(P),(!P||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Po(M="",_=10){let I="";for(let P=0;P<_;P++)I+=Math.floor(10*Math.random());return M+I}class or{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,P=50){var te=this;return(0,y.Z)(function*(){const ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!ve)throw new Error("connection_unavailable");let It,Bt;return new Promise((Mn,zn)=>{const Sn=Po("",20);ve.port1.start();const Pr=setTimeout(()=>{zn(new Error("unsupported_event"))},P);Bt={messageChannel:ve,onMessage(_i){const ol=_i;if(ol.data.eventId===Sn)switch(ol.data.status){case"ack":clearTimeout(Pr),It=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(It),Mn(ol.data.response);break;default:clearTimeout(Pr),clearTimeout(It),zn(new Error("invalid_response"))}}},te.handlers.add(Bt),ve.port1.addEventListener("message",Bt.onMessage),te.target.postMessage({eventType:_,eventId:Sn,data:I},[ve.port2])}).finally(()=>{Bt&&te.removeMessageHandler(Bt)})})()}}function ki(){return window}function Ti(){return typeof ki().WorkerGlobalScope<"u"&&"function"==typeof ki().importScripts}function La(){return(La=(0,y.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $i="firebaseLocalStorageDb",Nn=1,Is="firebaseLocalStorage",es="fbase_key";class Go{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Oo(M,_){return M.transaction([Is],_?"readwrite":"readonly").objectStore(Is)}function aa(){const M=indexedDB.open($i,Nn);return new Promise((_,I)=>{M.addEventListener("error",()=>{I(M.error)}),M.addEventListener("upgradeneeded",()=>{const P=M.result;try{P.createObjectStore(Is,{keyPath:es})}catch(te){I(te)}}),M.addEventListener("success",(0,y.Z)(function*(){const P=M.result;P.objectStoreNames.contains(Is)?_(P):(P.close(),yield function Ol(){const M=indexedDB.deleteDatabase($i);return new Go(M).toPromise()}(),_(yield aa()))}))})}function os(M,_,I){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,y.Z)(function*(M,_,I){const P=Oo(M,!0).put({[es]:_,value:I});return new Go(P).toPromise()})).apply(this,arguments)}function yo(){return(yo=(0,y.Z)(function*(M,_){const I=Oo(M,!1).get(_),P=yield new Go(I).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function la(M,_){const I=Oo(M,!0).delete(_);return new Go(I).toPromise()}const vo=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield aa()),I.db})()}_withRetries(I){var P=this;return(0,y.Z)(function*(){let te=0;for(;;)try{const ve=yield P._openDb();return yield I(ve)}catch(ve){if(te++>3)throw ve;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return Ti()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=qc._getInstance(function Cu(){return Ti()?self:null}()),I.receiver._subscribe("keyChanged",function(){var P=(0,y.Z)(function*(te,ve){return{keyProcessed:(yield I._poll()).includes(ve.key)}});return function(te,ve){return P.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var P=(0,y.Z)(function*(te,ve){return["keyChanged"]});return function(te,ve){return P.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var P,te;if(I.activeServiceWorker=yield function gr(){return La.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new or(I.activeServiceWorker);const ve=yield I.sender._send("ping",{},800);ve&&null!==(P=ve[0])&&void 0!==P&&P.fulfilled&&null!==(te=ve[0])&&void 0!==te&&te.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var P=this;return(0,y.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function oi(){var M;return(null===(M=null==navigator?void 0:navigator.serviceWorker)||void 0===M?void 0:M.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:I},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield aa();return yield os(I,wi,"1"),yield la(I,wi),!0}catch{}return!1})()}_withPendingWrite(I){var P=this;return(0,y.Z)(function*(){P.pendingWrites++;try{yield I()}finally{P.pendingWrites--}})()}_set(I,P){var te=this;return(0,y.Z)(function*(){return te._withPendingWrite((0,y.Z)(function*(){return yield te._withRetries(ve=>os(ve,I,P)),te.localCache[I]=P,te.notifyServiceWorker(I)}))})()}_get(I){var P=this;return(0,y.Z)(function*(){const te=yield P._withRetries(ve=>function Yc(M,_){return yo.apply(this,arguments)}(ve,I));return P.localCache[I]=te,te})()}_remove(I){var P=this;return(0,y.Z)(function*(){return P._withPendingWrite((0,y.Z)(function*(){return yield P._withRetries(te=>la(te,I)),delete P.localCache[I],P.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const P=yield I._withRetries(It=>{const Bt=Oo(It,!1).getAll();return new Go(Bt).toPromise()});if(!P)return[];if(0!==I.pendingWrites)return[];const te=[],ve=new Set;for(const{fbase_key:It,value:Bt}of P)ve.add(It),JSON.stringify(I.localCache[It])!==JSON.stringify(Bt)&&(I.notifyListeners(It,Bt),te.push(It));for(const It of Object.keys(I.localCache))I.localCache[It]&&!ve.has(It)&&(I.notifyListeners(It,null),te.push(It));return te})()}notifyListeners(I,P){this.localCache[I]=P;const te=this.listeners[I];if(te)for(const ve of Array.from(te))ve(P)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})(),ci=1e12;class ih{constructor(_){this.auth=_,this.counter=ci,this._widgets=new Map}render(_,I){const P=this.counter;return this._widgets.set(P,new Wo(_,this.auth.name,I||{})),this.counter++,P}reset(_){var I;const P=_||ci;null===(I=this._widgets.get(P))||void 0===I||I.delete(),this._widgets.delete(P)}getResponse(_){var I;return(null===(I=this._widgets.get(_||ci))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,y.Z)(function*(){var P;return null===(P=I._widgets.get(_||ci))||void 0===P||P.execute(),""})()}}class Wo{constructor(_,I,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof _?document.getElementById(_):_;ne(te,"argument-error",{appName:I}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function od(M){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<M;P++)_.push(I.charAt(Math.floor(Math.random()*I.length)));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fl=br("rcb"),sh=new _t(3e4,6e4);class No{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=ki().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return ne(function ya(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&ds(ki().grecaptcha)?Promise.resolve(ki().grecaptcha):new Promise((P,te)=>{const ve=ki().setTimeout(()=>{te(Me(_,"network-request-failed"))},sh.get());ki()[Fl]=()=>{ki().clearTimeout(ve),delete ki()[Fl];const Bt=ki().grecaptcha;if(!Bt||!ds(Bt))return void te(Me(_,"internal-error"));const Mn=Bt.render;Bt.render=(zn,Sn)=>{const Pr=Mn(zn,Sn);return this.counter++,Pr},this.hostLanguage=I,P(Bt)},Vr(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Fl,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(ve),te(Me(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=ki().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ec{load(_){return(0,y.Z)(function*(){return new ih(_)})()}clearedOneInstance(){}}const ld="recaptcha",pi={theme:"light",type:"image"};class bc{constructor(_,I=Object.assign({},pi),P){this.parameters=I,this.type=ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(P),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof _?document.getElementById(_):_;ne(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ec:new No,this.validateStartingState()}verify(){var _=this;return(0,y.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),P=_.getAssertedRecaptcha();return P.getResponse(I)||new Promise(ve=>{const It=Bt=>{Bt&&(_.tokenChangeListeners.delete(It),ve(Bt))};_.tokenChangeListeners.add(It),_.isInvisible&&P.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(P=>P(I)),"function"==typeof _)_(I);else if("string"==typeof _){const P=ki()[_];"function"==typeof P&&P(I)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,y.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const P=document.createElement("div");I.appendChild(P),I=P}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,y.Z)(function*(){ne(bt()&&!Ti(),_.auth,"internal-error"),yield function $a(){let M=null;return new Promise(_=>{"complete"!==document.readyState?(M=()=>_(),window.addEventListener("load",M)):_()}).catch(_=>{throw M&&window.removeEventListener("load",M),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function Pi(M){return ji.apply(this,arguments)}(_.auth);ne(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=qi._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function ko(M,_,I){return S.apply(this,arguments)}function S(){return(S=(0,y.Z)(function*(M,_,I){const P=pr(M),te=yield re(P,_,(0,g.m9)(I));return new oo(te,ve=>Cr(P,ve))})).apply(this,arguments)}function R(M,_,I){return w.apply(this,arguments)}function w(){return(w=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M);yield T(!1,P,"phone");const te=yield re(P.auth,_,(0,g.m9)(I));return new oo(te,ve=>Gi(P,ve))})).apply(this,arguments)}function x(M,_,I){return H.apply(this,arguments)}function H(){return(H=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M),te=yield re(P.auth,_,(0,g.m9)(I));return new oo(te,ve=>V(P,ve))})).apply(this,arguments)}function re(M,_,I){return fe.apply(this,arguments)}function fe(){return fe=(0,y.Z)(function*(M,_,I){var P;const te=yield I.verify();try{let ve;if(ne("string"==typeof te,M,"argument-error"),ne(I.type===ld,M,"argument-error"),ve="string"==typeof _?{phoneNumber:_}:_,"session"in ve){const It=ve.session;if("phoneNumber"in ve)return ne("enroll"===It.type,M,"internal-error"),(yield function Tr(M,_){return Tt(M,"POST","/v2/accounts/mfaEnrollment:start",yt(M,_))}(M,{idToken:It.credential,phoneEnrollmentInfo:{phoneNumber:ve.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{ne("signin"===It.type,M,"internal-error");const Bt=(null===(P=ve.multiFactorHint)||void 0===P?void 0:P.uid)||ve.multiFactorUid;return ne(Bt,M,"missing-multi-factor-info"),(yield function Ft(M,_){return Tt(M,"POST","/v2/accounts/mfaSignIn:start",yt(M,_))}(M,{mfaPendingCredential:It.credential,mfaEnrollmentId:Bt,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:It}=yield function ea(M,_){return $o.apply(this,arguments)}(M,{phoneNumber:ve.phoneNumber,recaptchaToken:te});return It}}finally{I._reset()}}),fe.apply(this,arguments)}function gt(M,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,y.Z)(function*(M,_){yield D((0,g.m9)(M),_)})).apply(this,arguments)}let wn=(()=>{class M{constructor(I){this.providerId=M.PROVIDER_ID,this.auth=pr(I)}verifyPhoneNumber(I,P){return re(this.auth,I,(0,g.m9)(P))}static credential(I,P){return qi._fromVerification(I,P)}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:P,temporaryProof:te}=I;return P&&te?qi._fromTokenResponse(P,te):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function mn(M,_){return _?Vn(_):(ne(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class cn extends be{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return jr(_,this._buildIdpRequest())}_linkToIdToken(_,I){return jr(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return jr(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function Rr(M){return Bn(M.auth,new cn(M),M.bypassAuthState)}function ws(M){const{auth:_,user:I}=M;return ne(I,_,"internal-error"),Ee(I,new cn(M),M.bypassAuthState)}function Ks(M){return as.apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(M){const{auth:_,user:I}=M;return ne(I,_,"internal-error"),D(I,new cn(M),M.bypassAuthState)})).apply(this,arguments)}class As{constructor(_,I,P,te,ve=!1){this.auth=_,this.resolver=P,this.user=te,this.bypassAuthState=ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,y.Z)(function*(P,te){_.pendingPromise={resolve:P,reject:te};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ve){_.reject(ve)}});return function(P,te){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,y.Z)(function*(){const{urlResponse:P,sessionId:te,postBody:ve,tenantId:It,error:Bt,type:Mn}=_;if(Bt)return void I.reject(Bt);const zn={auth:I.auth,requestUri:P,sessionId:te,tenantId:It||void 0,postBody:ve||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Mn)(zn))}catch(Sn){I.reject(Sn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return ws;default:He(this.auth,"internal-error")}}resolve(_){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _a=new _t(2e3,1e4);function ca(M,_,I){return rl.apply(this,arguments)}function rl(){return(rl=(0,y.Z)(function*(M,_,I){const P=pr(M);mt(M,_,Yi);const te=mn(P,I);return new Ll(P,"signInViaPopup",_,te).executeNotNull()})).apply(this,arguments)}function ps(M,_,I){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M);mt(P.auth,_,Yi);const te=mn(P.auth,I);return new Ll(P.auth,"reauthViaPopup",_,te,P).executeNotNull()})).apply(this,arguments)}function Va(M,_,I){return bs.apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M);mt(P.auth,_,Yi);const te=mn(P.auth,I);return new Ll(P.auth,"linkViaPopup",_,te,P).executeNotNull()})).apply(this,arguments)}let Ll=(()=>{class M extends As{constructor(I,P,te,ve,It){super(I,P,ve,It),this.provider=te,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const P=yield I.execute();return ne(P,I.auth,"internal-error"),P})()}onExecution(){var I=this;return(0,y.Z)(function*(){we(1===I.filter.length,"Popup operations only handle one event");const P=Po();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],P),I.authWindow.associatedEvent=P,I.resolver._originValidation(I.auth).catch(te=>{I.reject(te)}),I.resolver._isIframeWebStorageSupported(I.auth,te=>{te||I.reject(Me(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const I=()=>{var P,te;this.pollId=null!==(te=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==te&&te.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(I,_a.get())};I()}}return M.currentPopupAction=null,M})();const U="pendingRedirect",W=new Map;class ie extends As{constructor(_,I,P=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,P),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,y.Z)(function*(){let P=W.get(I.auth._key());if(!P){try{const ve=(yield function Ge(M,_){return vt.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;P=()=>Promise.resolve(ve)}catch(te){P=()=>Promise.reject(te)}W.set(I.auth._key(),P)}return I.bypassAuthState||W.set(I.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,P=this;return(0,y.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(P,_);if("unknown"!==_.type){if(_.eventId){const te=yield P.auth._redirectUserForId(_.eventId);if(te)return P.user=te,I().call(P,_);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function vt(){return(vt=(0,y.Z)(function*(M,_){const I=ni(_),P=ur(M);if(!(yield P._isAvailable()))return!1;const te="true"===(yield P._get(I));return yield P._remove(I),te})).apply(this,arguments)}function ft(M,_){return un.apply(this,arguments)}function un(){return(un=(0,y.Z)(function*(M,_){return ur(M)._set(ni(_),"true")})).apply(this,arguments)}function Un(){W.clear()}function Hn(M,_){W.set(M._key(),_)}function ur(M){return Vn(M._redirectPersistence)}function ni(M){return Ar(U,M.config.apiKey,M.name)}function Wn(M,_,I){return function va(M,_,I){return ai.apply(this,arguments)}(M,_,I)}function ai(){return(ai=(0,y.Z)(function*(M,_,I){const P=pr(M);mt(M,_,Yi),yield P._initializationPromise;const te=mn(P,I);return yield ft(te,P),te._openRedirect(P,_,"signInViaRedirect")})).apply(this,arguments)}function ts(M,_,I){return function ja(M,_,I){return Ha.apply(this,arguments)}(M,_,I)}function Ha(){return(Ha=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M);mt(P.auth,_,Yi),yield P.auth._initializationPromise;const te=mn(P.auth,I);yield ft(te,P.auth);const ve=yield El(P);return te._openRedirect(P.auth,_,"reauthViaRedirect",ve)})).apply(this,arguments)}function Fo(M,_,I){return function Ko(M,_,I){return Qc.apply(this,arguments)}(M,_,I)}function Qc(){return(Qc=(0,y.Z)(function*(M,_,I){const P=(0,g.m9)(M);mt(P.auth,_,Yi),yield P.auth._initializationPromise;const te=mn(P.auth,I);yield T(!1,P,_.providerId),yield ft(te,P.auth);const ve=yield El(P);return te._openRedirect(P.auth,_,"linkViaRedirect",ve)})).apply(this,arguments)}function Bl(M,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,y.Z)(function*(M,_){return yield pr(M)._initializationPromise,Cc(M,_,!1)})).apply(this,arguments)}function Cc(M,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,y.Z)(function*(M,_,I=!1){const P=pr(M),te=mn(P,_),It=yield new ie(P,te,I).execute();return It&&!I&&(delete It.user._redirectEventId,yield P._persistUserIfCurrent(It.user),yield P._setRedirectUser(null,_)),It})).apply(this,arguments)}function El(M){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,y.Z)(function*(M){const _=Po(`${M.uid}:::`);return M._redirectEventId=_,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),_})).apply(this,arguments)}class ns{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(_,P)&&(I=!0,this.sendToConsumer(_,P),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function nc(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tu(M);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var P;if(_.error&&!Tu(_)){const te=(null===(P=_.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";I.onError(Me(this.auth,te))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const P=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&P}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(_))}saveEventToCache(_){this.cachedEventUids.add(Du(_)),this.lastProcessedEventTime=Date.now()}}function Du(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(_=>_).join("-")}function Tu({type:M,error:_}){return"unknown"===M&&"auth/no-auth-event"===(null==_?void 0:_.code)}function cd(M){return Il.apply(this,arguments)}function Il(){return(Il=(0,y.Z)(function*(M,_={}){return Tt(M,"GET","/v1/projects",_)})).apply(this,arguments)}const rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ud=/^https?/;function Dc(){return(Dc=(0,y.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:_}=yield cd(M);for(const I of _)try{if(Tc(I))return}catch{}He(M,"unauthorized-domain")})).apply(this,arguments)}function Tc(M){const _=rt(),{protocol:I,hostname:P}=new URL(_);if(M.startsWith("chrome-extension://")){const It=new URL(M);return""===It.hostname&&""===P?"chrome-extension:"===I&&M.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&It.hostname===P}if(!ud.test(I))return!1;if(rc.test(M))return P===M;const te=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(P)}const gp=new _t(3e4,6e4);function fs(){const M=ki().___jsl;if(null!=M&&M.H)for(const _ of Object.keys(M.H))if(M.H[_].r=M.H[_].r||[],M.H[_].L=M.H[_].L||[],M.H[_].r=[...M.H[_].L],M.CP)for(let I=0;I<M.CP.length;I++)M.CP[I]=null}let Ia=null;const af=new _t(5e3,15e3),Vi="__/auth/iframe",za="emulator/auth/iframe",Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ac(M){const _=M.config;ne(_.authDomain,M,"auth-domain-config-required");const I=_.emulator?ze(_,za):`https://${M.config.authDomain}/${Vi}`,P={apiKey:_.apiKey,appName:M.name,v:q.SDK_VERSION},te=mp.get(M.config.apiHost);te&&(P.eid=te);const ve=M._getFrameworks();return ve.length&&(P.fw=ve.join(",")),`${I}?${(0,g.xO)(P).slice(1)}`}function fd(){return fd=(0,y.Z)(function*(M){const _=yield function qs(M){return Ia=Ia||function dd(M){return new Promise((_,I)=>{var P,te,ve;function It(){fs(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{fs(),I(Me(M,"network-request-failed"))},timeout:gp.get()})}if(null!==(te=null===(P=ki().gapi)||void 0===P?void 0:P.iframes)&&void 0!==te&&te.Iframe)_(gapi.iframes.getContext());else{if(null===(ve=ki().gapi)||void 0===ve||!ve.load){const Bt=br("iframefcb");return ki()[Bt]=()=>{gapi.load?It():I(Me(M,"network-request-failed"))},Vr(`https://apis.google.com/js/api.js?onload=${Bt}`).catch(Mn=>I(Mn))}It()}}).catch(_=>{throw Ia=null,_})}(M),Ia}(M),I=ki().gapi;return ne(I,M,"internal-error"),_.open({where:document.body,url:Ac(M),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},P=>new Promise(function(){var te=(0,y.Z)(function*(ve,It){yield P.restyle({setHideOnLeave:!1});const Bt=Me(M,"network-request-failed"),Mn=ki().setTimeout(()=>{It(Bt)},af.get());function zn(){ki().clearTimeout(Mn),ve(P)}P.ping(zn).then(zn,()=>{It(Bt)})});return function(ve,It){return te.apply(this,arguments)}}()))}),fd.apply(this,arguments)}const ui={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wi=500,ao=600,pd="_blank",Su="http://localhost";class gd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mu="__/auth/handler",oh="emulator/auth/handler",yp=encodeURIComponent("fac");function Jc(M,_,I,P,te,ve){return lf.apply(this,arguments)}function lf(){return(lf=(0,y.Z)(function*(M,_,I,P,te,ve){ne(M.config.authDomain,M,"auth-domain-config-required"),ne(M.config.apiKey,M,"invalid-api-key");const It={apiKey:M.config.apiKey,appName:M.name,authType:I,redirectUrl:P,v:q.SDK_VERSION,eventId:te};if(_ instanceof Yi){_.setDefaultLanguage(M.languageCode),It.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(It.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Sn,Pr]of Object.entries(ve||{}))It[Sn]=Pr}if(_ instanceof ys){const Sn=_.getScopes().filter(Pr=>""!==Pr);Sn.length>0&&(It.scopes=Sn.join(","))}M.tenantId&&(It.tid=M.tenantId);const Bt=It;for(const Sn of Object.keys(Bt))void 0===Bt[Sn]&&delete Bt[Sn];const Mn=yield M._getAppCheckToken(),zn=Mn?`#${yp}=${encodeURIComponent(Mn)}`:"";return`${function Ru({config:M}){return M.emulator?ze(M,oh):`https://${M.authDomain}/${Mu}`}(M)}?${(0,g.xO)(Bt).slice(1)}${zn}`})).apply(this,arguments)}const Mc="webStorageSupport",ah=class md{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wc,this._completeRedirectFn=Cc,this._overrideRedirectResult=Hn}_openPopup(_,I,P,te){var ve=this;return(0,y.Z)(function*(){var It;we(null===(It=ve.eventManagers[_._key()])||void 0===It?void 0:It.manager,"_initialize() not called before _openPopup()");const Bt=yield Jc(_,I,P,rt(),te);return function Ys(M,_,I,P=Wi,te=ao){const ve=Math.max((window.screen.availHeight-te)/2,0).toString(),It=Math.max((window.screen.availWidth-P)/2,0).toString();let Bt="";const Mn=Object.assign(Object.assign({},ui),{width:P.toString(),height:te.toString(),top:ve,left:It}),zn=(0,g.z$)().toLowerCase();I&&(Bt=de(zn)?pd:I),he(zn)&&(_=_||Su,Mn.scrollbars="yes");const Sn=Object.entries(Mn).reduce((_i,[ol,Vl])=>`${_i}${ol}=${Vl},`,"");if(function Yt(M=(0,g.z$)()){var _;return et(M)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(zn)&&"_self"!==Bt)return function Au(M,_){const I=document.createElement("a");I.href=M,I.target=_;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(P)}(_||"",Bt),new gd(null);const Pr=window.open(_||"",Bt,Sn);ne(Pr,M,"popup-blocked");try{Pr.focus()}catch{}return new gd(Pr)}(_,Bt,Po())})()}_openRedirect(_,I,P,te){var ve=this;return(0,y.Z)(function*(){return yield ve._originValidation(_),function Fa(M){ki().location.href=M}(yield Jc(_,I,P,rt(),te)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:te,promise:ve}=this.eventManagers[I];return te?Promise.resolve(te):(we(ve,"If manager is not set, promise should be"),ve)}const P=this.initAndGetManager(_);return this.eventManagers[I]={promise:P},P.catch(()=>{delete this.eventManagers[I]}),P}initAndGetManager(_){var I=this;return(0,y.Z)(function*(){const P=yield function hd(M){return fd.apply(this,arguments)}(_),te=new ns(_);return P.register("authEvent",ve=>(ne(null==ve?void 0:ve.authEvent,_,"invalid-auth-event"),{status:te.onEvent(ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:te},I.iframes[_._key()]=P,te})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(Mc,{type:Mc},te=>{var ve;const It=null===(ve=null==te?void 0:te[0])||void 0===ve?void 0:ve[Mc];void 0!==It&&I(!!It),He(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Ur(M){return Dc.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return yn()||ge()||et()}};class Gg{constructor(_){this.factorId=_}_process(_,I,P){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,P);case"signin":return this._finalizeSignIn(_,I.credential);default:return qe("unexpected MultiFactorSessionType")}}}class yd extends Gg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new yd(_)}_finalizeEnroll(_,I,P){return function Qi(M,_){return Tt(M,"POST","/v2/accounts/mfaEnrollment:finalize",yt(M,_))}(_,{idToken:I,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function kl(M,_){return Tt(M,"POST","/v2/accounts/mfaSignIn:finalize",yt(M,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xu=(()=>{class M{constructor(){}static assertion(I){return yd._fromCredential(I)}}return M.FACTOR_ID="phone",M})();var eu="@firebase/auth";class il{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(P=>{_((null==P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,g.Pz)("authIdTokenMaxAge"),function sl(M){(0,q._registerComponent)(new xe.wA("auth",(_,{options:I})=>{const P=_.getProvider("app").getImmediate(),te=_.getProvider("heartbeat"),ve=_.getProvider("app-check-internal"),{apiKey:It,authDomain:Bt}=P.options;ne(It&&!It.includes(":"),"invalid-api-key",{appName:P.name}),ne(!(null!=Bt&&Bt.includes(":")),"argument-error",{appName:P.name});const Mn={apiKey:It,authDomain:Bt,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:di(M)},zn=new cr(P,te,ve,Mn);return function qr(M,_){const I=(null==_?void 0:_.persistence)||[],P=(Array.isArray(I)?I:[I]).map(Vn);null!=_&&_.errorMap&&M._updateErrorMap(_.errorMap),M._initializeWithPersistence(P,null==_?void 0:_.popupRedirectResolver)}(zn,I),zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,P)=>{_.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new xe.wA("auth-internal",_=>{const I=pr(_.getProvider("auth").getImmediate());return new il(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(eu,"0.23.0",function Ul(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,q.registerVersion)(eu,"0.23.0","esm2017")}("Browser")},2090:(an,lt,L)=>{"use strict";L.d(lt,{$s:()=>Vn,BH:()=>Qe,DV:()=>jt,Dv:()=>dr,G6:()=>ze,GJ:()=>Kt,L:()=>Fe,LL:()=>Ut,Pz:()=>Me,Sg:()=>mt,UG:()=>qe,UI:()=>jn,US:()=>xe,Wj:()=>Ri,Wl:()=>At,Yr:()=>_t,ZB:()=>Se,ZR:()=>Tt,aH:()=>He,b$:()=>bt,cI:()=>ct,dS:()=>Qr,eu:()=>je,g5:()=>q,gK:()=>ii,gQ:()=>mr,h$:()=>ye,hl:()=>Ue,hu:()=>g,jU:()=>we,lb:()=>_r,m9:()=>Ar,ne:()=>hr,p$:()=>me,pd:()=>zr,r3:()=>In,ru:()=>rt,tV:()=>Te,uI:()=>ne,ug:()=>rr,vZ:()=>dn,w1:()=>dt,w9:()=>hn,xO:()=>Er,xb:()=>Or,z$:()=>We,zI:()=>Et,zd:()=>Ci});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(Je,Ve){if(!Je)throw q(Ve)},q=function(Je){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Je)},oe=function(Je){const Ve=[];let he=0;for(let ge=0;ge<Je.length;ge++){let de=Je.charCodeAt(ge);de<128?Ve[he++]=de:de<2048?(Ve[he++]=de>>6|192,Ve[he++]=63&de|128):55296==(64512&de)&&ge+1<Je.length&&56320==(64512&Je.charCodeAt(ge+1))?(de=65536+((1023&de)<<10)+(1023&Je.charCodeAt(++ge)),Ve[he++]=de>>18|240,Ve[he++]=de>>12&63|128,Ve[he++]=de>>6&63|128,Ve[he++]=63&de|128):(Ve[he++]=de>>12|224,Ve[he++]=de>>6&63|128,Ve[he++]=63&de|128)}return Ve},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Je,Ve){if(!Array.isArray(Je))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=Ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let de=0;de<Je.length;de+=3){const ht=Je[de],Oe=de+1<Je.length,Le=Oe?Je[de+1]:0,Ie=de+2<Je.length,et=Ie?Je[de+2]:0;let Pn=(15&Le)<<2|et>>6,yn=63&et;Ie||(yn=64,Oe||(Pn=64)),ge.push(he[ht>>2],he[(3&ht)<<4|Le>>4],he[Pn],he[yn])}return ge.join("")},encodeString(Je,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?btoa(Je):this.encodeByteArray(oe(Je),Ve)},decodeString(Je,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?atob(Je):function(Je){const Ve=[];let he=0,ge=0;for(;he<Je.length;){const de=Je[he++];if(de<128)Ve[ge++]=String.fromCharCode(de);else if(de>191&&de<224){const ht=Je[he++];Ve[ge++]=String.fromCharCode((31&de)<<6|63&ht)}else if(de>239&&de<365){const Ie=((7&de)<<18|(63&Je[he++])<<12|(63&Je[he++])<<6|63&Je[he++])-65536;Ve[ge++]=String.fromCharCode(55296+(Ie>>10)),Ve[ge++]=String.fromCharCode(56320+(1023&Ie))}else{const ht=Je[he++],Oe=Je[he++];Ve[ge++]=String.fromCharCode((15&de)<<12|(63&ht)<<6|63&Oe)}}return Ve.join("")}(this.decodeStringToByteArray(Je,Ve))},decodeStringToByteArray(Je,Ve){this.init_();const he=Ve?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let de=0;de<Je.length;){const ht=he[Je.charAt(de++)],Le=de<Je.length?he[Je.charAt(de)]:0;++de;const et=de<Je.length?he[Je.charAt(de)]:64;++de;const Yt=de<Je.length?he[Je.charAt(de)]:64;if(++de,null==ht||null==Le||null==et||null==Yt)throw new De;ge.push(ht<<2|Le>>4),64!==et&&(ge.push(Le<<4&240|et>>2),64!==Yt&&ge.push(et<<6&192|Yt))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Je=0;Je<this.ENCODED_VALS.length;Je++)this.byteToCharMap_[Je]=this.ENCODED_VALS.charAt(Je),this.charToByteMap_[this.byteToCharMap_[Je]]=Je,this.byteToCharMapWebSafe_[Je]=this.ENCODED_VALS_WEBSAFE.charAt(Je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Je]]=Je,Je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Je)]=Je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Je)]=Je)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(Je){const Ve=oe(Je);return xe.encodeByteArray(Ve,!0)},Fe=function(Je){return ye(Je).replace(/\./g,"")},Te=function(Je){try{return xe.decodeString(Je,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};function me(Je){return Se(void 0,Je)}function Se(Je,Ve){if(!(Ve instanceof Object))return Ve;switch(Ve.constructor){case Date:return new Date(Ve.getTime());case Object:void 0===Je&&(Je={});break;case Array:Je=[];break;default:return Ve}for(const he in Ve)!Ve.hasOwnProperty(he)||!Be(he)||(Je[he]=Se(Je[he],Ve[he]));return Je}function Be(Je){return"__proto__"!==Je}const Ce=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Je=process.env.__FIREBASE_DEFAULTS__;return Je?JSON.parse(Je):void 0})()||(()=>{if(typeof document>"u")return;let Je;try{Je=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ve=Je&&Te(Je[1]);return Ve&&JSON.parse(Ve)})()}catch(Je){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Je}`)}},He=()=>{var Je;return null===(Je=Ce())||void 0===Je?void 0:Je.config},Me=Je=>{var Ve;return null===(Ve=Ce())||void 0===Ve?void 0:Ve[`_${Je}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ve,he)=>{this.resolve=Ve,this.reject=he})}wrapCallback(Ve){return(he,ge)=>{he?this.reject(he):this.resolve(ge),"function"==typeof Ve&&(this.promise.catch(()=>{}),1===Ve.length?Ve(he):Ve(he,ge))}}}function mt(Je,Ve){if(Je.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=Ve||"demo-project",de=Je.iat||0,ht=Je.sub||Je.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:de,exp:de+3600,auth_time:de,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},Je);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Oe)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function qe(){var Je;const Ve=null===(Je=Ce())||void 0===Je?void 0:Je.forceEnvironment;if("node"===Ve)return!0;if("browser"===Ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function we(){return"object"==typeof self&&self.self===self}function rt(){const Je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Je&&void 0!==Je.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const Je=We();return Je.indexOf("MSIE ")>=0||Je.indexOf("Trident/")>=0}function _t(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function ze(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Je,Ve)=>{try{let he=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(ge);de.onsuccess=()=>{de.result.close(),he||self.indexedDB.deleteDatabase(ge),Je(!0)},de.onupgradeneeded=()=>{he=!1},de.onerror=()=>{var ht;Ve((null===(ht=de.error)||void 0===ht?void 0:ht.message)||"")}}catch(he){Ve(he)}})}function Et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(Ve,he,ge){super(he),this.code=Ve,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(Ve,he,ge){this.service=Ve,this.serviceName=he,this.errors=ge}create(Ve,...he){const ge=he[0]||{},de=`${this.service}/${Ve}`,ht=this.errors[Ve],Oe=ht?function vn(Je,Ve){return Je.replace(St,(he,ge)=>{const de=Ve[ge];return null!=de?String(de):`<${ge}?>`})}(ht,ge):"Error";return new Tt(de,`${this.serviceName}: ${Oe} (${de}).`,ge)}}const St=/\{\$([^}]+)}/g;function ct(Je){return JSON.parse(Je)}function At(Je){return JSON.stringify(Je)}const Jt=function(Je){let Ve={},he={},ge={},de="";try{const ht=Je.split(".");Ve=ct(Te(ht[0])||""),he=ct(Te(ht[1])||""),de=ht[2],ge=he.d||{},delete he.d}catch{}return{header:Ve,claims:he,data:ge,signature:de}},hn=function(Je){const he=Jt(Je).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},Kt=function(Je){const Ve=Jt(Je).claims;return"object"==typeof Ve&&!0===Ve.admin};function In(Je,Ve){return Object.prototype.hasOwnProperty.call(Je,Ve)}function jt(Je,Ve){if(Object.prototype.hasOwnProperty.call(Je,Ve))return Je[Ve]}function Or(Je){for(const Ve in Je)if(Object.prototype.hasOwnProperty.call(Je,Ve))return!1;return!0}function jn(Je,Ve,he){const ge={};for(const de in Je)Object.prototype.hasOwnProperty.call(Je,de)&&(ge[de]=Ve.call(he,Je[de],de,Je));return ge}function dn(Je,Ve){if(Je===Ve)return!0;const he=Object.keys(Je),ge=Object.keys(Ve);for(const de of he){if(!ge.includes(de))return!1;const ht=Je[de],Oe=Ve[de];if(ar(ht)&&ar(Oe)){if(!dn(ht,Oe))return!1}else if(ht!==Oe)return!1}for(const de of ge)if(!he.includes(de))return!1;return!0}function ar(Je){return null!==Je&&"object"==typeof Je}function Er(Je){const Ve=[];for(const[he,ge]of Object.entries(Je))Array.isArray(ge)?ge.forEach(de=>{Ve.push(encodeURIComponent(he)+"="+encodeURIComponent(de))}):Ve.push(encodeURIComponent(he)+"="+encodeURIComponent(ge));return Ve.length?"&"+Ve.join("&"):""}function Ci(Je){const Ve={};return Je.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[de,ht]=ge.split("=");Ve[decodeURIComponent(de)]=decodeURIComponent(ht)}}),Ve}function zr(Je){const Ve=Je.indexOf("?");if(!Ve)return"";const he=Je.indexOf("#",Ve);return Je.substring(Ve,he>0?he:void 0)}class mr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ve=1;Ve<this.blockSize;++Ve)this.pad_[Ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ve,he){he||(he=0);const ge=this.W_;if("string"==typeof Ve)for(let Yt=0;Yt<16;Yt++)ge[Yt]=Ve.charCodeAt(he)<<24|Ve.charCodeAt(he+1)<<16|Ve.charCodeAt(he+2)<<8|Ve.charCodeAt(he+3),he+=4;else for(let Yt=0;Yt<16;Yt++)ge[Yt]=Ve[he]<<24|Ve[he+1]<<16|Ve[he+2]<<8|Ve[he+3],he+=4;for(let Yt=16;Yt<80;Yt++){const Pn=ge[Yt-3]^ge[Yt-8]^ge[Yt-14]^ge[Yt-16];ge[Yt]=4294967295&(Pn<<1|Pn>>>31)}let et,Mt,de=this.chain_[0],ht=this.chain_[1],Oe=this.chain_[2],Le=this.chain_[3],Ie=this.chain_[4];for(let Yt=0;Yt<80;Yt++){Yt<40?Yt<20?(et=Le^ht&(Oe^Le),Mt=1518500249):(et=ht^Oe^Le,Mt=1859775393):Yt<60?(et=ht&Oe|Le&(ht|Oe),Mt=2400959708):(et=ht^Oe^Le,Mt=3395469782);const Pn=(de<<5|de>>>27)+et+Ie+Mt+ge[Yt]&4294967295;Ie=Le,Le=Oe,Oe=4294967295&(ht<<30|ht>>>2),ht=de,de=Pn}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+ht&4294967295,this.chain_[2]=this.chain_[2]+Oe&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+Ie&4294967295}update(Ve,he){if(null==Ve)return;void 0===he&&(he=Ve.length);const ge=he-this.blockSize;let de=0;const ht=this.buf_;let Oe=this.inbuf_;for(;de<he;){if(0===Oe)for(;de<=ge;)this.compress_(Ve,de),de+=this.blockSize;if("string"==typeof Ve){for(;de<he;)if(ht[Oe]=Ve.charCodeAt(de),++Oe,++de,Oe===this.blockSize){this.compress_(ht),Oe=0;break}}else for(;de<he;)if(ht[Oe]=Ve[de],++Oe,++de,Oe===this.blockSize){this.compress_(ht),Oe=0;break}}this.inbuf_=Oe,this.total_+=he}digest(){const Ve=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&he,he/=256;this.compress_(this.buf_);let ge=0;for(let de=0;de<5;de++)for(let ht=24;ht>=0;ht-=8)Ve[ge]=this.chain_[de]>>ht&255,++ge;return Ve}}function hr(Je,Ve){const he=new Cn(Je,Ve);return he.subscribe.bind(he)}class Cn{constructor(Ve,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{Ve(this)}).catch(ge=>{this.error(ge)})}next(Ve){this.forEachObserver(he=>{he.next(Ve)})}error(Ve){this.forEachObserver(he=>{he.error(Ve)}),this.close(Ve)}complete(){this.forEachObserver(Ve=>{Ve.complete()}),this.close()}subscribe(Ve,he,ge){let de;if(void 0===Ve&&void 0===he&&void 0===ge)throw new Error("Missing Observer.");de=function xr(Je,Ve){if("object"!=typeof Je||null===Je)return!1;for(const he of Ve)if(he in Je&&"function"==typeof Je[he])return!0;return!1}(Ve,["next","error","complete"])?Ve:{next:Ve,error:he,complete:ge},void 0===de.next&&(de.next=Wr),void 0===de.error&&(de.error=Wr),void 0===de.complete&&(de.complete=Wr);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),ht}unsubscribeOne(Ve){void 0===this.observers||void 0===this.observers[Ve]||(delete this.observers[Ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ve){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,Ve)}sendOne(Ve,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ve])try{he(this.observers[Ve])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(Ve){this.finalized||(this.finalized=!0,void 0!==Ve&&(this.finalError=Ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}const dr=function(Je,Ve,he,ge){let de;if(ge<Ve?de="at least "+Ve:ge>he&&(de=0===he?"none":"no more than "+he),de)throw new Error(Je+" failed: Was called with "+ge+(1===ge?" argument.":" arguments.")+" Expects "+de+".")};function ii(Je,Ve){return`${Je} failed: ${Ve} argument `}function Ri(Je,Ve,he,ge){if((!ge||he)&&"function"!=typeof he)throw new Error(ii(Je,Ve)+"must be a valid function.")}function _r(Je,Ve,he,ge){if((!ge||he)&&("object"!=typeof he||null===he))throw new Error(ii(Je,Ve)+"must be a valid context object.")}const Qr=function(Je){const Ve=[];let he=0;for(let ge=0;ge<Je.length;ge++){let de=Je.charCodeAt(ge);if(de>=55296&&de<=56319){const ht=de-55296;ge++,g(ge<Je.length,"Surrogate pair missing trail surrogate."),de=65536+(ht<<10)+(Je.charCodeAt(ge)-56320)}de<128?Ve[he++]=de:de<2048?(Ve[he++]=de>>6|192,Ve[he++]=63&de|128):de<65536?(Ve[he++]=de>>12|224,Ve[he++]=de>>6&63|128,Ve[he++]=63&de|128):(Ve[he++]=de>>18|240,Ve[he++]=de>>12&63|128,Ve[he++]=de>>6&63|128,Ve[he++]=63&de|128)}return Ve},rr=function(Je){let Ve=0;for(let he=0;he<Je.length;he++){const ge=Je.charCodeAt(he);ge<128?Ve++:ge<2048?Ve+=2:ge>=55296&&ge<=56319?(Ve+=4,he++):Ve+=3}return Ve},Jn=1e3,ln=2,Ht=144e5,En=.5;function Vn(Je,Ve=Jn,he=ln){const ge=Ve*Math.pow(he,Je),de=Math.round(En*ge*(Math.random()-.5)*2);return Math.min(Ht,ge+de)}function Ar(Je){return Je&&Je._delegate?Je._delegate:Je}},9613:(an,lt,L)=>{"use strict";L.d(lt,{c:()=>nt});var y=L(3577),g=L(3457);let q;const Re=Pe=>Pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xe=Pe=>(void 0===q&&(q=void 0===Pe.style.animationName&&void 0!==Pe.style.webkitAnimationName?"-webkit-":""),q),De=(Pe,Ce,ce)=>{const Q=Ce.startsWith("animation")?xe(Pe):"";Pe.style.setProperty(Q+Ce,ce)},ye=(Pe,Ce)=>{const ce=Ce.startsWith("animation")?xe(Pe):"";Pe.style.removeProperty(ce+Ce)},me=[],Ye=(Pe=[],Ce)=>{if(void 0!==Ce){const ce=Array.isArray(Ce)?Ce:[Ce];return[...Pe,...ce]}return Pe},nt=Pe=>{let Ce,ce,Q,He,Me,Qe,we,Ue,je,Et,yt,St,ct,mt=[],We=[],ne=[],qe=!1,rt={},bt=[],Ke=[],dt={},Dt=0,_t=!1,ze=!1,Tt=!0,Ut=!1,vn=!0,At=!1;const Jt=Pe,bn=[],Fn=[],hn=[],Kt=[],In=[],jt=[],Or=[],jn=[],dn=[],ar=[],Zr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,Er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zr,zr=()=>ar,xr=(be,it)=>((null!=it&&it.oneTimeCallback?Fn:bn).push({c:be,o:it}),ct),dr=()=>{if(Er)ar.forEach(be=>{be.cancel()}),ar.length=0;else{const be=hn.slice();(0,y.r)(()=>{be.forEach(it=>{ye(it,"animation-name"),ye(it,"animation-duration"),ye(it,"animation-timing-function"),ye(it,"animation-iteration-count"),ye(it,"animation-delay"),ye(it,"animation-play-state"),ye(it,"animation-fill-mode"),ye(it,"animation-direction")})})}},ii=()=>{In.forEach(be=>{null!=be&&be.parentNode&&be.parentNode.removeChild(be)}),In.length=0},fr=()=>void 0!==Me?Me:we?we.getFill():"both",Ar=()=>void 0!==je?je:void 0!==Qe?Qe:we?we.getDirection():"normal",Je=()=>_t?"linear":void 0!==Q?Q:we?we.getEasing():"linear",Ve=()=>ze?0:void 0!==Et?Et:void 0!==ce?ce:we?we.getDuration():0,he=()=>void 0!==He?He:we?we.getIterations():1,ge=()=>void 0!==yt?yt:void 0!==Ce?Ce:we?we.getDelay():0,Li=()=>{0!==Dt&&(Dt--,0===Dt&&((()=>{cr(),jn.forEach($t=>$t()),dn.forEach($t=>$t());const be=Tt?1:0,it=bt,ot=Ke,Rt=dt;hn.forEach($t=>{const zt=$t.classList;it.forEach(qt=>zt.add(qt)),ot.forEach(qt=>zt.remove(qt));for(const qt in Rt)Rt.hasOwnProperty(qt)&&De($t,qt,Rt[qt])}),bn.forEach($t=>$t.c(be,ct)),Fn.forEach($t=>$t.c(be,ct)),Fn.length=0,vn=!0,Tt&&(Ut=!0),Tt=!0})(),we&&we.animationFinish()))},Bi=(be=!0)=>{ii();const it=(Pe=>(Pe.forEach(Ce=>{for(const ce in Ce)if(Ce.hasOwnProperty(ce)){const Q=Ce[ce];if("easing"===ce)Ce["animation-timing-function"]=Q,delete Ce[ce];else{const He=Re(ce);He!==ce&&(Ce[He]=Q,delete Ce[ce])}}}),Pe))(mt);hn.forEach(ot=>{if(it.length>0){const Rt=((Pe=[])=>Pe.map(Ce=>{const ce=Ce.offset,Q=[];for(const He in Ce)Ce.hasOwnProperty(He)&&"offset"!==He&&Q.push(`${He}: ${Ce[He]};`);return`${100*ce}% { ${Q.join(" ")} }`}).join(" "))(it);St=void 0!==Pe?Pe:(Pe=>{let Ce=me.indexOf(Pe);return Ce<0&&(Ce=me.push(Pe)-1),`ion-animation-${Ce}`})(Rt);const $t=((Pe,Ce,ce)=>{var Q;const He=(Pe=>{const Ce=void 0!==Pe.getRootNode?Pe.getRootNode():Pe;return Ce.head||Ce})(ce),Me=xe(ce),Qe=He.querySelector("#"+Pe);if(Qe)return Qe;const mt=(null!==(Q=ce.ownerDocument)&&void 0!==Q?Q:document).createElement("style");return mt.id=Pe,mt.textContent=`@${Me}keyframes ${Pe} { ${Ce} } @${Me}keyframes ${Pe}-alt { ${Ce} }`,He.appendChild(mt),mt})(St,Rt,ot);In.push($t),De(ot,"animation-duration",`${Ve()}ms`),De(ot,"animation-timing-function",Je()),De(ot,"animation-delay",`${ge()}ms`),De(ot,"animation-fill-mode",fr()),De(ot,"animation-direction",Ar());const zt=he()===1/0?"infinite":he().toString();De(ot,"animation-iteration-count",zt),De(ot,"animation-play-state","paused"),be&&De(ot,"animation-name",`${$t.id}-alt`),(0,y.r)(()=>{De(ot,"animation-name",$t.id||null)})}})},gs=(be=!0)=>{(()=>{jt.forEach(Rt=>Rt()),Or.forEach(Rt=>Rt());const be=We,it=ne,ot=rt;hn.forEach(Rt=>{const $t=Rt.classList;be.forEach(zt=>$t.add(zt)),it.forEach(zt=>$t.remove(zt));for(const zt in ot)ot.hasOwnProperty(zt)&&De(Rt,zt,ot[zt])})})(),mt.length>0&&(Er?(hn.forEach(be=>{const it=be.animate(mt,{id:Jt,delay:ge(),duration:Ve(),easing:Je(),iterations:he(),fill:fr(),direction:Ar()});it.pause(),ar.push(it)}),ar.length>0&&(ar[0].onfinish=()=>{Li()})):Bi(be)),qe=!0},Xn=be=>{if(be=Math.min(Math.max(be,0),.9999),Er)ar.forEach(it=>{it.currentTime=it.effect.getComputedTiming().delay+Ve()*be,it.pause()});else{const it=`-${Ve()*be}ms`;hn.forEach(ot=>{mt.length>0&&(De(ot,"animation-delay",it),De(ot,"animation-play-state","paused"))})}},Lr=be=>{ar.forEach(it=>{it.effect.updateTiming({delay:ge(),duration:Ve(),easing:Je(),iterations:he(),fill:fr(),direction:Ar()})}),void 0!==be&&Xn(be)},Vr=(be=!0,it)=>{(0,y.r)(()=>{hn.forEach(ot=>{De(ot,"animation-name",St||null),De(ot,"animation-duration",`${Ve()}ms`),De(ot,"animation-timing-function",Je()),De(ot,"animation-delay",void 0!==it?`-${it*Ve()}ms`:`${ge()}ms`),De(ot,"animation-fill-mode",fr()||null),De(ot,"animation-direction",Ar()||null);const Rt=he()===1/0?"infinite":he().toString();De(ot,"animation-iteration-count",Rt),be&&De(ot,"animation-name",`${St}-alt`),(0,y.r)(()=>{De(ot,"animation-name",St||null)})})})},br=(be=!1,it=!0,ot)=>(be&&Kt.forEach(Rt=>{Rt.update(be,it,ot)}),Er?Lr(ot):Vr(it,ot),ct),xi=()=>{qe&&(Er?ar.forEach(be=>{be.pause()}):hn.forEach(be=>{De(be,"animation-play-state","paused")}),At=!0)},An=()=>{Ue=void 0,Li()},cr=()=>{Ue&&clearTimeout(Ue)},gi=be=>new Promise(it=>{null!=be&&be.sync&&(ze=!0,xr(()=>ze=!1,{oneTimeCallback:!0})),qe||gs(),Ut&&(Er?(Xn(0),Lr()):Vr(),Ut=!1),vn&&(Dt=Kt.length+1,vn=!1),xr(()=>it(),{oneTimeCallback:!0}),Kt.forEach(ot=>{ot.play()}),Er?(ar.forEach(be=>{be.play()}),(0===mt.length||0===hn.length)&&Li()):(()=>{if(cr(),(0,y.r)(()=>{hn.forEach(be=>{mt.length>0&&De(be,"animation-play-state","running")})}),0===mt.length||0===hn.length)Li();else{const be=ge()||0,it=Ve()||0,ot=he()||1;isFinite(ot)&&(Ue=setTimeout(An,be+it*ot+100)),((Pe,Ce)=>{let ce;const Q={passive:!0},Me=Qe=>{Pe===Qe.target&&(ce&&ce(),cr(),(0,y.r)(()=>{hn.forEach(be=>{ye(be,"animation-duration"),ye(be,"animation-delay"),ye(be,"animation-play-state")}),(0,y.r)(Li)}))};Pe&&(Pe.addEventListener("webkitAnimationEnd",Me,Q),Pe.addEventListener("animationend",Me,Q),ce=()=>{Pe.removeEventListener("webkitAnimationEnd",Me,Q),Pe.removeEventListener("animationend",Me,Q)})})(hn[0])}})(),At=!1}),ue=(be,it)=>{const ot=mt[0];return void 0===ot||void 0!==ot.offset&&0!==ot.offset?mt=[{offset:0,[be]:it},...mt]:ot[be]=it,ct};return ct={parentAnimation:we,elements:hn,childAnimations:Kt,id:Jt,animationFinish:Li,from:ue,to:(be,it)=>{const ot=mt[mt.length-1];return void 0===ot||void 0!==ot.offset&&1!==ot.offset?mt=[...mt,{offset:1,[be]:it}]:ot[be]=it,ct},fromTo:(be,it,ot)=>ue(be,it).to(be,ot),parent:be=>(we=be,ct),play:gi,pause:()=>(Kt.forEach(be=>{be.pause()}),xi(),ct),stop:()=>{Kt.forEach(be=>{be.stop()}),qe&&(dr(),qe=!1),_t=!1,ze=!1,vn=!0,je=void 0,Et=void 0,yt=void 0,Dt=0,Ut=!1,Tt=!0,At=!1},destroy:be=>(Kt.forEach(it=>{it.destroy(be)}),(be=>{dr(),be&&ii()})(be),hn.length=0,Kt.length=0,mt.length=0,bn.length=0,Fn.length=0,qe=!1,vn=!0,ct),keyframes:be=>{const it=mt!==be;return mt=be,it&&(be=>{Er?zr().forEach(it=>{if(it.effect.setKeyframes)it.effect.setKeyframes(be);else{const ot=new KeyframeEffect(it.effect.target,be,it.effect.getTiming());it.effect=ot}}):Bi()})(mt),ct},addAnimation:be=>{if(null!=be)if(Array.isArray(be))for(const it of be)it.parent(ct),Kt.push(it);else be.parent(ct),Kt.push(be);return ct},addElement:be=>{if(null!=be)if(1===be.nodeType)hn.push(be);else if(be.length>=0)for(let it=0;it<be.length;it++)hn.push(be[it]);else console.error("Invalid addElement value");return ct},update:br,fill:be=>(Me=be,br(!0),ct),direction:be=>(Qe=be,br(!0),ct),iterations:be=>(He=be,br(!0),ct),duration:be=>(!Er&&0===be&&(be=1),ce=be,br(!0),ct),easing:be=>(Q=be,br(!0),ct),delay:be=>(Ce=be,br(!0),ct),getWebAnimations:zr,getKeyframes:()=>mt,getFill:fr,getDirection:Ar,getDelay:ge,getIterations:he,getEasing:Je,getDuration:Ve,afterAddRead:be=>(jn.push(be),ct),afterAddWrite:be=>(dn.push(be),ct),afterClearStyles:(be=[])=>{for(const it of be)dt[it]="";return ct},afterStyles:(be={})=>(dt=be,ct),afterRemoveClass:be=>(Ke=Ye(Ke,be),ct),afterAddClass:be=>(bt=Ye(bt,be),ct),beforeAddRead:be=>(jt.push(be),ct),beforeAddWrite:be=>(Or.push(be),ct),beforeClearStyles:(be=[])=>{for(const it of be)rt[it]="";return ct},beforeStyles:(be={})=>(rt=be,ct),beforeRemoveClass:be=>(ne=Ye(ne,be),ct),beforeAddClass:be=>(We=Ye(We,be),ct),onFinish:xr,isRunning:()=>0!==Dt&&!At,progressStart:(be=!1,it)=>(Kt.forEach(ot=>{ot.progressStart(be,it)}),xi(),_t=be,qe||gs(),br(!1,!0,it),ct),progressStep:be=>(Kt.forEach(it=>{it.progressStep(be)}),Xn(be),ct),progressEnd:(be,it,ot)=>(_t=!1,Kt.forEach(Rt=>{Rt.progressEnd(be,it,ot)}),void 0!==ot&&(Et=ot),Ut=!1,Tt=!0,0===be?(je="reverse"===Ar()?"normal":"reverse","reverse"===je&&(Tt=!1),Er?(br(),Xn(1-it)):(yt=(1-it)*Ve()*-1,br(!1,!1))):1===be&&(Er?(br(),Xn(it)):(yt=it*Ve()*-1,br(!1,!1))),void 0!==be&&(xr(()=>{Et=void 0,je=void 0,yt=void 0},{oneTimeCallback:!0}),we||gi()),ct)}}},3982:(an,lt,L)=>{"use strict";L.d(lt,{E:()=>Te,a:()=>y,s:()=>ye});const y=me=>{try{if(me instanceof De)return me.value;if(!oe()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const Se=document.createDocumentFragment(),Be=document.createElement("div");Se.appendChild(Be),Be.innerHTML=me,xe.forEach(Pe=>{const Ce=Se.querySelectorAll(Pe);for(let ce=Ce.length-1;ce>=0;ce--){const Q=Ce[ce];Q.parentNode?Q.parentNode.removeChild(Q):Se.removeChild(Q);const He=q(Q);for(let Me=0;Me<He.length;Me++)g(He[Me])}});const $e=q(Se);for(let Pe=0;Pe<$e.length;Pe++)g($e[Pe]);const Ye=document.createElement("div");Ye.appendChild(Se);const nt=Ye.querySelector("div");return null!==nt?nt.innerHTML:Ye.innerHTML}catch(Se){return console.error(Se),""}},g=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let Be=me.attributes.length-1;Be>=0;Be--){const $e=me.attributes.item(Be),Ye=$e.name;if(!Re.includes(Ye.toLowerCase())){me.removeAttribute(Ye);continue}const nt=$e.value,Pe=me[Ye];(null!=nt&&nt.toLowerCase().includes("javascript:")||null!=Pe&&Pe.toLowerCase().includes("javascript:"))&&me.removeAttribute(Ye)}const Se=q(me);for(let Be=0;Be<Se.length;Be++)g(Se[Be])},q=me=>null!=me.children?me.children:me.childNodes,oe=()=>{var me;const Se=window,Be=null===(me=null==Se?void 0:Se.Ionic)||void 0===me?void 0:me.config;return!Be||(Be.get?Be.get("sanitizerEnabled",!0):!0===Be.sanitizerEnabled||void 0===Be.sanitizerEnabled)},Re=["class","id","href","src","name","slot"],xe=["script","style","iframe","meta","link","object","embed"];class De{constructor(Se){this.value=Se}}const ye=me=>{const Se=window,Be=Se.Ionic;if(!Be||!Be.config||"Object"===Be.config.constructor.name)return Se.Ionic=Se.Ionic||{},Se.Ionic.config=Object.assign(Object.assign({},Se.Ionic.config),me),Se.Ionic.config},Te=!1},6782:(an,lt,L)=>{"use strict";L.d(lt,{C:()=>Re,a:()=>q,d:()=>oe});var y=L(5861),g=L(3577);const q=function(){var xe=(0,y.Z)(function*(De,ye,Fe,Te,me,Se){var Be;if(De)return De.attachViewToDom(ye,Fe,me,Te);if(!(Se||"string"==typeof Fe||Fe instanceof HTMLElement))throw new Error("framework delegate is missing");const $e="string"==typeof Fe?null===(Be=ye.ownerDocument)||void 0===Be?void 0:Be.createElement(Fe):Fe;return Te&&Te.forEach(Ye=>$e.classList.add(Ye)),me&&Object.assign($e,me),ye.appendChild($e),yield new Promise(Ye=>(0,g.c)($e,Ye)),$e});return function(ye,Fe,Te,me,Se,Be){return xe.apply(this,arguments)}}(),oe=(xe,De)=>{if(De){if(xe)return xe.removeViewFromDom(De.parentElement,De);De.remove()}return Promise.resolve()},Re=()=>{let xe,De;return{attachViewToDom:function(){var Te=(0,y.Z)(function*(me,Se,Be={},$e=[]){var Ye,nt;if(xe=me,Se){const Ce="string"==typeof Se?null===(Ye=xe.ownerDocument)||void 0===Ye?void 0:Ye.createElement(Se):Se;$e.forEach(ce=>Ce.classList.add(ce)),Object.assign(Ce,Be),xe.appendChild(Ce),yield new Promise(ce=>(0,g.c)(Ce,ce))}else if(xe.children.length>0&&("ION-MODAL"===xe.tagName||"ION-POPOVER"===xe.tagName)&&!xe.children[0].classList.contains("ion-delegate-host")){const ce=null===(nt=xe.ownerDocument)||void 0===nt?void 0:nt.createElement("div");ce.classList.add("ion-delegate-host"),$e.forEach(Q=>ce.classList.add(Q)),ce.append(...xe.children),xe.appendChild(ce)}const Pe=document.querySelector("ion-app")||document.body;return De=document.createComment("ionic teleport"),xe.parentNode.insertBefore(De,xe),Pe.appendChild(xe),xe});return function(Se,Be){return Te.apply(this,arguments)}}(),removeViewFromDom:()=>(xe&&De&&(De.parentNode.insertBefore(xe,De),De.remove()),Promise.resolve())}}},4349:(an,lt,L)=>{"use strict";L.d(lt,{G:()=>Re});class g{constructor(De,ye,Fe,Te,me){this.id=ye,this.name=Fe,this.disableScroll=me,this.priority=1e6*Te+ye,this.ctrl=De}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const De=this.ctrl.capture(this.name,this.id,this.priority);return De&&this.disableScroll&&this.ctrl.disableScroll(this.id),De}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class q{constructor(De,ye,Fe,Te){this.id=ye,this.disable=Fe,this.disableScroll=Te,this.ctrl=De}block(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.disableGesture(De,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.enableGesture(De,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const oe="backdrop-no-scroll",Re=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(De){var ye;return new g(this,this.newID(),De.name,null!==(ye=De.priority)&&void 0!==ye?ye:0,!!De.disableScroll)}createBlocker(De={}){return new q(this,this.newID(),De.disable,!!De.disableScroll)}start(De,ye,Fe){return this.canStart(De)?(this.requestedStart.set(ye,Fe),!0):(this.requestedStart.delete(ye),!1)}capture(De,ye,Fe){if(!this.start(De,ye,Fe))return!1;const Te=this.requestedStart;let me=-1e4;if(Te.forEach(Se=>{me=Math.max(me,Se)}),me===Fe){this.capturedId=ye,Te.clear();const Se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:De}});return document.dispatchEvent(Se),!0}return Te.delete(ye),!1}release(De){this.requestedStart.delete(De),this.capturedId===De&&(this.capturedId=void 0)}disableGesture(De,ye){let Fe=this.disabledGestures.get(De);void 0===Fe&&(Fe=new Set,this.disabledGestures.set(De,Fe)),Fe.add(ye)}enableGesture(De,ye){const Fe=this.disabledGestures.get(De);void 0!==Fe&&Fe.delete(ye)}disableScroll(De){this.disabledScroll.add(De),1===this.disabledScroll.size&&document.body.classList.add(oe)}enableScroll(De){this.disabledScroll.delete(De),0===this.disabledScroll.size&&document.body.classList.remove(oe)}canStart(De){return!(void 0!==this.capturedId||this.isDisabled(De))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(De){const ye=this.disabledGestures.get(De);return!!(ye&&ye.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(an,lt,L)=>{"use strict";L.r(lt),L.d(lt,{MENU_BACK_BUTTON_PRIORITY:()=>Re,OVERLAY_BACK_BUTTON_PRIORITY:()=>oe,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>q});var y=L(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const xe=document;let De=!1;xe.addEventListener("backbutton",()=>{if(De)return;let ye=0,Fe=[];const Te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Be,$e){Fe.push({priority:Be,handler:$e,id:ye++})}}});xe.dispatchEvent(Te);const me=function(){var Be=(0,y.Z)(function*($e){try{if(null!=$e&&$e.handler){const Ye=$e.handler(Se);null!=Ye&&(yield Ye)}}catch(Ye){console.error(Ye)}});return function(Ye){return Be.apply(this,arguments)}}(),Se=()=>{if(Fe.length>0){let Be={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Fe.forEach($e=>{$e.priority>=Be.priority&&(Be=$e)}),De=!0,Fe=Fe.filter($e=>$e.id!==Be.id),me(Be).then(()=>De=!1)}};Se()})},oe=100,Re=99},3577:(an,lt,L)=>{"use strict";L.d(lt,{a:()=>ye,b:()=>Fe,c:()=>q,d:()=>nt,e:()=>Ye,f:()=>$e,g:()=>Te,h:()=>Be,i:()=>De,j:()=>Me,k:()=>Re,l:()=>Pe,m:()=>oe,n:()=>Se,o:()=>Ce,p:()=>Q,q:()=>He,r:()=>me,s:()=>mt,t:()=>y,u:()=>Qe,v:()=>ce});const y=(We,ne=0)=>new Promise(qe=>{g(We,ne,qe)}),g=(We,ne=0,qe)=>{let we,rt;const bt={passive:!0},dt=()=>{we&&we()},Dt=_t=>{(void 0===_t||We===_t.target)&&(dt(),qe(_t))};return We&&(We.addEventListener("webkitTransitionEnd",Dt,bt),We.addEventListener("transitionend",Dt,bt),rt=setTimeout(Dt,ne+500),we=()=>{rt&&(clearTimeout(rt),rt=void 0),We.removeEventListener("webkitTransitionEnd",Dt,bt),We.removeEventListener("transitionend",Dt,bt)}),dt},q=(We,ne)=>{We.componentOnReady?We.componentOnReady().then(qe=>ne(qe)):me(()=>ne(We))},oe=We=>void 0!==We.componentOnReady,Re=(We,ne=[])=>{const qe={};return ne.forEach(we=>{We.hasAttribute(we)&&(null!==We.getAttribute(we)&&(qe[we]=We.getAttribute(we)),We.removeAttribute(we))}),qe},xe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],De=(We,ne)=>{let qe=xe;return ne&&ne.length>0&&(qe=qe.filter(we=>!ne.includes(we))),Re(We,qe)},ye=(We,ne,qe,we)=>{var rt;if(typeof window<"u"){const bt=window,Ke=null===(rt=null==bt?void 0:bt.Ionic)||void 0===rt?void 0:rt.config;if(Ke){const dt=Ke.get("_ael");if(dt)return dt(We,ne,qe,we);if(Ke._ael)return Ke._ael(We,ne,qe,we)}}return We.addEventListener(ne,qe,we)},Fe=(We,ne,qe,we)=>{var rt;if(typeof window<"u"){const bt=window,Ke=null===(rt=null==bt?void 0:bt.Ionic)||void 0===rt?void 0:rt.config;if(Ke){const dt=Ke.get("_rel");if(dt)return dt(We,ne,qe,we);if(Ke._rel)return Ke._rel(We,ne,qe,we)}}return We.removeEventListener(ne,qe,we)},Te=(We,ne=We)=>We.shadowRoot||ne,me=We=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(We):"function"==typeof requestAnimationFrame?requestAnimationFrame(We):setTimeout(We),Se=We=>!!We.shadowRoot&&!!We.attachShadow,Be=We=>{const ne=We.closest("ion-item");return ne?ne.querySelector("ion-label"):null},$e=We=>{if(We.focus(),We.classList.contains("ion-focusable")){const ne=We.closest("ion-app");ne&&ne.setFocus([We])}},Ye=(We,ne)=>{let qe;const we=We.getAttribute("aria-labelledby"),rt=We.id;let bt=null!==we&&""!==we.trim()?we:ne+"-lbl",Ke=null!==we&&""!==we.trim()?document.getElementById(we):Be(We);return Ke?(null===we&&(Ke.id=bt),qe=Ke.textContent,Ke.setAttribute("aria-hidden","true")):""!==rt.trim()&&(Ke=document.querySelector(`label[for="${rt}"]`),Ke&&(""!==Ke.id?bt=Ke.id:Ke.id=bt=`${rt}-lbl`,qe=Ke.textContent)),{label:Ke,labelId:bt,labelText:qe}},nt=(We,ne,qe,we,rt)=>{if(We||Se(ne)){let bt=ne.querySelector("input.aux-input");bt||(bt=ne.ownerDocument.createElement("input"),bt.type="hidden",bt.classList.add("aux-input"),ne.appendChild(bt)),bt.disabled=rt,bt.name=qe,bt.value=we||""}},Pe=(We,ne,qe)=>Math.max(We,Math.min(ne,qe)),Ce=(We,ne)=>{if(!We){const qe="ASSERT: "+ne;throw console.error(qe),new Error(qe)}},ce=We=>We.timeStamp||Date.now(),Q=We=>{if(We){const ne=We.changedTouches;if(ne&&ne.length>0){const qe=ne[0];return{x:qe.clientX,y:qe.clientY}}if(void 0!==We.pageX)return{x:We.pageX,y:We.pageY}}return{x:0,y:0}},He=We=>{const ne="rtl"===document.dir;switch(We){case"start":return ne;case"end":return!ne;default:throw new Error(`"${We}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Me=(We,ne)=>{const qe=We._original||We;return{_original:We,emit:Qe(qe.emit.bind(qe),ne)}},Qe=(We,ne=0)=>{let qe;return(...we)=>{clearTimeout(qe),qe=setTimeout(We,ne,...we)}},mt=(We,ne)=>{if(null!=We||(We={}),null!=ne||(ne={}),We===ne)return!0;const qe=Object.keys(We);if(qe.length!==Object.keys(ne).length)return!1;for(const we of qe)if(!(we in ne)||We[we]!==ne[we])return!1;return!0}},3354:(an,lt,L)=>{"use strict";L.d(lt,{m:()=>me});var y=L(5861),g=L(7593),q=L(3577),oe=L(6406),Re=L(9613);const xe=Se=>(0,Re.c)().duration(Se?400:300),De=Se=>{let Be,$e;const Ye=Se.width+8,nt=(0,Re.c)(),Pe=(0,Re.c)();Se.isEndSide?(Be=Ye+"px",$e="0px"):(Be=-Ye+"px",$e="0px"),nt.addElement(Se.menuInnerEl).fromTo("transform",`translateX(${Be})`,`translateX(${$e})`);const ce="ios"===(0,oe.b)(Se),Q=ce?.2:.25;return Pe.addElement(Se.backdropEl).fromTo("opacity",.01,Q),xe(ce).addAnimation([nt,Pe])},ye=Se=>{let Be,$e;const Ye=(0,oe.b)(Se),nt=Se.width;Se.isEndSide?(Be=-nt+"px",$e=nt+"px"):(Be=nt+"px",$e=-nt+"px");const Pe=(0,Re.c)().addElement(Se.menuInnerEl).fromTo("transform",`translateX(${$e})`,"translateX(0px)"),Ce=(0,Re.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${Be})`),ce=(0,Re.c)().addElement(Se.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===Ye).addAnimation([Pe,Ce,ce])},Fe=Se=>{const Be=(0,oe.b)(Se),$e=Se.width*(Se.isEndSide?-1:1)+"px",Ye=(0,Re.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${$e})`);return xe("ios"===Be).addAnimation(Ye)},me=(()=>{const Se=new Map,Be=[],$e=function(){var Ue=(0,y.Z)(function*(je){const Et=yield He(je);return!!Et&&Et.open()});return function(Et){return Ue.apply(this,arguments)}}(),Ye=function(){var Ue=(0,y.Z)(function*(je){const Et=yield void 0!==je?He(je):Me();return void 0!==Et&&Et.close()});return function(Et){return Ue.apply(this,arguments)}}(),nt=function(){var Ue=(0,y.Z)(function*(je){const Et=yield He(je);return!!Et&&Et.toggle()});return function(Et){return Ue.apply(this,arguments)}}(),Pe=function(){var Ue=(0,y.Z)(function*(je,Et){const yt=yield He(Et);return yt&&(yt.disabled=!je),yt});return function(Et,yt){return Ue.apply(this,arguments)}}(),Ce=function(){var Ue=(0,y.Z)(function*(je,Et){const yt=yield He(Et);return yt&&(yt.swipeGesture=je),yt});return function(Et,yt){return Ue.apply(this,arguments)}}(),ce=function(){var Ue=(0,y.Z)(function*(je){if(null!=je){const Et=yield He(je);return void 0!==Et&&Et.isOpen()}return void 0!==(yield Me())});return function(Et){return Ue.apply(this,arguments)}}(),Q=function(){var Ue=(0,y.Z)(function*(je){const Et=yield He(je);return!!Et&&!Et.disabled});return function(Et){return Ue.apply(this,arguments)}}(),He=function(){var Ue=(0,y.Z)(function*(je){return yield ze(),"start"===je||"end"===je?_t(Tt=>Tt.side===je&&!Tt.disabled)||_t(Tt=>Tt.side===je):null!=je?_t(yt=>yt.menuId===je):_t(yt=>!yt.disabled)||(Be.length>0?Be[0].el:void 0)});return function(Et){return Ue.apply(this,arguments)}}(),Me=function(){var Ue=(0,y.Z)(function*(){return yield ze(),Ke()});return function(){return Ue.apply(this,arguments)}}(),Qe=function(){var Ue=(0,y.Z)(function*(){return yield ze(),dt()});return function(){return Ue.apply(this,arguments)}}(),mt=function(){var Ue=(0,y.Z)(function*(){return yield ze(),Dt()});return function(){return Ue.apply(this,arguments)}}(),We=(Ue,je)=>{Se.set(Ue,je)},we=Ue=>{const je=Ue.side;Be.filter(Et=>Et.side===je&&Et!==Ue).forEach(Et=>Et.disabled=!0)},rt=function(){var Ue=(0,y.Z)(function*(je,Et,yt){if(Dt())return!1;if(Et){const Tt=yield Me();Tt&&je.el!==Tt&&(yield Tt.setOpen(!1,!1))}return je._setOpen(Et,yt)});return function(Et,yt,Tt){return Ue.apply(this,arguments)}}(),Ke=()=>_t(Ue=>Ue._isOpen),dt=()=>Be.map(Ue=>Ue.el),Dt=()=>Be.some(Ue=>Ue.isAnimating),_t=Ue=>{const je=Be.find(Ue);if(void 0!==je)return je.el},ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ue=>new Promise(je=>(0,q.c)(Ue,je))));return We("reveal",Fe),We("push",ye),We("overlay",De),typeof document<"u"&&document.addEventListener("ionBackButton",Ue=>{const je=Ke();je&&Ue.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>je.close())}),{registerAnimation:We,get:He,getMenus:Qe,getOpen:Me,isEnabled:Q,swipeGesture:Ce,isAnimating:mt,isOpen:ce,enable:Pe,toggle:nt,close:Ye,open:$e,_getOpenSync:Ke,_createAnimation:(Ue,je)=>{const Et=Se.get(Ue);if(!Et)throw new Error("animation not registered");return Et(je)},_register:Ue=>{Be.indexOf(Ue)<0&&(Ue.disabled||we(Ue),Be.push(Ue))},_unregister:Ue=>{const je=Be.indexOf(Ue);je>-1&&Be.splice(je,1)},_setOpen:rt,_setActiveMenu:we}})()},3457:(an,lt,L)=>{"use strict";L.d(lt,{w:()=>y});const y=typeof window<"u"?window:void 0},1898:(an,lt,L)=>{"use strict";L.r(lt),L.d(lt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>Fe});var y=L(4349);const g=(Be,$e,Ye,nt)=>{const Pe=q(Be)?{capture:!!nt.capture,passive:!!nt.passive}:!!nt.capture;let Ce,ce;return Be.__zone_symbol__addEventListener?(Ce="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(Ce="addEventListener",ce="removeEventListener"),Be[Ce]($e,Ye,Pe),()=>{Be[ce]($e,Ye,Pe)}},q=Be=>{if(void 0===oe)try{const $e=Object.defineProperty({},"passive",{get:()=>{oe=!0}});Be.addEventListener("optsTest",()=>{},$e)}catch{oe=!1}return!!oe};let oe;const De=Be=>Be instanceof Document?Be:Be.ownerDocument,Fe=Be=>{let $e=!1,Ye=!1,nt=!0,Pe=!1;const Ce=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Be),ce=Ce.canStart,Q=Ce.onWillStart,He=Ce.onStart,Me=Ce.onEnd,Qe=Ce.notCaptured,mt=Ce.onMove,We=Ce.threshold,ne=Ce.passive,qe=Ce.blurOnStart,we={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},rt=((Be,$e,Ye)=>{const nt=Ye*(Math.PI/180),Pe="x"===Be,Ce=Math.cos(nt),ce=$e*$e;let Q=0,He=0,Me=!1,Qe=0;return{start(mt,We){Q=mt,He=We,Qe=0,Me=!0},detect(mt,We){if(!Me)return!1;const ne=mt-Q,qe=We-He,we=ne*ne+qe*qe;if(we<ce)return!1;const rt=Math.sqrt(we),bt=(Pe?ne:qe)/rt;return Qe=bt>Ce?1:bt<-Ce?-1:0,Me=!1,!0},isGesture:()=>0!==Qe,getDirection:()=>Qe}})(Ce.direction,Ce.threshold,Ce.maxAngle),bt=y.G.createGesture({name:Be.gestureName,priority:Be.gesturePriority,disableScroll:Be.disableScroll}),Dt=()=>{$e&&(Pe=!1,mt&&mt(we))},_t=()=>!!bt.capture()&&($e=!0,nt=!1,we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime,Q?Q(we).then(Ue):Ue(),!0),Ue=()=>{qe&&(()=>{if(typeof document<"u"){const Ut=document.activeElement;null!=Ut&&Ut.blur&&Ut.blur()}})(),He&&He(we),nt=!0},je=()=>{$e=!1,Ye=!1,Pe=!1,nt=!0,bt.release()},Et=Ut=>{const vn=$e,St=nt;if(je(),St){if(Te(we,Ut),vn)return void(Me&&Me(we));Qe&&Qe(we)}},yt=((Be,$e,Ye,nt,Pe)=>{let Ce,ce,Q,He,Me,Qe,mt,We=0;const ne=ze=>{We=Date.now()+2e3,$e(ze)&&(!ce&&Ye&&(ce=g(Be,"touchmove",Ye,Pe)),Q||(Q=g(ze.target,"touchend",we,Pe)),He||(He=g(ze.target,"touchcancel",we,Pe)))},qe=ze=>{We>Date.now()||$e(ze)&&(!Qe&&Ye&&(Qe=g(De(Be),"mousemove",Ye,Pe)),mt||(mt=g(De(Be),"mouseup",rt,Pe)))},we=ze=>{bt(),nt&&nt(ze)},rt=ze=>{Ke(),nt&&nt(ze)},bt=()=>{ce&&ce(),Q&&Q(),He&&He(),ce=Q=He=void 0},Ke=()=>{Qe&&Qe(),mt&&mt(),Qe=mt=void 0},dt=()=>{bt(),Ke()},Dt=(ze=!0)=>{ze?(Ce||(Ce=g(Be,"touchstart",ne,Pe)),Me||(Me=g(Be,"mousedown",qe,Pe))):(Ce&&Ce(),Me&&Me(),Ce=Me=void 0,dt())};return{enable:Dt,stop:dt,destroy:()=>{Dt(!1),nt=Ye=$e=void 0}}})(Ce.el,Ut=>{const vn=Se(Ut);return!(Ye||!nt||(me(Ut,we),we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime=vn,we.velocityX=we.velocityY=we.deltaX=we.deltaY=0,we.event=Ut,ce&&!1===ce(we))||(bt.release(),!bt.start()))&&(Ye=!0,0===We?_t():(rt.start(we.startX,we.startY),!0))},Ut=>{$e?!Pe&&nt&&(Pe=!0,Te(we,Ut),requestAnimationFrame(Dt)):(Te(we,Ut),rt.detect(we.currentX,we.currentY)&&(!rt.isGesture()||!_t())&&Tt())},Et,{capture:!1,passive:ne}),Tt=()=>{je(),yt.stop(),Qe&&Qe(we)};return{enable(Ut=!0){Ut||($e&&Et(void 0),je()),yt.enable(Ut)},destroy(){bt.destroy(),yt.destroy()}}},Te=(Be,$e)=>{if(!$e)return;const Ye=Be.currentX,nt=Be.currentY,Pe=Be.currentTime;me($e,Be);const Ce=Be.currentX,ce=Be.currentY,He=(Be.currentTime=Se($e))-Pe;if(He>0&&He<100){const Qe=(ce-nt)/He;Be.velocityX=(Ce-Ye)/He*.7+.3*Be.velocityX,Be.velocityY=.7*Qe+.3*Be.velocityY}Be.deltaX=Ce-Be.startX,Be.deltaY=ce-Be.startY,Be.event=$e},me=(Be,$e)=>{let Ye=0,nt=0;if(Be){const Pe=Be.changedTouches;if(Pe&&Pe.length>0){const Ce=Pe[0];Ye=Ce.clientX,nt=Ce.clientY}else void 0!==Be.pageX&&(Ye=Be.pageX,nt=Be.pageY)}$e.currentX=Ye,$e.currentY=nt},Se=Be=>Be.timeStamp||Date.now()},9816:(an,lt,L)=>{"use strict";L.d(lt,{B:()=>me,H:()=>dt,a:()=>ms,b:()=>Ie,c:()=>Ut,d:()=>At,e:()=>gi,f:()=>ct,g:()=>vn,h:()=>bt,i:()=>En,j:()=>Se,p:()=>xi,r:()=>Pi,w:()=>Nr});var y=L(5861);let q,oe,Re,xe=!1,De=!1,ye=!1,Fe=!1,Te=!1;const me={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Se=ue=>{const Ae=new URL(ue,vr.$resourcesUrl$);return Ae.origin!==Vr.location.origin?Ae.href:Ae.pathname},ce="s-id",Q="sty-id",Qe="http://www.w3.org/1999/xlink",mt={},we=ue=>"object"==(ue=typeof ue)||"function"===ue;function rt(ue){var Ae,tt,be;return null!==(be=null===(tt=null===(Ae=ue.head)||void 0===Ae?void 0:Ae.querySelector('meta[name="csp-nonce"]'))||void 0===tt?void 0:tt.getAttribute("content"))&&void 0!==be?be:void 0}const bt=(ue,Ae,...tt)=>{let be=null,it=null,ot=null,Rt=!1,$t=!1;const zt=[],qt=Yn=>{for(let ir=0;ir<Yn.length;ir++)be=Yn[ir],Array.isArray(be)?qt(be):null!=be&&"boolean"!=typeof be&&((Rt="function"!=typeof ue&&!we(be))&&(be=String(be)),Rt&&$t?zt[zt.length-1].$text$+=be:zt.push(Rt?Ke(null,be):be),$t=Rt)};if(qt(tt),Ae){Ae.key&&(it=Ae.key),Ae.name&&(ot=Ae.name);{const Yn=Ae.className||Ae.class;Yn&&(Ae.class="object"!=typeof Yn?Yn:Object.keys(Yn).filter(ir=>Yn[ir]).join(" "))}}if("function"==typeof ue)return ue(null===Ae?{}:Ae,zt,_t);const pn=Ke(ue,null);return pn.$attrs$=Ae,zt.length>0&&(pn.$children$=zt),pn.$key$=it,pn.$name$=ot,pn},Ke=(ue,Ae)=>({$flags$:0,$tag$:ue,$text$:Ae,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),dt={},_t={forEach:(ue,Ae)=>ue.map(ze).forEach(Ae),map:(ue,Ae)=>ue.map(ze).map(Ae).map(Ue)},ze=ue=>({vattrs:ue.$attrs$,vchildren:ue.$children$,vkey:ue.$key$,vname:ue.$name$,vtag:ue.$tag$,vtext:ue.$text$}),Ue=ue=>{if("function"==typeof ue.vtag){const tt=Object.assign({},ue.vattrs);return ue.vkey&&(tt.key=ue.vkey),ue.vname&&(tt.name=ue.vname),bt(ue.vtag,tt,...ue.vchildren||[])}const Ae=Ke(ue.vtag,ue.vtext);return Ae.$attrs$=ue.vattrs,Ae.$children$=ue.vchildren,Ae.$key$=ue.vkey,Ae.$name$=ue.vname,Ae},Et=(ue,Ae,tt,be,it,ot,Rt)=>{let $t,zt,qt,pn;if(1===ot.nodeType){for($t=ot.getAttribute("c-id"),$t&&(zt=$t.split("."),(zt[0]===Rt||"0"===zt[0])&&(qt={$flags$:0,$hostId$:zt[0],$nodeId$:zt[1],$depth$:zt[2],$index$:zt[3],$tag$:ot.tagName.toLowerCase(),$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ae.push(qt),ot.removeAttribute("c-id"),ue.$children$||(ue.$children$=[]),ue.$children$[qt.$index$]=qt,ue=qt,be&&"0"===qt.$depth$&&(be[qt.$index$]=qt.$elm$))),pn=ot.childNodes.length-1;pn>=0;pn--)Et(ue,Ae,tt,be,it,ot.childNodes[pn],Rt);if(ot.shadowRoot)for(pn=ot.shadowRoot.childNodes.length-1;pn>=0;pn--)Et(ue,Ae,tt,be,it,ot.shadowRoot.childNodes[pn],Rt)}else if(8===ot.nodeType)zt=ot.nodeValue.split("."),(zt[1]===Rt||"0"===zt[1])&&($t=zt[0],qt={$flags$:0,$hostId$:zt[1],$nodeId$:zt[2],$depth$:zt[3],$index$:zt[4],$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===$t?(qt.$elm$=ot.nextSibling,qt.$elm$&&3===qt.$elm$.nodeType&&(qt.$text$=qt.$elm$.textContent,Ae.push(qt),ot.remove(),ue.$children$||(ue.$children$=[]),ue.$children$[qt.$index$]=qt,be&&"0"===qt.$depth$&&(be[qt.$index$]=qt.$elm$))):qt.$hostId$===Rt&&("s"===$t?(qt.$tag$="slot",ot["s-sn"]=zt[5]?qt.$name$=zt[5]:"",ot["s-sr"]=!0,be&&(qt.$elm$=br.createElement(qt.$tag$),qt.$name$&&qt.$elm$.setAttribute("name",qt.$name$),ot.parentNode.insertBefore(qt.$elm$,ot),ot.remove(),"0"===qt.$depth$&&(be[qt.$index$]=qt.$elm$)),tt.push(qt),ue.$children$||(ue.$children$=[]),ue.$children$[qt.$index$]=qt):"r"===$t&&(be?ot.remove():(it["s-cr"]=ot,ot["s-cn"]=!0))));else if(ue&&"style"===ue.$tag$){const Yn=Ke(null,ot.textContent);Yn.$elm$=ot,Yn.$index$="0",ue.$children$=[Yn]}},yt=(ue,Ae)=>{if(1===ue.nodeType){let tt=0;for(;tt<ue.childNodes.length;tt++)yt(ue.childNodes[tt],Ae);if(ue.shadowRoot)for(tt=0;tt<ue.shadowRoot.childNodes.length;tt++)yt(ue.shadowRoot.childNodes[tt],Ae)}else if(8===ue.nodeType){const tt=ue.nodeValue.split(".");"o"===tt[0]&&(Ae.set(tt[1]+"."+tt[2],ue),ue.nodeValue="",ue["s-en"]=tt[3])}},Ut=ue=>Lr.push(ue),vn=ue=>di(ue).$modeName$,ct=ue=>di(ue).$hostElement$,At=(ue,Ae,tt)=>{const be=ct(ue);return{emit:it=>Jt(be,Ae,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:it})}},Jt=(ue,Ae,tt)=>{const be=vr.ce(Ae,tt);return ue.dispatchEvent(be),be},bn=new WeakMap,Fn=(ue,Ae,tt)=>{let be=Xn.get(ue);Oi&&tt?(be=be||new CSSStyleSheet,"string"==typeof be?be=Ae:be.replaceSync(Ae)):be=Ae,Xn.set(ue,be)},hn=(ue,Ae,tt,be)=>{var it;let ot=In(Ae,tt);const Rt=Xn.get(ot);if(ue=11===ue.nodeType?ue:br,Rt)if("string"==typeof Rt){let zt,$t=bn.get(ue=ue.head||ue);if($t||bn.set(ue,$t=new Set),!$t.has(ot)){if(ue.host&&(zt=ue.querySelector(`[${Q}="${ot}"]`)))zt.innerHTML=Rt;else{zt=br.createElement("style"),zt.innerHTML=Rt;const qt=null!==(it=vr.$nonce$)&&void 0!==it?it:rt(br);null!=qt&&zt.setAttribute("nonce",qt),ue.insertBefore(zt,ue.querySelector("link"))}$t&&$t.add(ot)}}else ue.adoptedStyleSheets.includes(Rt)||(ue.adoptedStyleSheets=[...ue.adoptedStyleSheets,Rt]);return ot},In=(ue,Ae)=>"sc-"+(Ae&&32&ue.$flags$?ue.$tagName$+"-"+Ae:ue.$tagName$),jt=ue=>ue.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Or=(ue,Ae,tt,be,it,ot)=>{if(tt!==be){let Rt=Li(ue,Ae),$t=Ae.toLowerCase();if("class"===Ae){const zt=ue.classList,qt=dn(tt),pn=dn(be);zt.remove(...qt.filter(Yn=>Yn&&!pn.includes(Yn))),zt.add(...pn.filter(Yn=>Yn&&!qt.includes(Yn)))}else if("style"===Ae){for(const zt in tt)(!be||null==be[zt])&&(zt.includes("-")?ue.style.removeProperty(zt):ue.style[zt]="");for(const zt in be)(!tt||be[zt]!==tt[zt])&&(zt.includes("-")?ue.style.setProperty(zt,be[zt]):ue.style[zt]=be[zt])}else if("key"!==Ae)if("ref"===Ae)be&&be(ue);else if(Rt||"o"!==Ae[0]||"n"!==Ae[1]){const zt=we(be);if((Rt||zt&&null!==be)&&!it)try{if(ue.tagName.includes("-"))ue[Ae]=be;else{const pn=null==be?"":be;"list"===Ae?Rt=!1:(null==tt||ue[Ae]!=pn)&&(ue[Ae]=pn)}}catch{}let qt=!1;$t!==($t=$t.replace(/^xlink\:?/,""))&&(Ae=$t,qt=!0),null==be||!1===be?(!1!==be||""===ue.getAttribute(Ae))&&(qt?ue.removeAttributeNS(Qe,Ae):ue.removeAttribute(Ae)):(!Rt||4&ot||it)&&!zt&&(be=!0===be?"":be,qt?ue.setAttributeNS(Qe,Ae,be):ue.setAttribute(Ae,be))}else Ae="-"===Ae[2]?Ae.slice(3):Li(Vr,$t)?$t.slice(2):$t[2]+Ae.slice(3),tt&&vr.rel(ue,Ae,tt,!1),be&&vr.ael(ue,Ae,be,!1)}},jn=/\s/,dn=ue=>ue?ue.split(jn):[],ar=(ue,Ae,tt,be)=>{const it=11===Ae.$elm$.nodeType&&Ae.$elm$.host?Ae.$elm$.host:Ae.$elm$,ot=ue&&ue.$attrs$||mt,Rt=Ae.$attrs$||mt;for(be in ot)be in Rt||Or(it,be,ot[be],void 0,tt,Ae.$flags$);for(be in Rt)Or(it,be,ot[be],Rt[be],tt,Ae.$flags$)},Zr=(ue,Ae,tt,be)=>{const it=Ae.$children$[tt];let Rt,$t,zt,ot=0;if(xe||(ye=!0,"slot"===it.$tag$&&(q&&be.classList.add(q+"-s"),it.$flags$|=it.$children$?2:1)),null!==it.$text$)Rt=it.$elm$=br.createTextNode(it.$text$);else if(1&it.$flags$)Rt=it.$elm$=br.createTextNode("");else{if(Fe||(Fe="svg"===it.$tag$),Rt=it.$elm$=br.createElementNS(Fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&it.$flags$?"slot-fb":it.$tag$),Fe&&"foreignObject"===it.$tag$&&(Fe=!1),ar(null,it,Fe),(ue=>null!=ue)(q)&&Rt["s-si"]!==q&&Rt.classList.add(Rt["s-si"]=q),it.$children$)for(ot=0;ot<it.$children$.length;++ot)$t=Zr(ue,it,ot,Rt),$t&&Rt.appendChild($t);"svg"===it.$tag$?Fe=!1:"foreignObject"===Rt.tagName&&(Fe=!0)}return Rt["s-hn"]=Re,3&it.$flags$&&(Rt["s-sr"]=!0,Rt["s-cr"]=oe,Rt["s-sn"]=it.$name$||"",zt=ue&&ue.$children$&&ue.$children$[tt],zt&&zt.$tag$===it.$tag$&&ue.$elm$&&Er(ue.$elm$,!1)),Rt},Er=(ue,Ae)=>{vr.$flags$|=1;const tt=ue.childNodes;for(let be=tt.length-1;be>=0;be--){const it=tt[be];it["s-hn"]!==Re&&it["s-ol"]&&(sn(it).insertBefore(it,Cn(it)),it["s-ol"].remove(),it["s-ol"]=void 0,ye=!0),Ae&&Er(it,Ae)}vr.$flags$&=-2},Ci=(ue,Ae,tt,be,it,ot)=>{let $t,Rt=ue["s-cr"]&&ue["s-cr"].parentNode||ue;for(Rt.shadowRoot&&Rt.tagName===Re&&(Rt=Rt.shadowRoot);it<=ot;++it)be[it]&&($t=Zr(null,tt,it,ue),$t&&(be[it].$elm$=$t,Rt.insertBefore($t,Cn(Ae))))},zr=(ue,Ae,tt,be,it)=>{for(;Ae<=tt;++Ae)(be=ue[Ae])&&(it=be.$elm$,Ri(be),De=!0,it["s-ol"]?it["s-ol"].remove():Er(it,!0),it.remove())},hr=(ue,Ae)=>ue.$tag$===Ae.$tag$&&("slot"===ue.$tag$?ue.$name$===Ae.$name$:ue.$key$===Ae.$key$),Cn=ue=>ue&&ue["s-ol"]||ue,sn=ue=>(ue["s-ol"]?ue["s-ol"]:ue).parentNode,xr=(ue,Ae)=>{const tt=Ae.$elm$=ue.$elm$,be=ue.$children$,it=Ae.$children$,ot=Ae.$tag$,Rt=Ae.$text$;let $t;null===Rt?(Fe="svg"===ot||"foreignObject"!==ot&&Fe,"slot"===ot||ar(ue,Ae,Fe),null!==be&&null!==it?((ue,Ae,tt,be)=>{let at,wt,it=0,ot=0,Rt=0,$t=0,zt=Ae.length-1,qt=Ae[0],pn=Ae[zt],Yn=be.length-1,ir=be[0],Ze=be[Yn];for(;it<=zt&&ot<=Yn;)if(null==qt)qt=Ae[++it];else if(null==pn)pn=Ae[--zt];else if(null==ir)ir=be[++ot];else if(null==Ze)Ze=be[--Yn];else if(hr(qt,ir))xr(qt,ir),qt=Ae[++it],ir=be[++ot];else if(hr(pn,Ze))xr(pn,Ze),pn=Ae[--zt],Ze=be[--Yn];else if(hr(qt,Ze))("slot"===qt.$tag$||"slot"===Ze.$tag$)&&Er(qt.$elm$.parentNode,!1),xr(qt,Ze),ue.insertBefore(qt.$elm$,pn.$elm$.nextSibling),qt=Ae[++it],Ze=be[--Yn];else if(hr(pn,ir))("slot"===qt.$tag$||"slot"===Ze.$tag$)&&Er(pn.$elm$.parentNode,!1),xr(pn,ir),ue.insertBefore(pn.$elm$,qt.$elm$),pn=Ae[--zt],ir=be[++ot];else{for(Rt=-1,$t=it;$t<=zt;++$t)if(Ae[$t]&&null!==Ae[$t].$key$&&Ae[$t].$key$===ir.$key$){Rt=$t;break}Rt>=0?(wt=Ae[Rt],wt.$tag$!==ir.$tag$?at=Zr(Ae&&Ae[ot],tt,Rt,ue):(xr(wt,ir),Ae[Rt]=void 0,at=wt.$elm$),ir=be[++ot]):(at=Zr(Ae&&Ae[ot],tt,ot,ue),ir=be[++ot]),at&&sn(qt.$elm$).insertBefore(at,Cn(qt.$elm$))}it>zt?Ci(ue,null==be[Yn+1]?null:be[Yn+1].$elm$,tt,be,ot,Yn):ot>Yn&&zr(Ae,it,zt)})(tt,be,Ae,it):null!==it?(null!==ue.$text$&&(tt.textContent=""),Ci(tt,null,Ae,it,0,it.length-1)):null!==be&&zr(be,0,be.length-1),Fe&&"svg"===ot&&(Fe=!1)):($t=tt["s-cr"])?$t.parentNode.textContent=Rt:ue.$text$!==Rt&&(tt.data=Rt)},Wr=ue=>{const Ae=ue.childNodes;let tt,be,it,ot,Rt,$t;for(be=0,it=Ae.length;be<it;be++)if(tt=Ae[be],1===tt.nodeType){if(tt["s-sr"])for(Rt=tt["s-sn"],tt.hidden=!1,ot=0;ot<it;ot++)if($t=Ae[ot].nodeType,Ae[ot]["s-hn"]!==tt["s-hn"]||""!==Rt){if(1===$t&&Rt===Ae[ot].getAttribute("slot")){tt.hidden=!0;break}}else if(1===$t||3===$t&&""!==Ae[ot].textContent.trim()){tt.hidden=!0;break}Wr(tt)}},dr=[],ii=ue=>{let Ae,tt,be,it,ot,Rt,$t=0;const zt=ue.childNodes,qt=zt.length;for(;$t<qt;$t++){if(Ae=zt[$t],Ae["s-sr"]&&(tt=Ae["s-cr"])&&tt.parentNode)for(be=tt.parentNode.childNodes,it=Ae["s-sn"],Rt=be.length-1;Rt>=0;Rt--)tt=be[Rt],!tt["s-cn"]&&!tt["s-nr"]&&tt["s-hn"]!==Ae["s-hn"]&&(Kr(tt,it)?(ot=dr.find(pn=>pn.$nodeToRelocate$===tt),De=!0,tt["s-sn"]=tt["s-sn"]||it,ot?ot.$slotRefNode$=Ae:dr.push({$slotRefNode$:Ae,$nodeToRelocate$:tt}),tt["s-sr"]&&dr.map(pn=>{Kr(pn.$nodeToRelocate$,tt["s-sn"])&&(ot=dr.find(Yn=>Yn.$nodeToRelocate$===tt),ot&&!pn.$slotRefNode$&&(pn.$slotRefNode$=ot.$slotRefNode$))})):dr.some(pn=>pn.$nodeToRelocate$===tt)||dr.push({$nodeToRelocate$:tt}));1===Ae.nodeType&&ii(Ae)}},Kr=(ue,Ae)=>1===ue.nodeType?null===ue.getAttribute("slot")&&""===Ae||ue.getAttribute("slot")===Ae:ue["s-sn"]===Ae||""===Ae,Ri=ue=>{ue.$attrs$&&ue.$attrs$.ref&&ue.$attrs$.ref(null),ue.$children$&&ue.$children$.map(Ri)},Qr=(ue,Ae)=>{Ae&&!ue.$onRenderResolve$&&Ae["s-p"]&&Ae["s-p"].push(new Promise(tt=>ue.$onRenderResolve$=tt))},rr=(ue,Ae)=>{if(ue.$flags$|=16,!(4&ue.$flags$))return Qr(ue,ue.$ancestorComponent$),Nr(()=>Ii(ue,Ae));ue.$flags$|=512},Ii=(ue,Ae)=>{const be=ue.$lazyInstance$;let it;return Ae&&(ue.$flags$|=256,ue.$queuedListeners$&&(ue.$queuedListeners$.map(([ot,Rt])=>Gn(be,ot,Rt)),ue.$queuedListeners$=null),it=Gn(be,"componentWillLoad")),it=fr(it,()=>Gn(be,"componentWillRender")),fr(it,()=>Jn(ue,be,Ae))},Jn=function(){var ue=(0,y.Z)(function*(Ae,tt,be){const it=Ae.$hostElement$,Rt=it["s-rc"];be&&(ue=>{const Ae=ue.$cmpMeta$,tt=ue.$hostElement$,be=Ae.$flags$,ot=hn(tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),Ae,ue.$modeName$);10&be&&(tt["s-sc"]=ot,tt.classList.add(ot+"-h"),2&be&&tt.classList.add(ot+"-s"))})(Ae);ln(Ae,tt),Rt&&(Rt.map(zt=>zt()),it["s-rc"]=void 0);{const zt=it["s-p"],qt=()=>Ht(Ae);0===zt.length?qt():(Promise.all(zt).then(qt),Ae.$flags$|=4,zt.length=0)}});return function(tt,be,it){return ue.apply(this,arguments)}}(),ln=(ue,Ae,tt)=>{try{Ae=Ae.render&&Ae.render(),ue.$flags$&=-17,ue.$flags$|=2,((ue,Ae)=>{const tt=ue.$hostElement$,be=ue.$cmpMeta$,it=ue.$vnode$||Ke(null,null),ot=(ue=>ue&&ue.$tag$===dt)(Ae)?Ae:bt(null,null,Ae);if(Re=tt.tagName,be.$attrsToReflect$&&(ot.$attrs$=ot.$attrs$||{},be.$attrsToReflect$.map(([Rt,$t])=>ot.$attrs$[$t]=tt[Rt])),ot.$tag$=null,ot.$flags$|=4,ue.$vnode$=ot,ot.$elm$=it.$elm$=tt.shadowRoot||tt,q=tt["s-sc"],oe=tt["s-cr"],xe=0!=(1&be.$flags$),De=!1,xr(it,ot),vr.$flags$|=1,ye){ii(ot.$elm$);let Rt,$t,zt,qt,pn,Yn,ir=0;for(;ir<dr.length;ir++)Rt=dr[ir],$t=Rt.$nodeToRelocate$,$t["s-ol"]||(zt=br.createTextNode(""),zt["s-nr"]=$t,$t.parentNode.insertBefore($t["s-ol"]=zt,$t));for(ir=0;ir<dr.length;ir++)if(Rt=dr[ir],$t=Rt.$nodeToRelocate$,Rt.$slotRefNode$){for(qt=Rt.$slotRefNode$.parentNode,pn=Rt.$slotRefNode$.nextSibling,zt=$t["s-ol"];zt=zt.previousSibling;)if(Yn=zt["s-nr"],Yn&&Yn["s-sn"]===$t["s-sn"]&&qt===Yn.parentNode&&(Yn=Yn.nextSibling,!Yn||!Yn["s-nr"])){pn=Yn;break}(!pn&&qt!==$t.parentNode||$t.nextSibling!==pn)&&$t!==pn&&(!$t["s-hn"]&&$t["s-ol"]&&($t["s-hn"]=$t["s-ol"].parentNode.nodeName),qt.insertBefore($t,pn))}else 1===$t.nodeType&&($t.hidden=!0)}De&&Wr(ot.$elm$),vr.$flags$&=-2,dr.length=0})(ue,Ae)}catch(be){Bi(be,ue.$hostElement$)}return null},Ht=ue=>{const tt=ue.$hostElement$,it=ue.$lazyInstance$,ot=ue.$ancestorComponent$;Gn(it,"componentDidRender"),64&ue.$flags$?Gn(it,"componentDidUpdate"):(ue.$flags$|=64,Ar(tt),Gn(it,"componentDidLoad"),ue.$onReadyResolve$(tt),ot||Vn()),ue.$onInstanceResolve$(tt),ue.$onRenderResolve$&&(ue.$onRenderResolve$(),ue.$onRenderResolve$=void 0),512&ue.$flags$&&qr(()=>rr(ue,!1)),ue.$flags$&=-517},En=ue=>{{const Ae=di(ue),tt=Ae.$hostElement$.isConnected;return tt&&2==(18&Ae.$flags$)&&rr(Ae,!1),tt}},Vn=ue=>{Ar(br.documentElement),qr(()=>Jt(Vr,"appload",{detail:{namespace:"ionic"}}))},Gn=(ue,Ae,tt)=>{if(ue&&ue[Ae])try{return ue[Ae](tt)}catch(be){Bi(be)}},fr=(ue,Ae)=>ue&&ue.then?ue.then(Ae):Ae(),Ar=ue=>ue.classList.add("hydrated"),he=(ue,Ae,tt)=>{if(Ae.$members$){ue.watchers&&(Ae.$watchers$=ue.watchers);const be=Object.entries(Ae.$members$),it=ue.prototype;if(be.map(([ot,[Rt]])=>{31&Rt||2&tt&&32&Rt?Object.defineProperty(it,ot,{get(){return((ue,Ae)=>di(this).$instanceValues$.get(Ae))(0,ot)},set($t){((ue,Ae,tt,be)=>{const it=di(ue),ot=it.$hostElement$,Rt=it.$instanceValues$.get(Ae),$t=it.$flags$,zt=it.$lazyInstance$;tt=((ue,Ae)=>null==ue||we(ue)?ue:4&Ae?"false"!==ue&&(""===ue||!!ue):2&Ae?parseFloat(ue):1&Ae?String(ue):ue)(tt,be.$members$[Ae][0]);const qt=Number.isNaN(Rt)&&Number.isNaN(tt);if((!(8&$t)||void 0===Rt)&&tt!==Rt&&!qt&&(it.$instanceValues$.set(Ae,tt),zt)){if(be.$watchers$&&128&$t){const Yn=be.$watchers$[Ae];Yn&&Yn.map(ir=>{try{zt[ir](tt,Rt,Ae)}catch(Ze){Bi(Ze,ot)}})}2==(18&$t)&&rr(it,!1)}})(this,ot,$t,Ae)},configurable:!0,enumerable:!0}):1&tt&&64&Rt&&Object.defineProperty(it,ot,{value(...$t){const zt=di(this);return zt.$onInstancePromise$.then(()=>zt.$lazyInstance$[ot](...$t))}})}),1&tt){const ot=new Map;it.attributeChangedCallback=function(Rt,$t,zt){vr.jmp(()=>{const qt=ot.get(Rt);if(this.hasOwnProperty(qt))zt=this[qt],delete this[qt];else if(it.hasOwnProperty(qt)&&"number"==typeof this[qt]&&this[qt]==zt)return;this[qt]=(null!==zt||"boolean"!=typeof this[qt])&&zt})},ue.observedAttributes=be.filter(([Rt,$t])=>15&$t[0]).map(([Rt,$t])=>{const zt=$t[1]||Rt;return ot.set(zt,Rt),512&$t[0]&&Ae.$attrsToReflect$.push([Rt,zt]),zt})}}return ue},ge=function(){var ue=(0,y.Z)(function*(Ae,tt,be,it,ot){if(!(32&tt.$flags$)){{if(tt.$flags$|=32,(ot=gs(be)).then){const qt=()=>{};ot=yield ot,qt()}ot.isProxied||(be.$watchers$=ot.watchers,he(ot,be,2),ot.isProxied=!0);const zt=()=>{};tt.$flags$|=8;try{new ot(tt)}catch(qt){Bi(qt)}tt.$flags$&=-9,tt.$flags$|=128,zt(),de(tt.$lazyInstance$)}if(ot.style){let zt=ot.style;"string"!=typeof zt&&(zt=zt[tt.$modeName$=(ue=>Lr.map(Ae=>Ae(ue)).find(Ae=>!!Ae))(Ae)]);const qt=In(be,tt.$modeName$);if(!Xn.has(qt)){const pn=()=>{};Fn(qt,zt,!!(1&be.$flags$)),pn()}}}const Rt=tt.$ancestorComponent$,$t=()=>rr(tt,!0);Rt&&Rt["s-rc"]?Rt["s-rc"].push($t):$t()});return function(tt,be,it,ot,Rt){return ue.apply(this,arguments)}}(),de=ue=>{Gn(ue,"connectedCallback")},Oe=ue=>{const Ae=ue["s-cr"]=br.createComment("");Ae["s-cn"]=!0,ue.insertBefore(Ae,ue.firstChild)},Ie=(ue,Ae={})=>{var tt;const it=[],ot=Ae.exclude||[],Rt=Vr.customElements,$t=br.head,zt=$t.querySelector("meta[charset]"),qt=br.createElement("style"),pn=[],Yn=br.querySelectorAll(`[${Q}]`);let ir,Ze=!0,at=0;for(Object.assign(vr,Ae),vr.$resourcesUrl$=new URL(Ae.resourcesUrl||"./",br.baseURI).href,vr.$flags$|=2;at<Yn.length;at++)Fn(Yn[at].getAttribute(Q),jt(Yn[at].innerHTML),!0);ue.map(wt=>{wt[1].map(Wt=>{const on={$flags$:Wt[0],$tagName$:Wt[1],$members$:Wt[2],$listeners$:Wt[3]};on.$members$=Wt[2],on.$listeners$=Wt[3],on.$attrsToReflect$=[],on.$watchers$={};const Ln=on.$tagName$,er=class extends HTMLElement{constructor(sr){super(sr),ji(sr=this,on),1&on.$flags$&&sr.attachShadow({mode:"open",delegatesFocus:!!(16&on.$flags$)})}connectedCallback(){ir&&(clearTimeout(ir),ir=null),Ze?pn.push(this):vr.jmp(()=>(ue=>{if(!(1&vr.$flags$)){const Ae=di(ue),tt=Ae.$cmpMeta$,be=()=>{};if(1&Ae.$flags$)et(ue,Ae,tt.$listeners$),de(Ae.$lazyInstance$);else{let it;if(Ae.$flags$|=1,it=ue.getAttribute(ce),it){if(1&tt.$flags$){const ot=hn(ue.shadowRoot,tt,ue.getAttribute("s-mode"));ue.classList.remove(ot+"-h",ot+"-s")}((ue,Ae,tt,be)=>{const ot=ue.shadowRoot,Rt=[],zt=ot?[]:null,qt=be.$vnode$=Ke(Ae,null);vr.$orgLocNodes$||yt(br.body,vr.$orgLocNodes$=new Map),ue[ce]=tt,ue.removeAttribute(ce),Et(qt,Rt,[],zt,ue,ue,tt),Rt.map(pn=>{const Yn=pn.$hostId$+"."+pn.$nodeId$,ir=vr.$orgLocNodes$.get(Yn),Ze=pn.$elm$;ir&&Gr&&""===ir["s-en"]&&ir.parentNode.insertBefore(Ze,ir.nextSibling),ot||(Ze["s-hn"]=Ae,ir&&(Ze["s-ol"]=ir,Ze["s-ol"]["s-nr"]=Ze)),vr.$orgLocNodes$.delete(Yn)}),ot&&zt.map(pn=>{pn&&ot.appendChild(pn)})})(ue,tt.$tagName$,it,Ae)}it||12&tt.$flags$&&Oe(ue);{let ot=ue;for(;ot=ot.parentNode||ot.host;)if(1===ot.nodeType&&ot.hasAttribute("s-id")&&ot["s-p"]||ot["s-p"]){Qr(Ae,Ae.$ancestorComponent$=ot);break}}tt.$members$&&Object.entries(tt.$members$).map(([ot,[Rt]])=>{if(31&Rt&&ue.hasOwnProperty(ot)){const $t=ue[ot];delete ue[ot],ue[ot]=$t}}),ge(ue,Ae,tt)}be()}})(this))}disconnectedCallback(){vr.jmp(()=>(ue=>{if(!(1&vr.$flags$)){const Ae=di(this),tt=Ae.$lazyInstance$;Ae.$rmListeners$&&(Ae.$rmListeners$.map(be=>be()),Ae.$rmListeners$=void 0),Gn(tt,"disconnectedCallback")}})())}componentOnReady(){return di(this).$onReadyPromise$}};on.$lazyBundleId$=wt[0],!ot.includes(Ln)&&!Rt.get(Ln)&&(it.push(Ln),Rt.define(Ln,he(er,on,1)))})});{qt.innerHTML=it+"{visibility:hidden}.hydrated{visibility:inherit}",qt.setAttribute("data-styles","");const wt=null!==(tt=vr.$nonce$)&&void 0!==tt?tt:rt(br);null!=wt&&qt.setAttribute("nonce",wt),$t.insertBefore(qt,zt?zt.nextSibling:$t.firstChild)}Ze=!1,pn.length?pn.map(wt=>wt.connectedCallback()):vr.jmp(()=>ir=setTimeout(Vn,30))},et=(ue,Ae,tt,be)=>{tt&&tt.map(([it,ot,Rt])=>{const $t=Yt(ue,it),zt=Mt(Ae,Rt),qt=Pn(it);vr.ael($t,ot,zt,qt),(Ae.$rmListeners$=Ae.$rmListeners$||[]).push(()=>vr.rel($t,ot,zt,qt))})},Mt=(ue,Ae)=>tt=>{try{256&ue.$flags$?ue.$lazyInstance$[Ae](tt):(ue.$queuedListeners$=ue.$queuedListeners$||[]).push([Ae,tt])}catch(be){Bi(be)}},Yt=(ue,Ae)=>4&Ae?br:8&Ae?Vr:16&Ae?br.body:ue,Pn=ue=>0!=(2&ue),lr=new WeakMap,di=ue=>lr.get(ue),Pi=(ue,Ae)=>lr.set(Ae.$lazyInstance$=ue,Ae),ji=(ue,Ae)=>{const tt={$flags$:0,$hostElement$:ue,$cmpMeta$:Ae,$instanceValues$:new Map};return tt.$onInstancePromise$=new Promise(be=>tt.$onInstanceResolve$=be),tt.$onReadyPromise$=new Promise(be=>tt.$onReadyResolve$=be),ue["s-p"]=[],ue["s-rc"]=[],et(ue,tt,Ae.$listeners$),lr.set(ue,tt)},Li=(ue,Ae)=>Ae in ue,Bi=(ue,Ae)=>(0,console.error)(ue,Ae),ds=new Map,gs=(ue,Ae,tt)=>{const be=ue.$tagName$.replace(/-/g,"_"),it=ue.$lazyBundleId$,ot=ds.get(it);return ot?ot[be]:L(863)(`./${it}.entry.js`).then(Rt=>(ds.set(it,Rt),Rt[be]),Bi)},Xn=new Map,Lr=[],Vr=typeof window<"u"?window:{},br=Vr.document||{head:{}},vr={$flags$:0,$resourcesUrl$:"",jmp:ue=>ue(),raf:ue=>requestAnimationFrame(ue),ael:(ue,Ae,tt,be)=>ue.addEventListener(Ae,tt,be),rel:(ue,Ae,tt,be)=>ue.removeEventListener(Ae,tt,be),ce:(ue,Ae)=>new CustomEvent(ue,Ae)},ms=ue=>{Object.assign(vr,ue)},Gr=!0,xi=ue=>Promise.resolve(ue),Oi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),An=[],cr=[],pr=(ue,Ae)=>tt=>{ue.push(tt),Te||(Te=!0,Ae&&4&vr.$flags$?qr(ti):vr.raf(ti))},hi=ue=>{for(let Ae=0;Ae<ue.length;Ae++)try{ue[Ae](performance.now())}catch(tt){Bi(tt)}ue.length=0},ti=()=>{hi(An),hi(cr),(Te=An.length>0)&&vr.raf(ti)},qr=ue=>xi().then(ue),gi=pr(An,!1),Nr=pr(cr,!0)},1178:(an,lt,L)=>{"use strict";L.d(lt,{a:()=>g,b:()=>q,p:()=>y});const y=(oe,...Re)=>console.warn(`[Ionic Warning]: ${oe}`,...Re),g=(oe,...Re)=>console.error(`[Ionic Error]: ${oe}`,...Re),q=(oe,...Re)=>console.error(`<${oe.tagName.toLowerCase()}> must be used inside ${Re.join(" or ")}.`)},2998:(an,lt,L)=>{"use strict";L.d(lt,{L:()=>oe,a:()=>Re,b:()=>xe,c:()=>De,d:()=>ye,e:()=>mt,g:()=>qe,l:()=>Qe,s:()=>We,t:()=>me});var y=L(5861),g=L(9816),q=L(3577);const oe="ionViewWillEnter",Re="ionViewDidEnter",xe="ionViewWillLeave",De="ionViewDidLeave",ye="ionViewWillUnload",me=we=>new Promise((rt,bt)=>{(0,g.w)(()=>{Se(we),Be(we).then(Ke=>{Ke.animation&&Ke.animation.destroy(),$e(we),rt(Ke)},Ke=>{$e(we),bt(Ke)})})}),Se=we=>{const rt=we.enteringEl,bt=we.leavingEl;ne(rt,bt,we.direction),we.showGoBack?rt.classList.add("can-go-back"):rt.classList.remove("can-go-back"),We(rt,!1),rt.style.setProperty("pointer-events","none"),bt&&(We(bt,!1),bt.style.setProperty("pointer-events","none"))},Be=function(){var we=(0,y.Z)(function*(rt){const bt=yield Ye(rt);return bt&&g.B.isBrowser?nt(bt,rt):Pe(rt)});return function(bt){return we.apply(this,arguments)}}(),$e=we=>{const rt=we.enteringEl,bt=we.leavingEl;rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"),void 0!==bt&&(bt.classList.remove("ion-page-invisible"),bt.style.removeProperty("pointer-events"))},Ye=function(){var we=(0,y.Z)(function*(rt){return rt.leavingEl&&rt.animated&&0!==rt.duration?rt.animationBuilder?rt.animationBuilder:"ios"===rt.mode?(yield Promise.resolve().then(L.bind(L,5158))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3175))).mdTransitionAnimation:void 0});return function(bt){return we.apply(this,arguments)}}(),nt=function(){var we=(0,y.Z)(function*(rt,bt){yield Ce(bt,!0);const Ke=rt(bt.baseEl,bt);He(bt.enteringEl,bt.leavingEl);const dt=yield Q(Ke,bt);return bt.progressCallback&&bt.progressCallback(void 0),dt&&Me(bt.enteringEl,bt.leavingEl),{hasCompleted:dt,animation:Ke}});return function(bt,Ke){return we.apply(this,arguments)}}(),Pe=function(){var we=(0,y.Z)(function*(rt){const bt=rt.enteringEl,Ke=rt.leavingEl;return yield Ce(rt,!1),He(bt,Ke),Me(bt,Ke),{hasCompleted:!0}});return function(bt){return we.apply(this,arguments)}}(),Ce=function(){var we=(0,y.Z)(function*(rt,bt){(void 0!==rt.deepWait?rt.deepWait:bt)&&(yield Promise.all([mt(rt.enteringEl),mt(rt.leavingEl)])),yield ce(rt.viewIsReady,rt.enteringEl)});return function(bt,Ke){return we.apply(this,arguments)}}(),ce=function(){var we=(0,y.Z)(function*(rt,bt){rt&&(yield rt(bt))});return function(bt,Ke){return we.apply(this,arguments)}}(),Q=(we,rt)=>{const bt=rt.progressCallback,Ke=new Promise(dt=>{we.onFinish(Dt=>dt(1===Dt))});return bt?(we.progressStart(!0),bt(we)):we.play(),Ke},He=(we,rt)=>{Qe(rt,xe),Qe(we,oe)},Me=(we,rt)=>{Qe(we,Re),Qe(rt,De)},Qe=(we,rt)=>{if(we){const bt=new CustomEvent(rt,{bubbles:!1,cancelable:!1});we.dispatchEvent(bt)}},mt=function(){var we=(0,y.Z)(function*(rt){const bt=rt;if(bt){if(null!=bt.componentOnReady){if(null!=(yield bt.componentOnReady()))return}else if(null!=bt.__registerHost)return void(yield new Promise(dt=>(0,q.r)(dt)));yield Promise.all(Array.from(bt.children).map(mt))}});return function(bt){return we.apply(this,arguments)}}(),We=(we,rt)=>{rt?(we.setAttribute("aria-hidden","true"),we.classList.add("ion-page-hidden")):(we.hidden=!1,we.removeAttribute("aria-hidden"),we.classList.remove("ion-page-hidden"))},ne=(we,rt,bt)=>{void 0!==we&&(we.style.zIndex="back"===bt?"99":"101"),void 0!==rt&&(rt.style.zIndex="100")},qe=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},6406:(an,lt,L)=>{"use strict";L.d(lt,{a:()=>me,b:()=>Dt,c:()=>q,g:()=>Te,i:()=>_t});var y=L(9816);class g{constructor(){this.m=new Map}reset(Ue){this.m=new Map(Object.entries(Ue))}get(Ue,je){const Et=this.m.get(Ue);return void 0!==Et?Et:je}getBoolean(Ue,je=!1){const Et=this.m.get(Ue);return void 0===Et?je:"string"==typeof Et?"true"===Et:!!Et}getNumber(Ue,je){const Et=parseFloat(this.m.get(Ue));return isNaN(Et)?void 0!==je?je:NaN:Et}set(Ue,je){this.m.set(Ue,je)}}const q=new g,Fe="ionic-persist-config",Te=ze=>Se(ze),me=(ze,Ue)=>("string"==typeof ze&&(Ue=ze,ze=void 0),Te(ze).includes(Ue)),Se=(ze=window)=>{if(typeof ze>"u")return[];ze.Ionic=ze.Ionic||{};let Ue=ze.Ionic.platforms;return null==Ue&&(Ue=ze.Ionic.platforms=Be(ze),Ue.forEach(je=>ze.document.documentElement.classList.add(`plt-${je}`))),Ue},Be=ze=>{const Ue=q.get("platform");return Object.keys(Ke).filter(je=>{const Et=null==Ue?void 0:Ue[je];return"function"==typeof Et?Et(ze):Ke[je](ze)})},Ye=ze=>!!(rt(ze,/iPad/i)||rt(ze,/Macintosh/i)&&Me(ze)),Ce=ze=>rt(ze,/android|sink/i),Me=ze=>bt(ze,"(any-pointer:coarse)"),mt=ze=>We(ze)||ne(ze),We=ze=>!!(ze.cordova||ze.phonegap||ze.PhoneGap),ne=ze=>{const Ue=ze.Capacitor;return!(null==Ue||!Ue.isNative)},rt=(ze,Ue)=>Ue.test(ze.navigator.userAgent),bt=(ze,Ue)=>{var je;return null===(je=ze.matchMedia)||void 0===je?void 0:je.call(ze,Ue).matches},Ke={ipad:Ye,iphone:ze=>rt(ze,/iPhone/i),ios:ze=>rt(ze,/iPhone|iPod/i)||Ye(ze),android:Ce,phablet:ze=>{const Ue=ze.innerWidth,je=ze.innerHeight,Et=Math.min(Ue,je),yt=Math.max(Ue,je);return Et>390&&Et<520&&yt>620&&yt<800},tablet:ze=>{const Ue=ze.innerWidth,je=ze.innerHeight,Et=Math.min(Ue,je),yt=Math.max(Ue,je);return Ye(ze)||(ze=>Ce(ze)&&!rt(ze,/mobile/i))(ze)||Et>460&&Et<820&&yt>780&&yt<1400},cordova:We,capacitor:ne,electron:ze=>rt(ze,/electron/i),pwa:ze=>{var Ue;return!!(null!==(Ue=ze.matchMedia)&&void 0!==Ue&&Ue.call(ze,"(display-mode: standalone)").matches||ze.navigator.standalone)},mobile:Me,mobileweb:ze=>Me(ze)&&!mt(ze),desktop:ze=>!Me(ze),hybrid:mt};let dt;const Dt=ze=>ze&&(0,y.g)(ze)||dt,_t=(ze={})=>{if(typeof window>"u")return;const Ue=window.document,je=window,Et=je.Ionic=je.Ionic||{},yt={};ze._ael&&(yt.ael=ze._ael),ze._rel&&(yt.rel=ze._rel),ze._ce&&(yt.ce=ze._ce),(0,y.a)(yt);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ze=>{try{const Ue=ze.sessionStorage.getItem(Fe);return null!==Ue?JSON.parse(Ue):{}}catch{return{}}})(je)),{persistConfig:!1}),Et.config),(ze=>{const Ue={};return ze.location.search.slice(1).split("&").map(je=>je.split("=")).map(([je,Et])=>[decodeURIComponent(je),decodeURIComponent(Et)]).filter(([je])=>((ze,Ue)=>ze.substr(0,Ue.length)===Ue)(je,"ionic:")).map(([je,Et])=>[je.slice("ionic:".length),Et]).forEach(([je,Et])=>{Ue[je]=Et}),Ue})(je)),ze);q.reset(Tt),q.getBoolean("persistConfig")&&((ze,Ue)=>{try{ze.sessionStorage.setItem(Fe,JSON.stringify(Ue))}catch{return}})(je,Tt),Se(je),Et.config=q,Et.mode=dt=q.get("mode",Ue.documentElement.getAttribute("mode")||(me(je,"ios")?"ios":"md")),q.set("mode",dt),Ue.documentElement.setAttribute("mode",dt),Ue.documentElement.classList.add(dt),q.getBoolean("_testing")&&q.set("animated",!1);const Ut=St=>{var ct;return null===(ct=St.tagName)||void 0===ct?void 0:ct.startsWith("ION-")},vn=St=>["ios","md"].includes(St);(0,y.c)(St=>{for(;St;){const ct=St.mode||St.getAttribute("mode");if(ct){if(vn(ct))return ct;Ut(St)&&console.warn('Invalid ionic mode: "'+ct+'", expected: "ios" or "md"')}St=St.parentElement}return dt})}},5158:(an,lt,L)=>{"use strict";L.r(lt),L.d(lt,{iosTransitionAnimation:()=>Be,shadow:()=>De});var y=L(9613),g=L(2998);L(3457),L(9816);const xe=$e=>document.querySelector(`${$e}.ion-cloned-element`),De=$e=>$e.shadowRoot||$e,ye=$e=>{const Ye="ION-TABS"===$e.tagName?$e:$e.querySelector("ion-tabs"),nt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ye){const Pe=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Pe?Pe.querySelector(nt):null}return $e.querySelector(nt)},Fe=($e,Ye)=>{const nt="ION-TABS"===$e.tagName?$e:$e.querySelector("ion-tabs");let Pe=[];if(null!=nt){const Ce=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ce&&(Pe=Ce.querySelectorAll("ion-buttons"))}else Pe=$e.querySelectorAll("ion-buttons");for(const Ce of Pe){const ce=Ce.closest("ion-header"),Q=ce&&!ce.classList.contains("header-collapse-condense-inactive"),He=Ce.querySelector("ion-back-button"),Me=Ce.classList.contains("buttons-collapse");if(null!==He&&("start"===Ce.slot||""===Ce.slot)&&(Me&&Q&&Ye||!Me))return He}return null},me=($e,Ye,nt,Pe,Ce,ce)=>{const Q=Ye?`calc(100% - ${ce.right+4}px)`:ce.left-4+"px",He=Ye?"7px":"-7px",Me=Ye?"-4px":"4px",Qe=Ye?"-4px":"4px",mt=Ye?"right":"left",We=Ye?"left":"right",we=nt?[{offset:0,opacity:1,transform:`translate3d(${Me}, ${ce.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${He}, ${Ce.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${He}, ${Ce.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Me}, ${ce.top-46}px, 0) scale(1)`}],Ke=nt?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${ce.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Qe}, ${ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${ce.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${ce.top-46}px, 0) scale(1)`}],dt=(0,y.c)(),Dt=(0,y.c)(),_t=xe("ion-back-button"),ze=De(_t).querySelector(".button-text"),Ue=De(_t).querySelector("ion-icon");_t.text=Pe.text,_t.mode=Pe.mode,_t.icon=Pe.icon,_t.color=Pe.color,_t.disabled=Pe.disabled,_t.style.setProperty("display","block"),_t.style.setProperty("position","fixed"),Dt.addElement(Ue),dt.addElement(ze),dt.beforeStyles({"transform-origin":`${mt} center`}).beforeAddWrite(()=>{Pe.style.setProperty("display","none"),_t.style.setProperty(mt,Q)}).afterAddWrite(()=>{Pe.style.setProperty("display",""),_t.style.setProperty("display","none"),_t.style.removeProperty(mt)}).keyframes(we),Dt.beforeStyles({"transform-origin":`${We} center`}).keyframes(Ke),$e.addAnimation([dt,Dt])},Se=($e,Ye,nt,Pe,Ce,ce)=>{const Q=Ye?`calc(100% - ${Ce.right}px)`:`${Ce.left}px`,He=Ye?"-18px":"18px",Me=Ye?"right":"left",We=nt?[{offset:0,opacity:0,transform:`translate3d(${He}, ${ce.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ce.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ce.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${He}, ${ce.top-4}px, 0) scale(0.5)`}],ne=xe("ion-title"),qe=(0,y.c)();ne.innerText=Pe.innerText,ne.size=Pe.size,ne.color=Pe.color,qe.addElement(ne),qe.beforeStyles({"transform-origin":`${Me} center`,height:"46px",display:"",position:"relative",[Me]:Q}).beforeAddWrite(()=>{Pe.style.setProperty("display","none")}).afterAddWrite(()=>{Pe.style.setProperty("display",""),ne.style.setProperty("display","none")}).keyframes(We),$e.addAnimation(qe)},Be=($e,Ye)=>{var nt;try{const Pe="cubic-bezier(0.32,0.72,0,1)",Ce="opacity",ce="transform",Q="0%",Me="rtl"===$e.ownerDocument.dir,Qe=Me?"-99.5%":"99.5%",mt=Me?"33%":"-33%",We=Ye.enteringEl,ne=Ye.leavingEl,qe="back"===Ye.direction,we=We.querySelector(":scope > ion-content"),rt=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),bt=We.querySelectorAll(":scope > ion-header > ion-toolbar"),Ke=(0,y.c)(),dt=(0,y.c)();if(Ke.addElement(We).duration((null!==(nt=Ye.duration)&&void 0!==nt?nt:0)||540).easing(Ye.easing||Pe).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=$e){const Ue=(0,y.c)();Ue.addElement($e),Ke.addAnimation(Ue)}if(we||0!==bt.length||0!==rt.length?(dt.addElement(we),dt.addElement(rt)):dt.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ke.addAnimation(dt),qe?dt.beforeClearStyles([Ce]).fromTo("transform",`translateX(${mt})`,`translateX(${Q})`).fromTo(Ce,.8,1):dt.beforeClearStyles([Ce]).fromTo("transform",`translateX(${Qe})`,`translateX(${Q})`),we){const Ue=De(we).querySelector(".transition-effect");if(Ue){const je=Ue.querySelector(".transition-cover"),Et=Ue.querySelector(".transition-shadow"),yt=(0,y.c)(),Tt=(0,y.c)(),Ut=(0,y.c)();yt.addElement(Ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(je).beforeClearStyles([Ce]).fromTo(Ce,0,.1),Ut.addElement(Et).beforeClearStyles([Ce]).fromTo(Ce,.03,.7),yt.addAnimation([Tt,Ut]),dt.addAnimation([yt])}}const Dt=We.querySelector("ion-header.header-collapse-condense"),{forward:_t,backward:ze}=(($e,Ye,nt,Pe,Ce)=>{const ce=Fe(Pe,nt),Q=ye(Ce),He=ye(Pe),Me=Fe(Ce,nt),Qe=null!==ce&&null!==Q&&!nt,mt=null!==He&&null!==Me&&nt;if(Qe){const We=Q.getBoundingClientRect(),ne=ce.getBoundingClientRect();Se($e,Ye,nt,Q,We,ne),me($e,Ye,nt,ce,We,ne)}else if(mt){const We=He.getBoundingClientRect(),ne=Me.getBoundingClientRect();Se($e,Ye,nt,He,We,ne),me($e,Ye,nt,Me,We,ne)}return{forward:Qe,backward:mt}})(Ke,Me,qe,We,ne);if(bt.forEach(Ue=>{const je=(0,y.c)();je.addElement(Ue),Ke.addAnimation(je);const Et=(0,y.c)();Et.addElement(Ue.querySelector("ion-title"));const yt=(0,y.c)(),Tt=Array.from(Ue.querySelectorAll("ion-buttons,[menuToggle]")),Ut=Ue.closest("ion-header"),vn=null==Ut?void 0:Ut.classList.contains("header-collapse-condense-inactive");let St;St=Tt.filter(qe?Fn=>{const hn=Fn.classList.contains("buttons-collapse");return hn&&!vn||!hn}:Fn=>!Fn.classList.contains("buttons-collapse")),yt.addElement(St);const ct=(0,y.c)();ct.addElement(Ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,y.c)();At.addElement(De(Ue).querySelector(".toolbar-background"));const Jt=(0,y.c)(),bn=Ue.querySelector("ion-back-button");if(bn&&Jt.addElement(bn),je.addAnimation([Et,yt,ct,At,Jt]),yt.fromTo(Ce,.01,1),ct.fromTo(Ce,.01,1),qe)vn||Et.fromTo("transform",`translateX(${mt})`,`translateX(${Q})`).fromTo(Ce,.01,1),ct.fromTo("transform",`translateX(${mt})`,`translateX(${Q})`),Jt.fromTo(Ce,.01,1);else if(Dt||Et.fromTo("transform",`translateX(${Qe})`,`translateX(${Q})`).fromTo(Ce,.01,1),ct.fromTo("transform",`translateX(${Qe})`,`translateX(${Q})`),At.beforeClearStyles([Ce,"transform"]),(null==Ut?void 0:Ut.translucent)?At.fromTo("transform",Me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(Ce,.01,"var(--opacity)"),_t||Jt.fromTo(Ce,.01,1),bn&&!_t){const hn=(0,y.c)();hn.addElement(De(bn).querySelector(".button-text")).fromTo("transform",Me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(hn)}}),ne){const Ue=(0,y.c)(),je=ne.querySelector(":scope > ion-content"),Et=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==Et.length||0!==yt.length?(Ue.addElement(je),Ue.addElement(yt)):Ue.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ke.addAnimation(Ue),qe){Ue.beforeClearStyles([Ce]).fromTo("transform",`translateX(${Q})`,Me?"translateX(-100%)":"translateX(100%)");const Tt=(0,g.g)(ne);Ke.afterAddWrite(()=>{"normal"===Ke.getDirection()&&Tt.style.setProperty("display","none")})}else Ue.fromTo("transform",`translateX(${Q})`,`translateX(${mt})`).fromTo(Ce,1,.8);if(je){const Tt=De(je).querySelector(".transition-effect");if(Tt){const Ut=Tt.querySelector(".transition-cover"),vn=Tt.querySelector(".transition-shadow"),St=(0,y.c)(),ct=(0,y.c)(),At=(0,y.c)();St.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(Ut).beforeClearStyles([Ce]).fromTo(Ce,.1,0),At.addElement(vn).beforeClearStyles([Ce]).fromTo(Ce,.7,.03),St.addAnimation([ct,At]),Ue.addAnimation([St])}}Et.forEach(Tt=>{const Ut=(0,y.c)();Ut.addElement(Tt);const vn=(0,y.c)();vn.addElement(Tt.querySelector("ion-title"));const St=(0,y.c)(),ct=Tt.querySelectorAll("ion-buttons,[menuToggle]"),At=Tt.closest("ion-header"),Jt=null==At?void 0:At.classList.contains("header-collapse-condense-inactive"),bn=Array.from(ct).filter(Or=>{const jn=Or.classList.contains("buttons-collapse");return jn&&!Jt||!jn});St.addElement(bn);const Fn=(0,y.c)(),hn=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");hn.length>0&&Fn.addElement(hn);const Kt=(0,y.c)();Kt.addElement(De(Tt).querySelector(".toolbar-background"));const In=(0,y.c)(),jt=Tt.querySelector("ion-back-button");if(jt&&In.addElement(jt),Ut.addAnimation([vn,St,Fn,In,Kt]),Ke.addAnimation(Ut),In.fromTo(Ce,.99,0),St.fromTo(Ce,.99,0),Fn.fromTo(Ce,.99,0),qe){if(Jt||vn.fromTo("transform",`translateX(${Q})`,Me?"translateX(-100%)":"translateX(100%)").fromTo(Ce,.99,0),Fn.fromTo("transform",`translateX(${Q})`,Me?"translateX(-100%)":"translateX(100%)"),Kt.beforeClearStyles([Ce,"transform"]),(null==At?void 0:At.translucent)?Kt.fromTo("transform","translateX(0px)",Me?"translateX(-100%)":"translateX(100%)"):Kt.fromTo(Ce,"var(--opacity)",0),jt&&!ze){const jn=(0,y.c)();jn.addElement(De(jt).querySelector(".button-text")).fromTo("transform",`translateX(${Q})`,`translateX(${(Me?-124:124)+"px"})`),Ut.addAnimation(jn)}}else Jt||vn.fromTo("transform",`translateX(${Q})`,`translateX(${mt})`).fromTo(Ce,.99,0).afterClearStyles([ce,Ce]),Fn.fromTo("transform",`translateX(${Q})`,`translateX(${mt})`).afterClearStyles([ce,Ce]),In.afterClearStyles([Ce]),vn.afterClearStyles([Ce]),St.afterClearStyles([Ce])})}return Ke}catch(Pe){throw Pe}}},3175:(an,lt,L)=>{"use strict";L.r(lt),L.d(lt,{mdTransitionAnimation:()=>Re});var y=L(9613),g=L(2998);L(3457),L(9816);const Re=(xe,De)=>{var ye,Fe,Te;const Be="back"===De.direction,Ye=De.leavingEl,nt=(0,g.g)(De.enteringEl),Pe=nt.querySelector("ion-toolbar"),Ce=(0,y.c)();if(Ce.addElement(nt).fill("both").beforeRemoveClass("ion-page-invisible"),Be?Ce.duration((null!==(ye=De.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ce.duration((null!==(Fe=De.duration)&&void 0!==Fe?Fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Pe){const ce=(0,y.c)();ce.addElement(Pe),Ce.addAnimation(ce)}if(Ye&&Be){Ce.duration((null!==(Te=De.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ce=(0,y.c)();ce.addElement((0,g.g)(Ye)).onFinish(Q=>{1===Q&&ce.elements.length>0&&ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ce.addAnimation(ce)}return Ce}},1397:(an,lt,L)=>{"use strict";L.d(lt,{B:()=>yt,G:()=>Tt,a:()=>Te,b:()=>me,c:()=>Ye,d:()=>Ut,e:()=>vn,f:()=>rt,g:()=>Ke,h:()=>_t,i:()=>Ue,j:()=>Pe,k:()=>ye,m:()=>Be,n:()=>Q,o:()=>qe,s:()=>Et,t:()=>nt});var y=L(5861),g=L(6406),q=L(6782),oe=L(7593),Re=L(3577),xe=L(1178);let De=0;const ye=new WeakMap,Fe=St=>({create:ct=>Ce(St,ct),dismiss:(ct,At,Jt)=>We(document,ct,At,St,Jt),getTop:()=>(0,y.Z)(function*(){return qe(document,St)})()}),Te=Fe("ion-alert"),me=Fe("ion-action-sheet"),Be=Fe("ion-modal"),Ye=Fe("ion-popover"),nt=Fe("ion-toast"),Pe=St=>{typeof document<"u"&&mt(document);const ct=De++;St.overlayIndex=ct,St.hasAttribute("id")||(St.id=`ion-overlay-${ct}`)},Ce=(St,ct)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(St).then(()=>{const At=document.createElement(St);return At.classList.add("overlay-hidden"),Object.assign(At,Object.assign(Object.assign({},ct),{hasController:!0})),dt(document).appendChild(At),new Promise(Jt=>(0,Re.c)(At,Jt))}):Promise.resolve(),ce='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Q=(St,ct)=>{let At=St.querySelector(ce);const Jt=null==At?void 0:At.shadowRoot;Jt&&(At=Jt.querySelector(ce)||At),At?(0,Re.f)(At):ct.focus()},Me=(St,ct)=>{const At=Array.from(St.querySelectorAll(ce));let Jt=At.length>0?At[At.length-1]:null;const bn=null==Jt?void 0:Jt.shadowRoot;bn&&(Jt=bn.querySelector(ce)||Jt),Jt?Jt.focus():ct.focus()},mt=St=>{0===De&&(De=1,St.addEventListener("focus",ct=>{((St,ct)=>{const At=qe(ct,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Jt=St.target;At&&Jt&&!At.classList.contains("ion-disable-focus-trap")&&(At.shadowRoot?(()=>{if(At.contains(Jt))At.lastFocus=Jt;else{const hn=At.lastFocus;Q(At,At),hn===ct.activeElement&&Me(At,At),At.lastFocus=ct.activeElement}})():(()=>{if(At===Jt)At.lastFocus=void 0;else{const hn=(0,Re.g)(At);if(!hn.contains(Jt))return;const Kt=hn.querySelector(".ion-overlay-wrapper");if(!Kt)return;if(Kt.contains(Jt))At.lastFocus=Jt;else{const In=At.lastFocus;Q(Kt,At),In===ct.activeElement&&Me(Kt,At),At.lastFocus=ct.activeElement}}})())})(ct,St)},!0),St.addEventListener("ionBackButton",ct=>{const At=qe(St);null!=At&&At.backdropDismiss&&ct.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>At.dismiss(void 0,yt))}),St.addEventListener("keydown",ct=>{if("Escape"===ct.key){const At=qe(St);null!=At&&At.backdropDismiss&&At.dismiss(void 0,yt)}}))},We=(St,ct,At,Jt,bn)=>{const Fn=qe(St,Jt,bn);return Fn?Fn.dismiss(ct,At):Promise.reject("overlay does not exist")},qe=(St,ct,At)=>{const Jt=((St,ct)=>(void 0===ct&&(ct="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(St.querySelectorAll(ct)).filter(At=>At.overlayIndex>0)))(St,ct).filter(bn=>!(St=>St.classList.contains("overlay-hidden"))(bn));return void 0===At?Jt[Jt.length-1]:Jt.find(bn=>bn.id===At)},we=(St=!1)=>{const At=dt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");At&&(St?At.setAttribute("aria-hidden","true"):At.removeAttribute("aria-hidden"))},rt=function(){var St=(0,y.Z)(function*(ct,At,Jt,bn,Fn){var hn,Kt;if(ct.presented)return;we(!0),ct.presented=!0,ct.willPresent.emit(),null===(hn=ct.willPresentShorthand)||void 0===hn||hn.emit();const In=(0,g.b)(ct),jt=ct.enterAnimation?ct.enterAnimation:g.c.get(At,"ios"===In?Jt:bn);(yield Dt(ct,jt,ct.el,Fn))&&(ct.didPresent.emit(),null===(Kt=ct.didPresentShorthand)||void 0===Kt||Kt.emit()),"ION-TOAST"!==ct.el.tagName&&bt(ct.el),ct.keyboardClose&&(null===document.activeElement||!ct.el.contains(document.activeElement))&&ct.el.focus()});return function(At,Jt,bn,Fn,hn){return St.apply(this,arguments)}}(),bt=function(){var St=(0,y.Z)(function*(ct){let At=document.activeElement;if(!At)return;const Jt=null==At?void 0:At.shadowRoot;Jt&&(At=Jt.querySelector(ce)||At),yield ct.onDidDismiss(),At.focus()});return function(At){return St.apply(this,arguments)}}(),Ke=function(){var St=(0,y.Z)(function*(ct,At,Jt,bn,Fn,hn,Kt){var In,jt;if(!ct.presented)return!1;we(!1),ct.presented=!1;try{ct.el.style.setProperty("pointer-events","none"),ct.willDismiss.emit({data:At,role:Jt}),null===(In=ct.willDismissShorthand)||void 0===In||In.emit({data:At,role:Jt});const Or=(0,g.b)(ct),jn=ct.leaveAnimation?ct.leaveAnimation:g.c.get(bn,"ios"===Or?Fn:hn);Jt!==Tt&&(yield Dt(ct,jn,ct.el,Kt)),ct.didDismiss.emit({data:At,role:Jt}),null===(jt=ct.didDismissShorthand)||void 0===jt||jt.emit({data:At,role:Jt}),ye.delete(ct),ct.el.classList.add("overlay-hidden"),ct.el.style.removeProperty("pointer-events"),void 0!==ct.el.lastFocus&&(ct.el.lastFocus=void 0)}catch(Or){console.error(Or)}return ct.el.remove(),!0});return function(At,Jt,bn,Fn,hn,Kt,In){return St.apply(this,arguments)}}(),dt=St=>St.querySelector("ion-app")||St.body,Dt=function(){var St=(0,y.Z)(function*(ct,At,Jt,bn){Jt.classList.remove("overlay-hidden");const hn=At(ct.el,bn);(!ct.animated||!g.c.getBoolean("animated",!0))&&hn.duration(0),ct.keyboardClose&&hn.beforeAddWrite(()=>{const In=Jt.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const Kt=ye.get(ct)||[];return ye.set(ct,[...Kt,hn]),yield hn.play(),!0});return function(At,Jt,bn,Fn){return St.apply(this,arguments)}}(),_t=(St,ct)=>{let At;const Jt=new Promise(bn=>At=bn);return ze(St,ct,bn=>{At(bn.detail)}),Jt},ze=(St,ct,At)=>{const Jt=bn=>{(0,Re.b)(St,ct,Jt),At(bn)};(0,Re.a)(St,ct,Jt)},Ue=St=>"cancel"===St||St===yt,je=St=>St(),Et=(St,ct)=>{if("function"==typeof St)return g.c.get("_zoneGate",je)(()=>{try{return St(ct)}catch(Jt){throw Jt}})},yt="backdrop",Tt="gesture",Ut=St=>{let At,ct=!1;const Jt=(0,q.C)(),bn=(Kt=!1)=>{if(At&&!Kt)return{delegate:At,inline:ct};const{el:In,hasController:jt,delegate:Or}=St;return ct=null!==In.parentNode&&!jt,At=ct?Or||Jt:Or,{inline:ct,delegate:At}};return{attachViewToDom:function(){var Kt=(0,y.Z)(function*(In){const{delegate:jt}=bn(!0);if(jt)return yield jt.attachViewToDom(St.el,In);const{hasController:Or}=St;if(Or&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(jt){return Kt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Kt}=bn();Kt&&void 0!==St.el&&Kt.removeViewFromDom(St.el.parentElement,St.el)}}},vn=()=>{let St;const ct=()=>{St&&(St(),St=void 0)};return{addClickListener:(Jt,bn)=>{ct();const Fn=void 0!==bn?document.getElementById(bn):null;Fn?St=((Kt,In)=>{const jt=()=>{In.present()};return Kt.addEventListener("click",jt),()=>{Kt.removeEventListener("click",jt)}})(Fn,Jt):(0,xe.p)(`A trigger element with the ID "${bn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Jt)},removeClickListener:ct}}},1037:(an,lt,L)=>{"use strict";var y=L(4650),g=L(1481),q=L(6159),oe=L(2879);const Re=[{path:"home",loadComponent:()=>L.e(2267).then(L.bind(L,2267)).then(c=>c.HomePage)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([L.e(4734),L.e(2183)]).then(L.bind(L,2183)).then(c=>c.LogniPage)},{path:"register",loadComponent:()=>Promise.all([L.e(4734),L.e(7009)]).then(L.bind(L,7009)).then(c=>c.RegisterPage)},{path:"splash",loadComponent:()=>L.e(4399).then(L.bind(L,4399)).then(c=>c.SplashPage)}];let xe=(()=>{class c{constructor(o){this._router=o,this._router.navigateByUrl("splash")}}return c.\u0275fac=function(o){return new(o||c)(y.Y36(q.F0))},c.\u0275cmp=y.Xpm({type:c,selectors:[["app-root"]],standalone:!0,features:[y.jDz],decls:2,vars:0,template:function(o,u){1&o&&(y.TgZ(0,"ion-app"),y._UZ(1,"ion-router-outlet"),y.qZA())},dependencies:[oe.Pc,oe.dr,oe.jP]}),c})();var ye=L(2011),Fe=L(1205),Te=L(9751),me=L(9646),Se=L(8996),Be=L(8372),$e=L(4004),Ye=L(3900),nt=L(2122),Pe=L(3942),Ce=L(5861),ce=L(9681),Q=L(2090),He=L(4859);const Me="firebasestorage.googleapis.com",Qe="storageBucket";class qe extends Q.ZR{constructor(r,o,u=0){super(rt(r),`Firebase Storage: ${o} (${rt(r)})`),this.status_=u,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return rt(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var we=(()=>{return(c=we||(we={})).UNKNOWN="unknown",c.OBJECT_NOT_FOUND="object-not-found",c.BUCKET_NOT_FOUND="bucket-not-found",c.PROJECT_NOT_FOUND="project-not-found",c.QUOTA_EXCEEDED="quota-exceeded",c.UNAUTHENTICATED="unauthenticated",c.UNAUTHORIZED="unauthorized",c.UNAUTHORIZED_APP="unauthorized-app",c.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",c.INVALID_CHECKSUM="invalid-checksum",c.CANCELED="canceled",c.INVALID_EVENT_NAME="invalid-event-name",c.INVALID_URL="invalid-url",c.INVALID_DEFAULT_BUCKET="invalid-default-bucket",c.NO_DEFAULT_BUCKET="no-default-bucket",c.CANNOT_SLICE_BLOB="cannot-slice-blob",c.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",c.NO_DOWNLOAD_URL="no-download-url",c.INVALID_ARGUMENT="invalid-argument",c.INVALID_ARGUMENT_COUNT="invalid-argument-count",c.APP_DELETED="app-deleted",c.INVALID_ROOT_OPERATION="invalid-root-operation",c.INVALID_FORMAT="invalid-format",c.INTERNAL_ERROR="internal-error",c.UNSUPPORTED_ENVIRONMENT="unsupported-environment",we;var c})();function rt(c){return"storage/"+c}function bt(){return new qe(we.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ue(){return new qe(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function je(){return new qe(we.CANCELED,"User canceled the upload/download.")}function Ut(){return new qe(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function At(c){return new qe(we.INVALID_ARGUMENT,c)}function Jt(){return new qe(we.APP_DELETED,"The Firebase app was deleted.")}function bn(c){return new qe(we.INVALID_ROOT_OPERATION,"The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fn(c,r){return new qe(we.INVALID_FORMAT,"String does not match format '"+c+"': "+r)}function hn(c){throw new qe(we.INTERNAL_ERROR,"Internal error: "+c)}class Kt{constructor(r,o){this.bucket=r,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,o){let u;try{u=Kt.makeFromUrl(r,o)}catch{return new Kt(r,"")}if(""===u.path)return u;throw function yt(c){return new qe(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+c+"'.")}(r)}static makeFromUrl(r,o){let u=null;const p="([A-Za-z0-9.\\-_]+)",B=new RegExp("^gs://"+p+"(/(.*))?$","i");function se(bi){bi.path_=decodeURIComponent(bi.path)}const ut=o.replace(/[.]/g,"\\."),vi=[{regex:B,indices:{bucket:1,path:3},postModify:function E(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ut}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:se},{regex:new RegExp(`^https?://${o===Me?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:se}];for(let bi=0;bi<vi.length;bi++){const fa=vi[bi],Da=fa.regex.exec(r);if(Da){let Xo=Da[fa.indices.path];Xo||(Xo=""),u=new Kt(Da[fa.indices.bucket],Xo),fa.postModify(u);break}}if(null==u)throw function Et(c){return new qe(we.INVALID_URL,"Invalid URL '"+c+"'.")}(r);return u}}class In{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function Zr(c){return"string"==typeof c||c instanceof String}function Er(c){return Ci()&&c instanceof Blob}function Ci(){return typeof Blob<"u"&&!(0,Q.UG)()}function zr(c,r,o,u){if(u<r)throw At(`Invalid value for '${c}'. Expected ${r} or greater.`);if(u>o)throw At(`Invalid value for '${c}'. Expected ${o} or less.`)}function mr(c,r,o){let u=r;return null==o&&(u=`https://${r}`),`${o}://${u}/v0${c}`}function hr(c){const r=encodeURIComponent;let o="?";for(const u in c)c.hasOwnProperty(u)&&(o=o+(r(u)+"=")+r(c[u])+"&");return o=o.slice(0,-1),o}var Cn=(()=>{return(c=Cn||(Cn={}))[c.NO_ERROR=0]="NO_ERROR",c[c.NETWORK_ERROR=1]="NETWORK_ERROR",c[c.ABORT=2]="ABORT",Cn;var c})();function sn(c,r){const o=c>=500&&c<600,p=-1!==[408,429].indexOf(c),E=-1!==r.indexOf(c);return o||p||E}class xr{constructor(r,o,u,p,E,A,B,Y,se,Xe,ut,Ct=!0){this.url_=r,this.method_=o,this.headers_=u,this.body_=p,this.successCodes_=E,this.additionalRetryCodes_=A,this.callback_=B,this.errorCallback_=Y,this.timeout_=se,this.progressCallback_=Xe,this.connectionFactory_=ut,this.retry=Ct,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Zt,nn)=>{this.resolve_=Zt,this.reject_=nn,this.start_()})}start_(){const o=(u,p)=>{const E=this.resolve_,A=this.reject_,B=p.connection;if(p.wasSuccessCode)try{const Y=this.callback_(B,B.getResponse());!function jn(c){return void 0!==c}(Y)?E():E(Y)}catch(Y){A(Y)}else if(null!==B){const Y=bt();Y.serverResponse=B.getErrorText(),A(this.errorCallback_?this.errorCallback_(B,Y):Y)}else A(p.canceled?this.appDelete_?Jt():je():Ue())};this.canceled_?o(0,new Wr(!1,null,!0)):this.backoffId_=function jt(c,r,o){let u=1,p=null,E=null,A=!1,B=0;function Y(){return 2===B}let se=!1;function Xe(...nr){se||(se=!0,r.apply(null,nr))}function ut(nr){p=setTimeout(()=>{p=null,c(Zt,Y())},nr)}function Ct(){E&&clearTimeout(E)}function Zt(nr,...kr){if(se)return void Ct();if(nr)return Ct(),void Xe.call(null,nr,...kr);if(Y()||A)return Ct(),void Xe.call(null,nr,...kr);let vi;u<64&&(u*=2),1===B?(B=2,vi=0):vi=1e3*(u+Math.random()),ut(vi)}let nn=!1;function xn(nr){nn||(nn=!0,Ct(),!se&&(null!==p?(nr||(B=2),clearTimeout(p),ut(0)):nr||(B=1)))}return ut(0),E=setTimeout(()=>{A=!0,xn(!0)},o),xn}((u,p)=>{if(p)return void u(!1,new Wr(!1,null,!0));const E=this.connectionFactory_();this.pendingConnection_=E;const A=B=>{null!==this.progressCallback_&&this.progressCallback_(B.loaded,B.lengthComputable?B.total:-1)};null!==this.progressCallback_&&E.addUploadProgressListener(A),E.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&E.removeUploadProgressListener(A),this.pendingConnection_=null;const B=E.getErrorCode()===Cn.NO_ERROR,Y=E.getStatus();if(!B||sn(Y,this.additionalRetryCodes_)&&this.retry){const Xe=E.getErrorCode()===Cn.ABORT;return void u(!1,new Wr(!1,null,Xe))}const se=-1!==this.successCodes_.indexOf(Y);u(!0,new Wr(se,E))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function Or(c){c(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Wr{constructor(r,o,u){this.wasSuccessCode=r,this.connection=o,this.canceled=!!u}}function rr(...c){const r=function Qr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const o=new r;for(let u=0;u<c.length;u++)o.append(c[u]);return o.getBlob()}if(Ci())return new Blob(c);throw new qe(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ht{constructor(r,o){this.data=r,this.contentType=o||null}}function En(c,r){switch(c){case ln.RAW:return new Ht(Vn(r));case ln.BASE64:case ln.BASE64URL:return new Ht(fr(c,r));case ln.DATA_URL:return new Ht(function Je(c){const r=new Ar(c);return r.base64?fr(ln.BASE64,r.rest):function Gn(c){let r;try{r=decodeURIComponent(c)}catch{throw Fn(ln.DATA_URL,"Malformed data URL.")}return Vn(r)}(r.rest)}(r),function Ve(c){return new Ar(c).contentType}(r))}throw bt()}function Vn(c){const r=[];for(let o=0;o<c.length;o++){let u=c.charCodeAt(o);u<=127?r.push(u):u<=2047?r.push(192|u>>6,128|63&u):55296==(64512&u)?o<c.length-1&&56320==(64512&c.charCodeAt(o+1))?(u=65536|(1023&u)<<10|1023&c.charCodeAt(++o),r.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u)):r.push(239,191,189):56320==(64512&u)?r.push(239,191,189):r.push(224|u>>12,128|u>>6&63,128|63&u)}return new Uint8Array(r)}function fr(c,r){switch(c){case ln.BASE64:{const p=-1!==r.indexOf("-"),E=-1!==r.indexOf("_");if(p||E)throw Fn(c,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case ln.BASE64URL:{const p=-1!==r.indexOf("+"),E=-1!==r.indexOf("/");if(p||E)throw Fn(c,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function Jn(c){if(typeof atob>"u")throw function ct(c){return new qe(we.UNSUPPORTED_ENVIRONMENT,`${c} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(c)}(r)}catch(p){throw p.message.includes("polyfill")?p:Fn(c,"Invalid character found")}const u=new Uint8Array(o.length);for(let p=0;p<o.length;p++)u[p]=o.charCodeAt(p);return u}class Ar{constructor(r){this.base64=!1,this.contentType=null;const o=r.match(/^data:([^,]+)?,/);if(null===o)throw Fn(ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const u=o[1]||null;null!=u&&(this.base64=function he(c,r){return c.length>=r.length&&c.substring(c.length-r.length)===r}(u,";base64"),this.contentType=this.base64?u.substring(0,u.length-7):u),this.rest=r.substring(r.indexOf(",")+1)}}class ge{constructor(r,o){let u=0,p="";Er(r)?(this.data_=r,u=r.size,p=r.type):r instanceof ArrayBuffer?(o?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),u=this.data_.length):r instanceof Uint8Array&&(o?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),u=r.length),this.size_=u,this.type_=p}size(){return this.size_}type(){return this.type_}slice(r,o){if(Er(this.data_)){const p=function Ii(c,r,o){return c.webkitSlice?c.webkitSlice(r,o):c.mozSlice?c.mozSlice(r,o):c.slice?c.slice(r,o):null}(this.data_,r,o);return null===p?null:new ge(p)}{const u=new Uint8Array(this.data_.buffer,r,o-r);return new ge(u,!0)}}static getBlob(...r){if(Ci()){const o=r.map(u=>u instanceof ge?u.data_:u);return new ge(rr.apply(null,o))}{const o=r.map(A=>Zr(A)?En(ln.RAW,A).data:A.data_);let u=0;o.forEach(A=>{u+=A.byteLength});const p=new Uint8Array(u);let E=0;return o.forEach(A=>{for(let B=0;B<A.length;B++)p[E++]=A[B]}),new ge(p,!0)}}uploadData(){return this.data_}}function de(c){let r;try{r=JSON.parse(c)}catch{return null}return function ar(c){return"object"==typeof c&&!Array.isArray(c)}(r)?r:null}function Le(c){const r=c.lastIndexOf("/",c.length-2);return-1===r?c:c.slice(r+1)}function Ie(c,r){return r}class et{constructor(r,o,u,p){this.server=r,this.local=o||r,this.writable=!!u,this.xform=p||Ie}}let Mt=null;function Pn(){if(Mt)return Mt;const c=[];c.push(new et("bucket")),c.push(new et("generation")),c.push(new et("metageneration")),c.push(new et("name","fullPath",!0));const o=new et("name");o.xform=function r(E,A){return function Yt(c){return!Zr(c)||c.length<2?c:Le(c)}(A)},c.push(o);const p=new et("size");return p.xform=function u(E,A){return void 0!==A?Number(A):A},c.push(p),c.push(new et("timeCreated")),c.push(new et("updated")),c.push(new et("md5Hash",null,!0)),c.push(new et("cacheControl",null,!0)),c.push(new et("contentDisposition",null,!0)),c.push(new et("contentEncoding",null,!0)),c.push(new et("contentLanguage",null,!0)),c.push(new et("contentType",null,!0)),c.push(new et("metadata","customMetadata",!0)),Mt=c,Mt}function di(c,r,o){const u=de(r);return null===u?null:function lr(c,r,o){const u={type:"file"},p=o.length;for(let E=0;E<p;E++){const A=o[E];u[A.local]=A.xform(u,r[A.server])}return function yn(c,r){Object.defineProperty(c,"ref",{get:function o(){const E=new Kt(c.bucket,c.fullPath);return r._makeStorageReference(E)}})}(u,c),u}(c,u,o)}function ji(c,r){const o={},u=r.length;for(let p=0;p<u;p++){const E=r[p];E.writable&&(o[E.server]=c[E.local])}return JSON.stringify(o)}const Li="prefixes",Bi="items";class Xn{constructor(r,o,u,p){this.url=r,this.method=o,this.handler=u,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Lr(c){if(!c)throw bt()}function Vr(c,r){return function o(u,p){const E=di(c,p,r);return Lr(null!==E),E}}function ms(c){return function r(o,u){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function _t(){return new qe(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Dt(){return new qe(we.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function dt(c){return new qe(we.QUOTA_EXCEEDED,"Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(c.bucket):403===o.getStatus()?function ze(c){return new qe(we.UNAUTHORIZED,"User does not have permission to access '"+c+"'.")}(c.path):u,p.status=o.getStatus(),p.serverResponse=u.serverResponse,p}}function Gr(c){const r=ms(c);return function o(u,p){let E=r(u,p);return 404===u.getStatus()&&(E=function Ke(c){return new qe(we.OBJECT_NOT_FOUND,"Object '"+c+"' does not exist.")}(c.path)),E.serverResponse=p.serverResponse,E}}function xi(c,r,o){const p=mr(r.fullServerUrl(),c.host,c._protocol),A=c.maxOperationRetryTime,B=new Xn(p,"GET",Vr(c,o),A);return B.errorHandler=Gr(r),B}function Oi(c,r,o,u,p){const E={};E.prefix=r.isRoot?"":r.path+"/",o&&o.length>0&&(E.delimiter=o),u&&(E.pageToken=u),p&&(E.maxResults=p);const B=mr(r.bucketOnlyServerUrl(),c.host,c._protocol),se=c.maxOperationRetryTime,Xe=new Xn(B,"GET",function br(c,r){return function o(u,p){const E=function gs(c,r,o){const u=de(o);return null===u?null:function ds(c,r,o){const u={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Li])for(const p of o[Li]){const E=p.replace(/\/$/,""),A=c._makeStorageReference(new Kt(r,E));u.prefixes.push(A)}if(o[Bi])for(const p of o[Bi]){const E=c._makeStorageReference(new Kt(r,p.name));u.items.push(E)}return u}(c,r,u)}(c,r,p);return Lr(null!==E),E}}(c,r.bucket),se);return Xe.urlParams=E,Xe.errorHandler=ms(r),Xe}function qr(c,r,o){const u=Object.assign({},o);return u.fullPath=c.path,u.size=r.size(),u.contentType||(u.contentType=function ti(c,r){return c&&c.contentType||r&&r.type()||"application/octet-stream"}(null,r)),u}class Nr{constructor(r,o,u,p){this.current=r,this.total=o,this.finalized=!!u,this.metadata=p||null}}function ue(c,r){let o=null;try{o=c.getResponseHeader("X-Goog-Upload-Status")}catch{Lr(!1)}return Lr(!!o&&-1!==(r||["active"]).indexOf(o)),o}const ot={STATE_CHANGED:"state_changed"},Rt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $t(c){switch(c){case"running":case"pausing":case"canceling":return Rt.RUNNING;case"paused":return Rt.PAUSED;case"success":return Rt.SUCCESS;case"canceled":return Rt.CANCELED;default:return Rt.ERROR}}class zt{constructor(r,o,u){if(function dn(c){return"function"==typeof c}(r)||null!=o||null!=u)this.next=r,this.error=null!=o?o:void 0,this.complete=null!=u?u:void 0;else{const E=r;this.next=E.next,this.error=E.error,this.complete=E.complete}}}function qt(c){return(...r)=>{Promise.resolve().then(()=>c(...r))}}let pn=null;class Yn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cn.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cn.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cn.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,o,u,p){if(this.sent_)throw hn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,r,!0),void 0!==p)for(const E in p)p.hasOwnProperty(E)&&this.xhr_.setRequestHeader(E,p[E].toString());return void 0!==u?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class ir extends Yn{initXhr(){this.xhr_.responseType="text"}}function Ze(){return pn?pn():new ir}class Ln{constructor(r,o,u=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=o,this._metadata=u,this._mappings=Pn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(we.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const E=this.isExponentialBackoffExpired();if(sn(p.status,[])){if(!E)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=Ue()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(we.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,E)=>{this._resolve=p,this._reject=E,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return o=>this._updateProgress(r+o)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,u])=>{switch(this._state){case"running":r(o,u);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,o)=>{const u=function Ae(c,r,o,u,p){const E=r.bucketOnlyServerUrl(),A=qr(r,u,p),B={name:A.fullPath},Y=mr(E,c.host,c._protocol),Xe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${u.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},ut=ji(A,o),nn=new Xn(Y,"POST",function Zt(xn){let nr;ue(xn);try{nr=xn.getResponseHeader("X-Goog-Upload-URL")}catch{Lr(!1)}return Lr(Zr(nr)),nr},c.maxUploadRetryTime);return nn.urlParams=B,nn.headers=Xe,nn.body=ut,nn.errorHandler=ms(r),nn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,Ze,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._uploadUrl=E,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((o,u)=>{const p=function tt(c,r,o,u){const Y=new Xn(o,"POST",function E(se){const Xe=ue(se,["active","final"]);let ut=null;try{ut=se.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Lr(!1)}ut||Lr(!1);const Ct=Number(ut);return Lr(!isNaN(Ct)),new Nr(Ct,u.size(),"final"===Xe)},c.maxUploadRetryTime);return Y.headers={"X-Goog-Upload-Command":"query"},Y.errorHandler=ms(r),Y}(this._ref.storage,this._ref._location,r,this._blob),E=this._ref.storage._makeRequest(p,Ze,o,u);this._request=E,E.getPromise().then(A=>{this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,o=new Nr(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken((p,E)=>{let A;try{A=function it(c,r,o,u,p,E,A,B){const Y=new Nr(0,0);if(A?(Y.current=A.current,Y.total=A.total):(Y.current=0,Y.total=u.size()),u.size()!==Y.total)throw function vn(){return new qe(we.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const se=Y.total-Y.current;let Xe=se;p>0&&(Xe=Math.min(Xe,p));const ut=Y.current;let Zt="";Zt=0===Xe?"finalize":se===Xe?"upload, finalize":"upload";const nn={"X-Goog-Upload-Command":Zt,"X-Goog-Upload-Offset":`${Y.current}`},xn=u.slice(ut,ut+Xe);if(null===xn)throw Ut();const vi=new Xn(o,"POST",function nr(bi,fa){const Da=ue(bi,["active","final"]),Qo=Y.current+Xe,Xo=u.size();let Wc;return Wc="final"===Da?Vr(r,E)(bi,fa):null,new Nr(Qo,Xo,"final"===Da,Wc)},r.maxUploadRetryTime);return vi.headers=nn,vi.body=xn.uploadData(),vi.progressCallback=B||null,vi.errorHandler=ms(c),vi}(this._ref._location,this._ref.storage,u,this._blob,r,this._mappings,o,this._makeProgressCallback())}catch(Y){return this._error=Y,void this._transition("error")}const B=this._ref.storage._makeRequest(A,Ze,p,E,!1);this._request=B,B.getPromise().then(Y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Y.current),Y.finalized?(this._metadata=Y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,o)=>{const u=xi(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(u,Ze,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,o)=>{const u=function gi(c,r,o,u,p){const E=r.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},Y=function B(){let vi="";for(let bi=0;bi<2;bi++)vi+=Math.random().toString().slice(2);return vi}();A["Content-Type"]="multipart/related; boundary="+Y;const se=qr(r,u,p),Xe=ji(se,o),Zt=ge.getBlob("--"+Y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xe+"\r\n--"+Y+"\r\nContent-Type: "+se.contentType+"\r\n\r\n",u,"\r\n--"+Y+"--");if(null===Zt)throw Ut();const nn={name:se.fullPath},xn=mr(E,c.host,c._protocol),kr=c.maxUploadRetryTime,Ai=new Xn(xn,"POST",Vr(c,o),kr);return Ai.urlParams=nn,Ai.headers=A,Ai.body=Zt.uploadData(),Ai.errorHandler=ms(r),Ai}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,Ze,r,o);this._request=p,p.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const o=this._transferred;this._transferred=r,this._transferred!==o&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=r,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=je(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=$t(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,o,u,p){const E=new zt(o||void 0,u||void 0,p||void 0);return this._addObserver(E),()=>{this._removeObserver(E)}}then(r,o){return this._promise.then(r,o)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const o=this._observers.indexOf(r);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch($t(this._state)){case Rt.SUCCESS:qt(this._resolve.bind(null,this.snapshot))();break;case Rt.CANCELED:case Rt.ERROR:qt(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch($t(this._state)){case Rt.RUNNING:case Rt.PAUSED:r.next&&qt(r.next.bind(r,this.snapshot))();break;case Rt.SUCCESS:r.complete&&qt(r.complete.bind(r))();break;default:r.error&&qt(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class er{constructor(r,o){this._service=r,this._location=o instanceof Kt?o:Kt.makeFromUrl(o,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,o){return new er(r,o)}get root(){const r=new Kt(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Le(this._location.path)}get storage(){return this._service}get parent(){const r=function ht(c){if(0===c.length)return null;const r=c.lastIndexOf("/");return-1===r?"":c.slice(0,r)}(this._location.path);if(null===r)return null;const o=new Kt(this._location.bucket,r);return new er(this._service,o)}_throwIfRoot(r){if(""===this._location.path)throw bn(r)}}function Ls(c,r,o){return jr.apply(this,arguments)}function jr(){return(jr=(0,Ce.Z)(function*(c,r,o){const p=yield Do(c,{pageToken:o});r.prefixes.push(...p.prefixes),r.items.push(...p.items),null!=p.nextPageToken&&(yield Ls(c,r,p.nextPageToken))})).apply(this,arguments)}function Do(c,r){null!=r&&"number"==typeof r.maxResults&&zr("options.maxResults",1,1e3,r.maxResults);const o=r||{},u=Oi(c.storage,c._location,"/",o.pageToken,o.maxResults);return c.storage.makeRequestWithTokens(u,Ze)}function ea(c){c._throwIfRoot("getDownloadURL");const r=function cr(c,r,o){const p=mr(r.fullServerUrl(),c.host,c._protocol),A=c.maxOperationRetryTime,B=new Xn(p,"GET",function vr(c,r){return function o(u,p){const E=di(c,p,r);return Lr(null!==E),function Pi(c,r,o,u){const p=de(r);if(null===p||!Zr(p.downloadTokens))return null;const E=p.downloadTokens;if(0===E.length)return null;const A=encodeURIComponent;return E.split(",").map(se=>{const ut=c.fullPath;return mr("/b/"+A(c.bucket)+"/o/"+A(ut),o,u)+hr({alt:"media",token:se})})[0]}(E,p,c.host,c._protocol)}}(c,o),A);return B.errorHandler=Gr(r),B}(c.storage,c._location,Pn());return c.storage.makeRequestWithTokens(r,Ze).then(o=>{if(null===o)throw function St(){return new qe(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function uo(c,r){const o=function Oe(c,r){const o=r.split("/").filter(u=>u.length>0).join("/");return 0===c.length?o:c+"/"+o}(c._location.path,r),u=new Kt(c._location.bucket,o);return new er(c.storage,u)}function eo(c,r){if(c instanceof qi){const o=c;if(null==o._bucket)throw function Tt(){return new qe(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qe+"' property when initializing the app?")}();const u=new er(o,o._bucket);return null!=r?eo(u,r):u}return void 0!==r?uo(c,r):c}function Bs(c,r){if(r&&function Js(c){return/^[A-Za-z]+:\/\//.test(c)}(r)){if(c instanceof qi)return function ta(c,r){return new er(c,r)}(c,r);throw At("To use ref(service, url), the first argument must be a Storage instance.")}return eo(c,r)}function Uo(c,r){const o=null==r?void 0:r[Qe];return null==o?null:Kt.makeFromBucketSpec(o,c)}class qi{constructor(r,o,u,p,E){this.app=r,this._authProvider=o,this._appCheckProvider=u,this._url=p,this._firebaseVersion=E,this._bucket=null,this._host=Me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?Kt.makeFromBucketSpec(p,this._host):Uo(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,r):Uo(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){zr("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){zr("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,Ce.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const o=r._authProvider.getImmediate({optional:!0});if(o){const u=yield o.getToken();if(null!==u)return u.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,Ce.Z)(function*(){const o=r._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new er(this,r)}_makeRequest(r,o,u,p,E=!0){if(this._deleted)return new In(Jt());{const A=function _r(c,r,o,u,p,E,A=!0){const B=hr(c.urlParams),Y=c.url+B,se=Object.assign({},c.headers);return function Kr(c,r){r&&(c["X-Firebase-GMPID"]=r)}(se,r),function dr(c,r){null!==r&&r.length>0&&(c.Authorization="Firebase "+r)}(se,o),function ii(c,r){c["X-Firebase-Storage-Version"]="webjs/"+(null!=r?r:"AppManager")}(se,E),function Ri(c,r){null!==r&&(c["X-Firebase-AppCheck"]=r)}(se,u),new xr(Y,c.method,se,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,p,A)}(r,this._appId,u,p,o,this._firebaseVersion,E);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(r,o){var u=this;return(0,Ce.Z)(function*(){const[p,E]=yield Promise.all([u._getAuthToken(),u._getAppCheckToken()]);return u._makeRequest(r,o,p,E).getPromise()})()}}const To="@firebase/storage";function ga(c,r){return Bs(c=(0,Q.m9)(c),r)}function Hi(c,{instanceIdentifier:r}){const o=c.getProvider("app").getImmediate(),u=c.getProvider("auth-internal"),p=c.getProvider("app-check-internal");return new qi(o,u,p,r,ce.SDK_VERSION)}!function Ui(){(0,ce._registerComponent)(new He.wA("storage",Hi,"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(To,"0.11.2",""),(0,ce.registerVersion)(To,"0.11.2","esm2017")}();class zi{constructor(r,o,u){this._delegate=r,this.task=o,this.ref=u}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Di{constructor(r,o){this._delegate=r,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zi(this._delegate.snapshot,this,this._ref)}then(r,o){return this._delegate.then(u=>{if(r)return r(new zi(u,this,this._ref))},o)}on(r,o,u,p){let E;return o&&(E="function"==typeof o?A=>o(new zi(A,this,this._ref)):{next:o.next?A=>o.next(new zi(A,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(r,E,u||void 0,p||void 0)}}class is{constructor(r,o){this._delegate=r,this._service=o}get prefixes(){return this._delegate.prefixes.map(r=>new _s(r,this._service))}get items(){return this._delegate.items.map(r=>new _s(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class _s{constructor(r,o){this._delegate=r,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const o=function So(c,r){return uo(c,r)}(this._delegate,r);return new _s(o,this.storage)}get root(){return new _s(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new _s(r,this.storage)}put(r,o){return this._throwIfRoot("put"),new Di(function ys(c,r,o){return function mi(c,r,o){return c._throwIfRoot("uploadBytesResumable"),new Ln(c,new ge(r),o)}(c=(0,Q.m9)(c),r,o)}(this._delegate,r,o),this)}putString(r,o=ln.RAW,u){this._throwIfRoot("putString");const p=En(o,r),E=Object.assign({},u);return null==E.contentType&&null!=p.contentType&&(E.contentType=p.contentType),new Di(new Ln(this._delegate,new ge(p.data,!0),E),this)}listAll(){return function no(c){return function Hs(c){const r={prefixes:[],items:[]};return Ls(c,r).then(()=>r)}(c=(0,Q.m9)(c))}(this._delegate).then(r=>new is(r,this.storage))}list(r){return function Ds(c,r){return Do(c=(0,Q.m9)(c),r)}(this._delegate,r||void 0).then(o=>new is(o,this.storage))}getMetadata(){return function Cs(c){return function Jo(c){c._throwIfRoot("getMetadata");const r=xi(c.storage,c._location,Pn());return c.storage.makeRequestWithTokens(r,Ze)}(c=(0,Q.m9)(c))}(this._delegate)}updateMetadata(r){return function si(c,r){return function hs(c,r){c._throwIfRoot("updateMetadata");const o=function pr(c,r,o,u){const E=mr(r.fullServerUrl(),c.host,c._protocol),B=ji(o,u),se=c.maxOperationRetryTime,Xe=new Xn(E,"PATCH",Vr(c,u),se);return Xe.headers={"Content-Type":"application/json; charset=utf-8"},Xe.body=B,Xe.errorHandler=Gr(r),Xe}(c.storage,c._location,r,Pn());return c.storage.makeRequestWithTokens(o,Ze)}(c=(0,Q.m9)(c),r)}(this._delegate,r)}getDownloadURL(){return function ro(c){return ea(c=(0,Q.m9)(c))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ra(c){return function $o(c){c._throwIfRoot("deleteObject");const r=function hi(c,r){const u=mr(r.fullServerUrl(),c.host,c._protocol),B=new Xn(u,"DELETE",function A(Y,se){},c.maxOperationRetryTime);return B.successCodes=[200,204],B.errorHandler=Gr(r),B}(c.storage,c._location);return c.storage.makeRequestWithTokens(r,Ze)}(c=(0,Q.m9)(c))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw bn(r)}}class ss{constructor(r,o){this.app=r,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(Mo(r))throw At("ref() expected a child path but got a URL, use refFromURL instead.");return new _s(ga(this._delegate,r),this)}refFromURL(r){if(!Mo(r))throw At("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Kt.makeFromUrl(r,this._delegate.host)}catch{throw At("refFromUrl() expected a valid full URL but got an invalid one.")}return new _s(ga(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,o,u={}){!function Ao(c,r,o,u={}){!function to(c,r,o,u={}){c.host=`${r}:${o}`,c._protocol="http";const{mockUserToken:p}=u;p&&(c._overrideAuthToken="string"==typeof p?p:(0,Q.Sg)(p,c.app.options.projectId))}(c,r,o,u)}(this._delegate,r,o,u)}}function Mo(c){return/^[A-Za-z]+:\/\//.test(c)}function K(c,{instanceIdentifier:r}){const o=c.getProvider("app-compat").getImmediate(),u=c.getProvider("storage").getImmediate({identifier:r});return new ss(o,u)}!function Ee(c){const r={TaskState:Rt,TaskEvent:ot,StringFormat:ln,Storage:ss,Reference:_s};c.INTERNAL.registerComponent(new He.wA("storage-compat",K,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),c.registerVersion("@firebase/storage-compat","0.3.2")}(Pe.Z);var Xt=L(6217),Bn=L(9260);function Cr(c){const r=function Kn(c){return new Te.y(r=>{const o=A=>r.next(A);o(c.snapshot);const E=c.on("state_changed",o);return c.then(A=>{o(A),r.complete()},A=>{o(c.snapshot),(A=>{r.error(A)})(A)}),function(){E()}}).pipe((0,Be.b)(0))}(c);return{task:c,then:c.then.bind(c),catch:c.catch.bind(c),pause:c.pause.bind(c),cancel:c.cancel.bind(c),resume:c.resume.bind(c),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,$e.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function On(c){return{getDownloadURL:()=>(0,me.of)(void 0).pipe(nt.fc,(0,Ye.w)(()=>c.getDownloadURL()),nt.iC),getMetadata:()=>(0,me.of)(void 0).pipe(nt.fc,(0,Ye.w)(()=>c.getMetadata()),nt.iC),delete:()=>(0,Se.D)(c.delete()),child:r=>On(c.child(r)),updateMetadata:r=>(0,Se.D)(c.updateMetadata(r)),put:(r,o)=>Cr(c.put(r,o)),putString:(r,o,u)=>Cr(c.putString(r,o,u)),list:r=>(0,Se.D)(c.list(r)),listAll:()=>(0,Se.D)(c.listAll())}}const Gi=new y.OlP("angularfire2.storageBucket"),z=new y.OlP("angularfire2.storage.maxUploadRetryTime"),V=new y.OlP("angularfire2.storage.maxOperationRetryTime"),k=new y.OlP("angularfire2.storage.use-emulator");let le=(()=>{class c{constructor(o,u,p,E,A,B,Y,se,Xe,ut){const Ct=(0,ye.on)(o,A,u);this.storage=(0,ye.cc)(`${Ct.name}.storage.${p}`,"AngularFireStorage",Ct.name,()=>{const Zt=A.runOutsideAngular(()=>Ct.storage(p||void 0)),nn=Xe;return nn&&Zt.useEmulator(...nn),Y&&Zt.setMaxUploadRetryTime(Y),se&&Zt.setMaxOperationRetryTime(se),Zt},[Y,se])}ref(o){return On(this.storage.ref(o))}refFromURL(o){return On(this.storage.refFromURL(o))}upload(o,u,p){return On(this.storage.ref(o)).put(u,p)}}return c.\u0275fac=function(o){return new(o||c)(y.LFG(ye.Dh),y.LFG(ye.xv,8),y.LFG(Gi,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(nt.HU),y.LFG(z,8),y.LFG(V,8),y.LFG(k,8),y.LFG(Xt.nm,8))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),kn=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({}),c})(),li=(()=>{class c{constructor(){Bn.Z.registerVersion("angularfire",nt.q4.full,"gcs-compat")}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:[le],imports:[kn]}),c})();var Vt=L(3101),Zn=L(4986),ia=L(6451),Aa=L(3099),vs=L(5026),ml=L(1884),Ya=L(4482),Ts=L(5403),yl=L(8421),Ma=L(4671),Al=L(5032),ho=L(3269);L(9568);var Ss=L(1877);const fo="@firebase/database";let sa="";function Ra(c){sa=c}class Ml{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,o){null==o?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,Q.Wl)(o))}get(r){const o=this.domStorage_.getItem(this.prefixedName_(r));return null==o?null:(0,Q.cI)(o)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Za{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,o){null==o?delete this.cache_[r]:this.cache_[r]=o}get(r){return(0,Q.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Qa=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const r=window[c];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Ml(r)}}catch{}return new Za},Es=Qa("localStorage"),xa=Qa("sessionStorage"),Gs=new Ss.Yd("@firebase/database"),Xa=function(){let c=1;return function(){return c++}}(),Ho=function(c){const r=(0,Q.dS)(c),o=new Q.gQ;o.update(r);const u=o.digest();return Q.US.encodeByteArray(u)},zo=function(...c){let r="";for(let o=0;o<c.length;o++){const u=c[o];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?r+=zo.apply(null,u):r+="object"==typeof u?(0,Q.Wl)(u):u,r+=" "}return r};let po=null,Ec=!0;const Rl=function(c,r){(0,Q.hu)(!r||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(Gs.logLevel=Ss.in.VERBOSE,po=Gs.log.bind(Gs),r&&xa.set("logging_enabled",!0)):"function"==typeof c?po=c:(po=null,xa.remove("logging_enabled"))},Ni=function(...c){if(!0===Ec&&(Ec=!1,null===po&&!0===xa.get("logging_enabled")&&Rl(!0)),po){const r=zo.apply(null,c);po(r)}},ma=function(c){return function(...r){Ni(c,...r)}},xl=function(...c){const r="FIREBASE INTERNAL ERROR: "+zo(...c);Gs.error(r)},io=function(...c){const r=`FIREBASE FATAL ERROR: ${zo(...c)}`;throw Gs.error(r),new Error(r)},fi=function(...c){const r="FIREBASE WARNING: "+zo(...c);Gs.warn(r)},Yr=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},xo="[MIN_NAME]",yi="[MAX_NAME]",Oa=function(c,r){if(c===r)return 0;if(c===xo||r===yi)return-1;if(r===xo||c===yi)return 1;{const o=$n(c),u=$n(r);return null!==o?null!==u?o-u==0?c.length-r.length:o-u:-1:null!==u?1:c<r?-1:1}},so=function(c,r){return c===r?0:c<r?-1:1},Na=function(c,r){if(r&&c in r)return r[c];throw new Error("Missing required key ("+c+") in object: "+(0,Q.Wl)(r))},ka=function(c){if("object"!=typeof c||null===c)return(0,Q.Wl)(c);const r=[];for(const u in c)r.push(u);r.sort();let o="{";for(let u=0;u<r.length;u++)0!==u&&(o+=","),o+=(0,Q.Wl)(r[u]),o+=":",o+=ka(c[r[u]]);return o+="}",o},Ic=function(c,r){const o=c.length;if(o<=r)return[c];const u=[];for(let p=0;p<o;p+=r)u.push(c.substring(p,p+r>o?o:p+r));return u};function Ji(c,r){for(const o in c)c.hasOwnProperty(o)&&r(o,c[o])}const F=function(c){(0,Q.hu)(!Yr(c),"Invalid JSON number");const u=1023;let p,E,A,B,Y;0===c?(E=0,A=0,p=1/c==-1/0?1:0):(p=c<0,(c=Math.abs(c))>=Math.pow(2,1-u)?(B=Math.min(Math.floor(Math.log(c)/Math.LN2),u),E=B+u,A=Math.round(c*Math.pow(2,52-B)-Math.pow(2,52))):(E=0,A=Math.round(c/Math.pow(2,-1074))));const se=[];for(Y=52;Y;Y-=1)se.push(A%2?1:0),A=Math.floor(A/2);for(Y=11;Y;Y-=1)se.push(E%2?1:0),E=Math.floor(E/2);se.push(p?1:0),se.reverse();const Xe=se.join("");let ut="";for(Y=0;Y<64;Y+=8){let Ct=parseInt(Xe.substr(Y,8),2).toString(16);1===Ct.length&&(Ct="0"+Ct),ut+=Ct}return ut.toLowerCase()},Ne=new RegExp("^-?(0*)\\d{1,10}$"),$n=function(c){if(Ne.test(c)){const r=Number(c);if(r>=-2147483648&&r<=2147483647)return r}return null},Mr=function(c){try{c()}catch(r){setTimeout(()=>{throw fi("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Gt=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tr=function(c,r){const o=setTimeout(c,r);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Tr{constructor(r,o){this.appName_=r,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(u=>this.appCheck=u)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((o,u)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(o,u):o(null)},0)})}addTokenChangeListener(r){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(u=>u.addTokenListener(r))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Qi{constructor(r,o,u){this.appName_=r,this.firebaseOptions_=o,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(p=>this.auth_=p)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(o=>o&&"auth/token-not-initialized"===o.code?(Ni("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,u)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(o,u):o(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(o=>o.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(o=>o.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(r)}}let fn=(()=>{class c{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const wi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tl="websocket",bu="long_polling";class Jl{constructor(r,o,u,p,E=!1,A="",B=!1,Y=!1){this.secure=o,this.namespace=u,this.webSocketOnly=p,this.nodeAdmin=E,this.persistenceKey=A,this.includeNamespaceInQueryParams=B,this.isUsingEmulator=Y,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Es.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Es.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function wc(c,r,o){let u;if((0,Q.hu)("string"==typeof r,"typeof type must == string"),(0,Q.hu)("object"==typeof o,"typeof params must == object"),r===tl)u=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(r!==bu)throw new Error("Unknown connection type: "+r);u=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function Pl(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(o.ns=c.namespace);const p=[];return Ji(o,(E,A)=>{p.push(E+"="+A)}),u+p.join("&")}class oa{constructor(){this.counters_={}}incrementCounter(r,o=1){(0,Q.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=o}get(){return(0,Q.p$)(this.counters_)}}const qc={},Po={};function or(c){const r=c.toString();return qc[r]||(qc[r]=new oa),qc[r]}class Fa{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,o){this.closeAfterResponse=r,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,o){for(this.pendingResponses[r]=o;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<u.length;++p)u[p]&&Mr(()=>{this.onMessage_(u[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class la{constructor(r,o,u,p,E,A,B){this.connId=r,this.repoInfo=o,this.applicationId=u,this.appCheckToken=p,this.authToken=E,this.transportSessionId=A,this.lastSessionId=B,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ma(r),this.stats_=or(o),this.urlFn=Y=>(this.appCheckToken&&(Y.ac=this.appCheckToken),wc(o,bu,Y))}open(r,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Fa(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,Q.Yr)()||"complete"===document.readyState)c();else{let r=!1;const o=function(){document.body?r||(r=!0,c()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nl((...E)=>{const[A,B,Y,se,Xe]=E;if(this.incrementIncomingBytes_(E),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===A)this.id=B,this.password=Y;else{if("close"!==A)throw new Error("Unrecognized command received: "+A);B?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(B,()=>{this.onClosed_()})):this.onClosed_()}},(...E)=>{const[A,B]=E;this.incrementIncomingBytes_(E),this.myPacketOrderer.handleResponse(A,B)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wi.test(location.hostname)&&(u.r="f");const p=this.urlFn(u);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){la.forceAllow_=!0}static forceDisallow(){la.forceDisallow_=!0}static isAvailable(){return!((0,Q.Yr)()||!la.forceAllow_&&(la.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const o=(0,Q.Wl)(r);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=(0,Q.h$)(o),p=Ic(u,1840);for(let E=0;E<p.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[E]),this.curSegmentNum++}addDisconnectPingFrame(r,o){if((0,Q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=r,u.pw=o,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const o=(0,Q.Wl)(r).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Nl{constructor(r,o,u,p){if(this.onDisconnect=u,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.Yr)())this.commandCB=r,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Xa(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Nl.createIFrame_();let E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(E='<script>document.domain="'+document.domain+'";<\/script>');const A="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch(B){Ni("frame writing exception"),B.stack&&Ni(B.stack),Ni(B)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Ni("No IE domain setting required")}catch{const u=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,o){for(this.myID=r,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let o=this.urlFn(r),u="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const A=this.pendingSegs.shift();u=u+"&seg"+p+"="+A.seg+"&ts"+p+"="+A.ts+"&d"+p+"="+A.d,p++}return o+=u,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(r,o,u){this.pendingSegs.push({seg:r,ts:o,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(r,o){this.outstandingRequests.add(o);const u=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(u,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(p),u()})}addTag(r,o){(0,Q.Yr)()?this.doNodeLongPoll(r,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=r,u.onload=u.onreadystatechange=function(){const p=u.readyState;(!p||"loaded"===p||"complete"===p)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),o())},u.onerror=()=>{Ni("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let vo=null;typeof MozWebSocket<"u"?vo=MozWebSocket:typeof WebSocket<"u"&&(vo=WebSocket);let Ft=(()=>{class c{constructor(o,u,p,E,A,B,Y){this.connId=o,this.applicationId=p,this.appCheckToken=E,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ma(this.connId),this.stats_=or(u),this.connURL=c.connectionURL_(u,B,Y,E,p),this.nodeAdmin=u.nodeAdmin}static connectionURL_(o,u,p,E,A){const B={v:"5"};return!(0,Q.Yr)()&&typeof location<"u"&&location.hostname&&wi.test(location.hostname)&&(B.r="f"),u&&(B.s=u),p&&(B.ls=p),E&&(B.ac=E),A&&(B.p=A),wc(o,tl,B)}open(o,u){this.onDisconnect=u,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Es.set("previous_websocket_failure",!0);try{let p;if((0,Q.Yr)()){p={headers:{"User-Agent":`Firebase/5/${sa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const A=process.env,B=0===this.connURL.indexOf("wss://")?A.HTTPS_PROXY||A.https_proxy:A.HTTP_PROXY||A.http_proxy;B&&(p.proxy={origin:B})}this.mySock=new vo(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const E=p.message||p.data;return E&&this.log_(E),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const E=p.message||p.data;E&&this.log_(E),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==vo&&!c.forceDisallow_}static previouslyFailed(){return Es.isInMemoryStorage||!0===Es.get("previous_websocket_failure")}markConnectionHealthy(){Es.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const p=(0,Q.cI)(u);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,Q.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const u=Number(o);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const u=o.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const p=this.extractFrameCount_(u);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const u=(0,Q.Wl)(o);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const p=Ic(u,16384);p.length>1&&this.sendString_(String(p.length));for(let E=0;E<p.length;E++)this.sendString_(p[E])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),kl=(()=>{class c{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[la,Ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const u=Ft&&Ft.isAvailable();let p=u&&!Ft.previouslyFailed();if(o.webSocketOnly&&(u||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Ft];else{const E=this.transports_=[];for(const A of c.ALL_TRANSPORTS)A&&A.isAvailable()&&E.push(A);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class pi{constructor(r,o,u,p,E,A,B,Y,se,Xe){this.id=r,this.repoInfo_=o,this.applicationId_=u,this.appCheckToken_=p,this.authToken_=E,this.onMessage_=A,this.onReady_=B,this.onDisconnect_=Y,this.onKill_=se,this.lastSessionId=Xe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ma("c:"+this.id+":"),this.transportManager_=new kl(o),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,u)},Math.floor(0));const p=r.healthyTimeout||0;p>0&&(this.healthyTimeout_=tr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return o=>{r===this.conn_?this.onConnectionLost_(o):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return o=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(o):r===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const o=r.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const o=Na("t",r),u=Na("d",r);if("c"===o)this.onSecondaryControl_(u);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const o=Na("t",r),u=Na("d",r);"c"===o?this.onControl_(u):"d"===o&&this.onDataMessage_(u)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const o=Na("t",r);if("d"in r){const u=r.d;if("h"===o){const p=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(u):"r"===o?this.onReset_(u):"e"===o?xl("Server Error: "+u):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xl("Unknown control packet command: "+o)}}onHandshake_(r){const o=r.ts,u=r.v,p=r.h;this.sessionId=r.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==u&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,u),tr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,o){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bc{put(r,o,u,p){}merge(r,o,u,p){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,o,u){}onDisconnectMerge(r,o,u){}onDisconnectCancel(r,o){}reportStats(r){}}class $a{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,Q.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...o){if(Array.isArray(this.listeners_[r])){const u=[...this.listeners_[r]];for(let p=0;p<u.length;p++)u[p].callback.apply(u[p].context,o)}}on(r,o,u){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:o,context:u});const p=this.getInitialEvent(r);p&&o.apply(u,p)}off(r,o,u){this.validateEventType_(r);const p=this.listeners_[r]||[];for(let E=0;E<p.length;E++)if(p[E].callback===o&&(!u||u===p[E].context))return void p.splice(E,1)}validateEventType_(r){(0,Q.hu)(this.allowedEvents_.find(o=>o===r),"Unknown event: "+r)}}class oo extends $a{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oo}getInitialEvent(r){return(0,Q.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}const ko=32,S=768;class R{constructor(r,o){if(void 0===o){this.pieces_=r.split("/");let u=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[u]=this.pieces_[p],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=o}toString(){let r="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(r+="/"+this.pieces_[o]);return r||"/"}}function w(){return new R("")}function x(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function H(c){return c.pieces_.length-c.pieceNum_}function re(c){let r=c.pieceNum_;return r<c.pieces_.length&&r++,new R(c.pieces_,r)}function fe(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function Nt(c,r=0){return c.pieces_.slice(c.pieceNum_+r)}function wn(c){if(c.pieceNum_>=c.pieces_.length)return null;const r=[];for(let o=c.pieceNum_;o<c.pieces_.length-1;o++)r.push(c.pieces_[o]);return new R(r,0)}function mn(c,r){const o=[];for(let u=c.pieceNum_;u<c.pieces_.length;u++)o.push(c.pieces_[u]);if(r instanceof R)for(let u=r.pieceNum_;u<r.pieces_.length;u++)o.push(r.pieces_[u]);else{const u=r.split("/");for(let p=0;p<u.length;p++)u[p].length>0&&o.push(u[p])}return new R(o,0)}function cn(c){return c.pieceNum_>=c.pieces_.length}function Rr(c,r){const o=x(c),u=x(r);if(null===o)return r;if(o===u)return Rr(re(c),re(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+c+")")}function ws(c,r){const o=Nt(c,0),u=Nt(r,0);for(let p=0;p<o.length&&p<u.length;p++){const E=Oa(o[p],u[p]);if(0!==E)return E}return o.length===u.length?0:o.length<u.length?-1:1}function Ks(c,r){if(H(c)!==H(r))return!1;for(let o=c.pieceNum_,u=r.pieceNum_;o<=c.pieces_.length;o++,u++)if(c.pieces_[o]!==r.pieces_[u])return!1;return!0}function as(c,r){let o=c.pieceNum_,u=r.pieceNum_;if(H(c)>H(r))return!1;for(;o<c.pieces_.length;){if(c.pieces_[o]!==r.pieces_[u])return!1;++o,++u}return!0}class As{constructor(r,o){this.errorPrefix_=o,this.parts_=Nt(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,Q.ug)(this.parts_[u]);rl(this)}}function rl(c){if(c.byteLength_>S)throw new Error(c.errorPrefix_+"has a key path longer than "+S+" bytes ("+c.byteLength_+").");if(c.parts_.length>ko)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ko+") or object contains a cycle "+ps(c))}function ps(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class Ua extends $a{constructor(){let r,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const u=!document[r];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Ua}getInitialEvent(r){return(0,Q.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Va=1e3;let Un,vt=(()=>{class c extends bc{constructor(o,u,p,E,A,B,Y,se){if(super(),this.repoInfo_=o,this.applicationId_=u,this.onDataUpdate_=p,this.onConnectStatus_=E,this.onServerInfoUpdate_=A,this.authTokenProvider_=B,this.appCheckTokenProvider_=Y,this.authOverride_=se,this.id=c.nextPersistentConnectionId_++,this.log_=ma("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Va,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,se&&!(0,Q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ua.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(o,u,p){const E=++this.requestNumber_,A={r:E,a:o,b:u};this.log_((0,Q.Wl)(A)),(0,Q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(A),p&&(this.requestCBHash_[E]=p)}get(o){this.initConnection_();const u=new Q.BH,E={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:B=>{const Y=B.d;"ok"===B.s?u.resolve(Y):u.reject(Y)}};return this.outstandingGets_.push(E),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(o,u,p,E){this.initConnection_();const A=o._queryIdentifier,B=o._path.toString();this.log_("Listen called for "+B+" "+A),this.listens.has(B)||this.listens.set(B,new Map),(0,Q.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.hu)(!this.listens.get(B).has(A),"listen() called twice for same path/queryId.");const Y={onComplete:E,hashFn:u,query:o,tag:p};this.listens.get(B).set(A,Y),this.connected_&&this.sendListen_(Y)}sendGet_(o){const u=this.outstandingGets_[o];this.sendRequest("g",u.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(p)})}sendListen_(o){const u=o.query,p=u._path.toString(),E=u._queryIdentifier;this.log_("Listen on "+p+" for "+E);const A={p};o.tag&&(A.q=u._queryObject,A.t=o.tag),A.h=o.hashFn(),this.sendRequest("q",A,Y=>{const se=Y.d,Xe=Y.s;c.warnOnListenWarnings_(se,u),(this.listens.get(p)&&this.listens.get(p).get(E))===o&&(this.log_("listen response",Y),"ok"!==Xe&&this.removeListen_(p,E),o.onComplete&&o.onComplete(Xe,se))})}static warnOnListenWarnings_(o,u){if(o&&"object"==typeof o&&(0,Q.r3)(o,"w")){const p=(0,Q.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const E='".indexOn": "'+u._queryParams.getIndex().toString()+'"',A=u._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${E} at ${A} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,Q.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,u=(0,Q.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(u,p,E=>{const A=E.s,B=E.d||"error";this.authToken_===o&&("ok"===A?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(A,B))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const u=o.s,p=o.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,p)})}unlisten(o,u){const p=o._path.toString(),E=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+E),(0,Q.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,E)&&this.connected_&&this.sendUnlisten_(p,E,o._queryObject,u)}sendUnlisten_(o,u,p,E){this.log_("Unlisten on "+o+" for "+u);const A={p:o};E&&(A.q=p,A.t=E),this.sendRequest("n",A)}onDisconnectPut(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:u,onComplete:p})}onDisconnectMerge(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:u,onComplete:p})}onDisconnectCancel(o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,u):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(o,u,p,E){const A={p:u,d:p};this.log_("onDisconnect "+o,A),this.sendRequest(o,A,B=>{E&&setTimeout(()=>{E(B.s,B.d)},Math.floor(0))})}put(o,u,p,E){this.putInternal("p",o,u,p,E)}merge(o,u,p,E){this.putInternal("m",o,u,p,E)}putInternal(o,u,p,E,A){this.initConnection_();const B={p:u,d:p};void 0!==A&&(B.h=A),this.outstandingPuts_.push({action:o,request:B,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(o){const u=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,E=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(u,p,A=>{this.log_(u+" response",A),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),E&&E(A.s,A.d)})}reportStats(o){if(this.connected_){const u={c:o};this.log_("reportStats",u),this.sendRequest("s",u,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,Q.Wl)(o));const u=o.r,p=this.requestCBHash_[u];p&&(delete this.requestCBHash_[u],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,u){this.log_("handleServerMessage",o,u),"d"===o?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===o?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===o?this.onListenRevoked_(u.p,u.q):"ac"===o?this.onAuthRevoked_(u.s,u.d):"apc"===o?this.onAppCheckRevoked_(u.s,u.d):"sd"===o?this.onSecurityDebugPacket_(u):xl("Unrecognized action received from server: "+(0,Q.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,Q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Ce.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const u=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),E=o.onRealtimeDisconnect_.bind(o),A=o.id+":"+c.nextConnectionId_++,B=o.lastSessionId;let Y=!1,se=null;const Xe=function(){se?se.close():(Y=!0,E())};o.realtime_={close:Xe,sendRequest:function(Zt){(0,Q.hu)(se,"sendRequest call when we're not connected not allowed."),se.sendRequest(Zt)}};const Ct=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[Zt,nn]=yield Promise.all([o.authTokenProvider_.getToken(Ct),o.appCheckTokenProvider_.getToken(Ct)]);Y?Ni("getToken() completed but was canceled"):(Ni("getToken() completed. Creating connection."),o.authToken_=Zt&&Zt.accessToken,o.appCheckToken_=nn&&nn.token,se=new pi(A,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,u,p,E,xn=>{fi(xn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},B))}catch(Zt){o.log_("Failed to get token: "+Zt),Y||(o.repoInfo_.nodeAdmin&&fi(Zt),Xe())}}})()}interrupt(o){Ni("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){Ni("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,Q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const u=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const u=this.outstandingPuts_[o];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,u){let p;p=u?u.map(A=>ka(A)).join("$"):"default";const E=this.removeListen_(o,p);E&&E.onComplete&&E.onComplete("permission_denied")}removeListen_(o,u){const p=new R(o).toString();let E;if(this.listens.has(p)){const A=this.listens.get(p);E=A.get(u),A.delete(u),0===A.size&&this.listens.delete(p)}else E=void 0;return E}onAuthRevoked_(o,u){Ni("Auth token revoked: "+o+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,u){Ni("App check token revoked: "+o+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const u of o.values())this.sendListen_(u);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let u="js";(0,Q.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+u+"."+sa.replace(/\./g,"-")]=1,(0,Q.uI)()?o["framework.cordova"]=1:(0,Q.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=oo.getInstance().currentlyOnline();return(0,Q.xb)(this.interruptReasons_)&&o}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class ft{constructor(r,o){this.name=r,this.node=o}static Wrap(r,o){return new ft(r,o)}}class un{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,o){const u=new ft(xo,r),p=new ft(xo,o);return 0!==this.compare(u,p)}minPost(){return ft.MIN}}class Hn extends un{static get __EMPTY_NODE(){return Un}static set __EMPTY_NODE(r){Un=r}compare(r,o){return Oa(r.name,o.name)}isDefinedOn(r){throw(0,Q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,o){return!1}minPost(){return ft.MIN}maxPost(){return new ft(yi,Un)}makePost(r,o){return(0,Q.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new ft(r,Un)}toString(){return".key"}}const ur=new Hn;class ni{constructor(r,o,u,p,E=null){this.isReverse_=p,this.resultGenerator_=E,this.nodeStack_=[];let A=1;for(;!r.isEmpty();)if(A=o?u(r.key,o):1,p&&(A*=-1),A<0)r=this.isReverse_?r.left:r.right;else{if(0===A){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,r=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Ha,Wn=(()=>{class c{constructor(o,u,p,E,A){this.key=o,this.value=u,this.color=null!=p?p:c.RED,this.left=null!=E?E:ai.EMPTY_NODE,this.right=null!=A?A:ai.EMPTY_NODE}copy(o,u,p,E,A){return new c(null!=o?o:this.key,null!=u?u:this.value,null!=p?p:this.color,null!=E?E:this.left,null!=A?A:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,u,p){let E=this;const A=p(o,E.key);return E=A<0?E.copy(null,null,null,E.left.insert(o,u,p),null):0===A?E.copy(null,u,null,null,null):E.copy(null,null,null,null,E.right.insert(o,u,p)),E.fixUp_()}removeMin_(){if(this.left.isEmpty())return ai.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,u){let p,E;if(p=this,u(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,u),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===u(o,p.key)){if(p.right.isEmpty())return ai.EMPTY_NODE;E=p.right.min_(),p=p.copy(E.key,E.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,u))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,u)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class ai{constructor(r,o=ai.EMPTY_NODE){this.comparator_=r,this.root_=o}insert(r,o){return new ai(this.comparator_,this.root_.insert(r,o,this.comparator_).copy(null,null,Wn.BLACK,null,null))}remove(r){return new ai(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Wn.BLACK,null,null))}get(r){let o,u=this.root_;for(;!u.isEmpty();){if(o=this.comparator_(r,u.key),0===o)return u.value;o<0?u=u.left:o>0&&(u=u.right)}return null}getPredecessorKey(r){let o,u=this.root_,p=null;for(;!u.isEmpty();){if(o=this.comparator_(r,u.key),0===o){if(u.left.isEmpty())return p?p.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}o<0?u=u.left:o>0&&(p=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new ni(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,o){return new ni(this.root_,r,this.comparator_,!1,o)}getReverseIteratorFrom(r,o){return new ni(this.root_,r,this.comparator_,!0,o)}getReverseIterator(r){return new ni(this.root_,null,this.comparator_,!0,r)}}function ts(c,r){return Oa(c.name,r.name)}function ja(c,r){return Oa(c,r)}ai.EMPTY_NODE=new class va{copy(r,o,u,p,E){return this}insert(r,o,u){return new Wn(r,o,null)}remove(r,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ko=function(c){return"number"==typeof c?"number:"+F(c):"string:"+c},Qc=function(c){if(c.isLeafNode()){const r=c.val();(0,Q.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,Q.r3)(r,".sv"),"Priority must be a string or number.")}else(0,Q.hu)(c===Ha||c.isEmpty(),"priority of unexpected type.");(0,Q.hu)(c===Ha||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Bl,Cc,tc,Ea=(()=>{class c{constructor(o,u=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=u,this.lazyHash_=null,(0,Q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qc(this.priorityNode_)}static set __childrenNodeConstructor(o){Bl=o}static get __childrenNodeConstructor(){return Bl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new c(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return cn(o)?this:".priority"===x(o)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,u){return null}updateImmediateChild(o,u){return".priority"===o?this.updatePriority(u):u.isEmpty()&&".priority"!==o?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,u).updatePriority(this.priorityNode_)}updateChild(o,u){const p=x(o);return null===p?u:u.isEmpty()&&".priority"!==p?this:((0,Q.hu)(".priority"!==p||1===H(o),".priority must be the last token in a path"),this.updateImmediateChild(p,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(o),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,u){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+Ko(this.priorityNode_.val())+":");const u=typeof this.value_;o+=u+":",o+="number"===u?F(this.value_):this.value_,this.lazyHash_=Ho(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===c.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof c.__childrenNodeConstructor?-1:((0,Q.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const u=typeof o.value_,p=typeof this.value_,E=c.VALUE_TYPE_ORDER.indexOf(u),A=c.VALUE_TYPE_ORDER.indexOf(p);return(0,Q.hu)(E>=0,"Unknown leaf type: "+u),(0,Q.hu)(A>=0,"Unknown leaf type: "+p),E===A?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:A-E}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const ns=new class $l extends un{compare(r,o){const u=r.node.getPriority(),p=o.node.getPriority(),E=u.compareTo(p);return 0===E?Oa(r.name,o.name):E}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,o){return!r.getPriority().equals(o.getPriority())}minPost(){return ft.MIN}maxPost(){return new ft(yi,new Ea("[PRIORITY-POST]",tc))}makePost(r,o){const u=Cc(r);return new ft(o,new Ea("[PRIORITY-POST]",u))}toString(){return".priority"}},Du=Math.log(2);class Tu{constructor(r){this.count=parseInt(Math.log(r+1)/Du,10),this.current_=this.count-1;const p=(E=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&p}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const nc=function(c,r,o,u){c.sort(r);const p=function(Y,se){const Xe=se-Y;let ut,Ct;if(0===Xe)return null;if(1===Xe)return ut=c[Y],Ct=o?o(ut):ut,new Wn(Ct,ut.node,Wn.BLACK,null,null);{const Zt=parseInt(Xe/2,10)+Y,nn=p(Y,Zt),xn=p(Zt+1,se);return ut=c[Zt],Ct=o?o(ut):ut,new Wn(Ct,ut.node,Wn.BLACK,nn,xn)}},B=function(Y){let se=null,Xe=null,ut=c.length;const Ct=function(nn,xn){const nr=ut-nn,kr=ut;ut-=nn;const Ai=p(nr+1,kr),vi=c[nr],bi=o?o(vi):vi;Zt(new Wn(bi,vi.node,xn,null,Ai))},Zt=function(nn){se?(se.left=nn,se=nn):(Xe=nn,se=nn)};for(let nn=0;nn<Y.count;++nn){const xn=Y.nextBitIsOne(),nr=Math.pow(2,Y.count-(nn+1));xn?Ct(nr,Wn.BLACK):(Ct(nr,Wn.BLACK),Ct(nr,Wn.RED))}return Xe}(new Tu(c.length));return new ai(u||r,B)};let cd;const Il={};class rc{constructor(r,o){this.indexes_=r,this.indexSet_=o}static get Default(){return(0,Q.hu)(Il&&ns,"ChildrenNode.ts has not been loaded"),cd=cd||new rc({".priority":Il},{".priority":ns}),cd}get(r){const o=(0,Q.DV)(this.indexes_,r);if(!o)throw new Error("No index defined for "+r);return o instanceof ai?o:null}hasIndex(r){return(0,Q.r3)(this.indexSet_,r.toString())}addIndex(r,o){(0,Q.hu)(r!==ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let p=!1;const E=o.getIterator(ft.Wrap);let B,A=E.getNext();for(;A;)p=p||r.isDefinedOn(A.node),u.push(A),A=E.getNext();B=p?nc(u,r.getCompare()):Il;const Y=r.toString(),se=Object.assign({},this.indexSet_);se[Y]=r;const Xe=Object.assign({},this.indexes_);return Xe[Y]=B,new rc(Xe,se)}addToIndexes(r,o){const u=(0,Q.UI)(this.indexes_,(p,E)=>{const A=(0,Q.DV)(this.indexSet_,E);if((0,Q.hu)(A,"Missing index implementation for "+E),p===Il){if(A.isDefinedOn(r.node)){const B=[],Y=o.getIterator(ft.Wrap);let se=Y.getNext();for(;se;)se.name!==r.name&&B.push(se),se=Y.getNext();return B.push(r),nc(B,A.getCompare())}return Il}{const B=o.get(r.name);let Y=p;return B&&(Y=Y.remove(new ft(r.name,B))),Y.insert(r,r.node)}});return new rc(u,this.indexSet_)}removeFromIndexes(r,o){const u=(0,Q.UI)(this.indexes_,p=>{if(p===Il)return p;{const E=o.get(r.name);return E?p.remove(new ft(r.name,E)):p}});return new rc(u,this.indexSet_)}}let ud,Ur=(()=>{class c{constructor(o,u,p){this.children_=o,this.priorityNode_=u,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&Qc(this.priorityNode_),this.children_.isEmpty()&&(0,Q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ud||(ud=new c(new ai(ja),null,rc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ud}updatePriority(o){return this.children_.isEmpty()?this:new c(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const u=this.children_.get(o);return null===u?ud:u}}getChild(o){const u=x(o);return null===u?this:this.getImmediateChild(u).getChild(re(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,u){if((0,Q.hu)(u,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(u);{const p=new ft(o,u);let E,A;u.isEmpty()?(E=this.children_.remove(o),A=this.indexMap_.removeFromIndexes(p,this.children_)):(E=this.children_.insert(o,u),A=this.indexMap_.addToIndexes(p,this.children_));const B=E.isEmpty()?ud:this.priorityNode_;return new c(E,B,A)}}updateChild(o,u){const p=x(o);if(null===p)return u;{(0,Q.hu)(".priority"!==x(o)||1===H(o),".priority must be the last token in a path");const E=this.getImmediateChild(p).updateChild(re(o),u);return this.updateImmediateChild(p,E)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const u={};let p=0,E=0,A=!0;if(this.forEachChild(ns,(B,Y)=>{u[B]=Y.val(o),p++,A&&c.INTEGER_REGEXP_.test(B)?E=Math.max(E,Number(B)):A=!1}),!o&&A&&E<2*p){const B=[];for(const Y in u)B[Y]=u[Y];return B}return o&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+Ko(this.getPriority().val())+":"),this.forEachChild(ns,(u,p)=>{const E=p.hash();""!==E&&(o+=":"+u+":"+E)}),this.lazyHash_=""===o?"":Ho(o)}return this.lazyHash_}getPredecessorChildName(o,u,p){const E=this.resolveIndex_(p);if(E){const A=E.getPredecessorKey(new ft(o,u));return A?A.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const u=this.getFirstChildName(o);return u?new ft(u,this.children_.get(u)):null}getLastChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const u=this.getLastChildName(o);return u?new ft(u,this.children_.get(u)):null}forEachChild(o,u){const p=this.resolveIndex_(o);return p?p.inorderTraversal(E=>u(E.name,E.node)):this.children_.inorderTraversal(u)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getIteratorFrom(o,E=>E);{const E=this.children_.getIteratorFrom(o.name,ft.Wrap);let A=E.peek();for(;null!=A&&u.compare(A,o)<0;)E.getNext(),A=E.peek();return E}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getReverseIteratorFrom(o,E=>E);{const E=this.children_.getReverseIteratorFrom(o.name,ft.Wrap);let A=E.peek();for(;null!=A&&u.compare(A,o)>0;)E.getNext(),A=E.peek();return E}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Tc?-1:0}withIndex(o){if(o===ur||this.indexMap_.hasIndex(o))return this;{const u=this.indexMap_.addIndex(o,this.children_);return new c(this.children_,this.priorityNode_,u)}}isIndexed(o){return o===ur||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const u=o;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const p=this.getIterator(ns),E=u.getIterator(ns);let A=p.getNext(),B=E.getNext();for(;A&&B;){if(A.name!==B.name||!A.node.equals(B.node))return!1;A=p.getNext(),B=E.getNext()}return null===A&&null===B}return!1}return!1}}resolveIndex_(o){return o===ur?null:this.indexMap_.get(o.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const Tc=new class Dc extends Ur{constructor(){super(new ai(ja),Ur.EMPTY_NODE,rc.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Ur.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ft,{MIN:{value:new ft(xo,Ur.EMPTY_NODE)},MAX:{value:new ft(yi,Tc)}}),Hn.__EMPTY_NODE=Ur.EMPTY_NODE,Ea.__childrenNodeConstructor=Ur,function Fo(c){Ha=c}(Tc),function Xc(c){tc=c}(Tc);const gp=!0;function fs(c,r=null){if(null===c)return Ur.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(r=c[".priority"]),(0,Q.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new Ea(c,fs(r));if(c instanceof Array||!gp){let o=Ur.EMPTY_NODE;return Ji(c,(u,p)=>{if((0,Q.r3)(c,u)&&"."!==u.substring(0,1)){const E=fs(p);(E.isLeafNode()||!E.isEmpty())&&(o=o.updateImmediateChild(u,E))}}),o.updatePriority(fs(r))}{const o=[];let u=!1;if(Ji(c,(A,B)=>{if("."!==A.substring(0,1)){const Y=fs(B);Y.isEmpty()||(u=u||!Y.getPriority().isEmpty(),o.push(new ft(A,Y)))}}),0===o.length)return Ur.EMPTY_NODE;const E=nc(o,ts,A=>A.name,ja);if(u){const A=nc(o,ns.getCompare());return new Ur(E,fs(r),new rc({".priority":A},{".priority":ns}))}return new Ur(E,fs(r),rc.Default)}}!function El(c){Cc=c}(fs);class dd extends un{constructor(r){super(),this.indexPath_=r,(0,Q.hu)(!cn(r)&&".priority"!==x(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,o){const u=this.extractChild(r.node),p=this.extractChild(o.node),E=u.compareTo(p);return 0===E?Oa(r.name,o.name):E}makePost(r,o){const u=fs(r),p=Ur.EMPTY_NODE.updateChild(this.indexPath_,u);return new ft(o,p)}maxPost(){const r=Ur.EMPTY_NODE.updateChild(this.indexPath_,Tc);return new ft(yi,r)}toString(){return Nt(this.indexPath_,0).join("/")}}const qs=new class Ia extends un{compare(r,o){const u=r.node.compareTo(o.node);return 0===u?Oa(r.name,o.name):u}isDefinedOn(r){return!0}indexedValueChanged(r,o){return!r.equals(o)}minPost(){return ft.MIN}maxPost(){return ft.MAX}makePost(r,o){const u=fs(r);return new ft(o,u)}toString(){return".value"}};function af(c){return{type:"value",snapshotNode:c}}function Vi(c,r){return{type:"child_added",snapshotNode:r,childName:c}}function za(c,r){return{type:"child_removed",snapshotNode:r,childName:c}}function Sc(c,r,o){return{type:"child_changed",snapshotNode:r,childName:c,oldSnap:o}}class Ac{constructor(r){this.index_=r}updateChild(r,o,u,p,E,A){(0,Q.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const B=r.getImmediateChild(o);return B.getChild(p).equals(u.getChild(p))&&B.isEmpty()===u.isEmpty()||(null!=A&&(u.isEmpty()?r.hasChild(o)?A.trackChildChange(za(o,B)):(0,Q.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):B.isEmpty()?A.trackChildChange(Vi(o,u)):A.trackChildChange(Sc(o,u,B))),r.isLeafNode()&&u.isEmpty())?r:r.updateImmediateChild(o,u).withIndex(this.index_)}updateFullNode(r,o,u){return null!=u&&(r.isLeafNode()||r.forEachChild(ns,(p,E)=>{o.hasChild(p)||u.trackChildChange(za(p,E))}),o.isLeafNode()||o.forEachChild(ns,(p,E)=>{if(r.hasChild(p)){const A=r.getImmediateChild(p);A.equals(E)||u.trackChildChange(Sc(p,E,A))}else u.trackChildChange(Vi(p,E))})),o.withIndex(this.index_)}updatePriority(r,o){return r.isEmpty()?Ur.EMPTY_NODE:r.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hd{constructor(r){this.indexedFilter_=new Ac(r.getIndex()),this.index_=r.getIndex(),this.startPost_=hd.getStartPost_(r),this.endPost_=hd.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,u=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return o&&u}updateChild(r,o,u,p,E,A){return this.matches(new ft(o,u))||(u=Ur.EMPTY_NODE),this.indexedFilter_.updateChild(r,o,u,p,E,A)}updateFullNode(r,o,u){o.isLeafNode()&&(o=Ur.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(Ur.EMPTY_NODE);const E=this;return o.forEachChild(ns,(A,B)=>{E.matches(new ft(A,B))||(p=p.updateImmediateChild(A,Ur.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,p,u)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const o=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),o)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const o=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),o)}return r.getIndex().maxPost()}}class fd{constructor(r){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=o=>{const u=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new hd(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,o,u,p,E,A){return this.rangedFilter_.matches(new ft(o,u))||(u=Ur.EMPTY_NODE),r.getImmediateChild(o).equals(u)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,o,u,p,E,A):this.fullLimitUpdateChild_(r,o,u,E,A)}updateFullNode(r,o,u){let p;if(o.isLeafNode()||o.isEmpty())p=Ur.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let E;p=Ur.EMPTY_NODE.withIndex(this.index_),E=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let A=0;for(;E.hasNext()&&A<this.limit_;){const B=E.getNext();if(this.withinDirectionalStart(B)){if(!this.withinDirectionalEnd(B))break;p=p.updateImmediateChild(B.name,B.node),A++}}}else{let E;p=o.withIndex(this.index_),p=p.updatePriority(Ur.EMPTY_NODE),E=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let A=0;for(;E.hasNext();){const B=E.getNext();A<this.limit_&&this.withinDirectionalStart(B)&&this.withinDirectionalEnd(B)?A++:p=p.updateImmediateChild(B.name,Ur.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,p,u)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,o,u,p,E){let A;if(this.reverse_){const ut=this.index_.getCompare();A=(Ct,Zt)=>ut(Zt,Ct)}else A=this.index_.getCompare();const B=r;(0,Q.hu)(B.numChildren()===this.limit_,"");const Y=new ft(o,u),se=this.reverse_?B.getFirstChild(this.index_):B.getLastChild(this.index_),Xe=this.rangedFilter_.matches(Y);if(B.hasChild(o)){const ut=B.getImmediateChild(o);let Ct=p.getChildAfterChild(this.index_,se,this.reverse_);for(;null!=Ct&&(Ct.name===o||B.hasChild(Ct.name));)Ct=p.getChildAfterChild(this.index_,Ct,this.reverse_);const Zt=null==Ct?1:A(Ct,Y);if(Xe&&!u.isEmpty()&&Zt>=0)return null!=E&&E.trackChildChange(Sc(o,u,ut)),B.updateImmediateChild(o,u);{null!=E&&E.trackChildChange(za(o,ut));const xn=B.updateImmediateChild(o,Ur.EMPTY_NODE);return null!=Ct&&this.rangedFilter_.matches(Ct)?(null!=E&&E.trackChildChange(Vi(Ct.name,Ct.node)),xn.updateImmediateChild(Ct.name,Ct.node)):xn}}return u.isEmpty()?r:Xe&&A(se,Y)>=0?(null!=E&&(E.trackChildChange(za(se.name,se.node)),E.trackChildChange(Vi(o,u))),B.updateImmediateChild(o,u).updateImmediateChild(se.name,Ur.EMPTY_NODE)):r}}class ui{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ns}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ns}copy(){const r=new ui;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Su(c,r,o){const u=c.copy();return u.startSet_=!0,void 0===r&&(r=null),u.indexStartValue_=r,null!=o?(u.startNameSet_=!0,u.indexStartName_=o):(u.startNameSet_=!1,u.indexStartName_=""),u}function Ys(c,r,o){const u=c.copy();return u.endSet_=!0,void 0===r&&(r=null),u.indexEndValue_=r,void 0!==o?(u.endNameSet_=!0,u.indexEndName_=o):(u.endNameSet_=!1,u.indexEndName_=""),u}function Mu(c,r){const o=c.copy();return o.index_=r,o}function oh(c){const r={};if(c.isDefault())return r;let o;if(c.index_===ns?o="$priority":c.index_===qs?o="$value":c.index_===ur?o="$key":((0,Q.hu)(c.index_ instanceof dd,"Unrecognized index type!"),o=c.index_.toString()),r.orderBy=(0,Q.Wl)(o),c.startSet_){const u=c.startAfterSet_?"startAfter":"startAt";r[u]=(0,Q.Wl)(c.indexStartValue_),c.startNameSet_&&(r[u]+=","+(0,Q.Wl)(c.indexStartName_))}if(c.endSet_){const u=c.endBeforeSet_?"endBefore":"endAt";r[u]=(0,Q.Wl)(c.indexEndValue_),c.endNameSet_&&(r[u]+=","+(0,Q.Wl)(c.indexEndName_))}return c.limitSet_&&(c.isViewFromLeft()?r.limitToFirst=c.limit_:r.limitToLast=c.limit_),r}function yp(c){const r={};if(c.startSet_&&(r.sp=c.indexStartValue_,c.startNameSet_&&(r.sn=c.indexStartName_),r.sin=!c.startAfterSet_),c.endSet_&&(r.ep=c.indexEndValue_,c.endNameSet_&&(r.en=c.indexEndName_),r.ein=!c.endBeforeSet_),c.limitSet_){r.l=c.limit_;let o=c.viewFrom_;""===o&&(o=c.isViewFromLeft()?"l":"r"),r.vf=o}return c.index_!==ns&&(r.i=c.index_.toString()),r}class Jc extends bc{constructor(r,o,u,p){super(),this.repoInfo_=r,this.onDataUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.log_=ma("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,o){return void 0!==o?"tag$"+o:((0,Q.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,o,u,p){const E=r._path.toString();this.log_("Listen called for "+E+" "+r._queryIdentifier);const A=Jc.getListenId_(r,u),B={};this.listens_[A]=B;const Y=oh(r._queryParams);this.restRequest_(E+".json",Y,(se,Xe)=>{let ut=Xe;if(404===se&&(ut=null,se=null),null===se&&this.onDataUpdate_(E,ut,!1,u),(0,Q.DV)(this.listens_,A)===B){let Ct;Ct=se?401===se?"permission_denied":"rest_error:"+se:"ok",p(Ct,null)}})}unlisten(r,o){const u=Jc.getListenId_(r,o);delete this.listens_[u]}get(r){const o=oh(r._queryParams),u=r._path.toString(),p=new Q.BH;return this.restRequest_(u+".json",o,(E,A)=>{let B=A;404===E&&(B=null,E=null),null===E?(this.onDataUpdate_(u,B,!1,null),p.resolve(B)):p.reject(new Error(B))}),p.promise}refreshAuthToken(r){}restRequest_(r,o={},u){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,E])=>{p&&p.accessToken&&(o.auth=p.accessToken),E&&E.token&&(o.ac=E.token);const A=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,Q.xO)(o);this.log_("Sending REST request for "+A);const B=new XMLHttpRequest;B.onreadystatechange=()=>{if(u&&4===B.readyState){this.log_("REST Response for "+A+" received. status:",B.status,"response:",B.responseText);let Y=null;if(B.status>=200&&B.status<300){try{Y=(0,Q.cI)(B.responseText)}catch{fi("Failed to parse JSON response for "+A+": "+B.responseText)}u(null,Y)}else 401!==B.status&&404!==B.status&&fi("Got unsuccessful REST response for "+A+" Status: "+B.status),u(B.status);u=null}},B.open("GET",A,!0),B.send()})}}class lf{constructor(){this.rootNode_=Ur.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,o){this.rootNode_=this.rootNode_.updateChild(r,o)}}function Ru(){return{value:null,children:new Map}}function Mc(c,r,o){if(cn(r))c.value=o,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(r,o);else{const u=x(r);c.children.has(u)||c.children.set(u,Ru()),Mc(c.children.get(u),r=re(r),o)}}function md(c,r){if(cn(r))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const o=c.value;return c.value=null,o.forEachChild(ns,(u,p)=>{Mc(c,new R(u),p)}),md(c,r)}}if(c.children.size>0){const o=x(r);return r=re(r),c.children.has(o)&&md(c.children.get(o),r)&&c.children.delete(o),0===c.children.size}return!0}function ah(c,r,o){null!==c.value?o(r,c.value):function Gg(c,r){c.children.forEach((o,u)=>{r(u,o)})}(c,(u,p)=>{ah(p,new R(r.toString()+"/"+u),o)})}class yd{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),o=Object.assign({},r);return this.last_&&Ji(this.last_,(u,p)=>{o[u]=o[u]-p}),this.last_=r,o}}class _d{constructor(r,o){this.server_=o,this.statsToReport_={},this.statsListener_=new yd(r);const u=1e4+2e4*Math.random();tr(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const r=this.statsListener_.get(),o={};let u=!1;Ji(r,(p,E)=>{E>0&&(0,Q.r3)(this.statsToReport_,p)&&(o[p]=E,u=!0)}),u&&this.server_.reportStats(o),tr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Eo=(()=>{return(c=Eo||(Eo={}))[c.OVERWRITE=0]="OVERWRITE",c[c.MERGE=1]="MERGE",c[c.ACK_USER_WRITE=2]="ACK_USER_WRITE",c[c.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Eo;var c})();function il(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class Ul{constructor(r,o,u){this.path=r,this.affectedTree=o,this.revert=u,this.type=Eo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,Q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new R(r));return new Ul(w(),o,this.revert)}}return(0,Q.hu)(x(this.path)===r,"operationForChild called for unrelated child."),new Ul(re(this.path),this.affectedTree,this.revert)}}class sl{constructor(r,o){this.source=r,this.path=o,this.type=Eo.LISTEN_COMPLETE}operationForChild(r){return cn(this.path)?new sl(this.source,w()):new sl(this.source,re(this.path))}}class ic{constructor(r,o,u){this.source=r,this.path=o,this.snap=u,this.type=Eo.OVERWRITE}operationForChild(r){return cn(this.path)?new ic(this.source,w(),this.snap.getImmediateChild(r)):new ic(this.source,re(this.path),this.snap)}}class Rc{constructor(r,o,u){this.source=r,this.path=o,this.children=u,this.type=Eo.MERGE}operationForChild(r){if(cn(this.path)){const o=this.children.subtree(new R(r));return o.isEmpty()?null:o.value?new ic(this.source,w(),o.value):new Rc(this.source,w(),o)}return(0,Q.hu)(x(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Rc(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class wa{constructor(r,o,u){this.node_=r,this.fullyInitialized_=o,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(cn(r))return this.isFullyInitialized()&&!this.filtered_;const o=x(r);return this.isCompleteForChild(o)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class cf{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function M(c,r,o,u,p,E){const A=u.filter(B=>B.type===o);A.sort((B,Y)=>function I(c,r,o){if(null==r.childName||null==o.childName)throw(0,Q.g5)("Should only compare child_ events.");const u=new ft(r.childName,r.snapshotNode),p=new ft(o.childName,o.snapshotNode);return c.index_.compare(u,p)}(c,B,Y)),A.forEach(B=>{const Y=function _(c,r,o){return"value"===r.type||"child_removed"===r.type||(r.prevName=o.getPredecessorChildName(r.childName,r.snapshotNode,c.index_)),r}(c,B,E);p.forEach(se=>{se.respondsTo(B.type)&&r.push(se.createEvent(Y,c.query_))})})}function P(c,r){return{eventCache:c,serverCache:r}}function te(c,r,o,u){return P(new wa(r,o,u),c.serverCache)}function ve(c,r,o,u){return P(c.eventCache,new wa(r,o,u))}function It(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function Bt(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let Mn;class Sn{constructor(r,o=(()=>(Mn||(Mn=new ai(so)),Mn))()){this.value=r,this.children=o}static fromObject(r){let o=new Sn(null);return Ji(r,(u,p)=>{o=o.set(new R(u),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,o){if(null!=this.value&&o(this.value))return{path:w(),value:this.value};if(cn(r))return null;{const u=x(r),p=this.children.get(u);if(null!==p){const E=p.findRootMostMatchingPathAndValue(re(r),o);return null!=E?{path:mn(new R(u),E.path),value:E.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(cn(r))return this;{const o=x(r),u=this.children.get(o);return null!==u?u.subtree(re(r)):new Sn(null)}}set(r,o){if(cn(r))return new Sn(o,this.children);{const u=x(r),E=(this.children.get(u)||new Sn(null)).set(re(r),o),A=this.children.insert(u,E);return new Sn(this.value,A)}}remove(r){if(cn(r))return this.children.isEmpty()?new Sn(null):new Sn(null,this.children);{const o=x(r),u=this.children.get(o);if(u){const p=u.remove(re(r));let E;return E=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&E.isEmpty()?new Sn(null):new Sn(this.value,E)}return this}}get(r){if(cn(r))return this.value;{const o=x(r),u=this.children.get(o);return u?u.get(re(r)):null}}setTree(r,o){if(cn(r))return o;{const u=x(r),E=(this.children.get(u)||new Sn(null)).setTree(re(r),o);let A;return A=E.isEmpty()?this.children.remove(u):this.children.insert(u,E),new Sn(this.value,A)}}fold(r){return this.fold_(w(),r)}fold_(r,o){const u={};return this.children.inorderTraversal((p,E)=>{u[p]=E.fold_(mn(r,p),o)}),o(r,this.value,u)}findOnPath(r,o){return this.findOnPath_(r,w(),o)}findOnPath_(r,o,u){const p=!!this.value&&u(o,this.value);if(p)return p;if(cn(r))return null;{const E=x(r),A=this.children.get(E);return A?A.findOnPath_(re(r),mn(o,E),u):null}}foreachOnPath(r,o){return this.foreachOnPath_(r,w(),o)}foreachOnPath_(r,o,u){if(cn(r))return this;{this.value&&u(o,this.value);const p=x(r),E=this.children.get(p);return E?E.foreachOnPath_(re(r),mn(o,p),u):new Sn(null)}}foreach(r){this.foreach_(w(),r)}foreach_(r,o){this.children.inorderTraversal((u,p)=>{p.foreach_(mn(r,u),o)}),this.value&&o(r,this.value)}foreachChild(r){this.children.inorderTraversal((o,u)=>{u.value&&r(o,u.value)})}}class Pr{constructor(r){this.writeTree_=r}static empty(){return new Pr(new Sn(null))}}function _i(c,r,o){if(cn(r))return new Pr(new Sn(o));{const u=c.writeTree_.findRootMostValueAndPath(r);if(null!=u){const p=u.path;let E=u.value;const A=Rr(p,r);return E=E.updateChild(A,o),new Pr(c.writeTree_.set(p,E))}{const p=new Sn(o),E=c.writeTree_.setTree(r,p);return new Pr(E)}}}function ol(c,r,o){let u=c;return Ji(o,(p,E)=>{u=_i(u,mn(r,p),E)}),u}function Vl(c,r){if(cn(r))return Pr.empty();{const o=c.writeTree_.setTree(r,new Sn(null));return new Pr(o)}}function vd(c,r){return null!=Lo(c,r)}function Lo(c,r){const o=c.writeTree_.findRootMostValueAndPath(r);return null!=o?c.writeTree_.get(o.path).getChild(Rr(o.path,r)):null}function nu(c){const r=[],o=c.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(ns,(u,p)=>{r.push(new ft(u,p))}):c.writeTree_.children.inorderTraversal((u,p)=>{null!=p.value&&r.push(new ft(u,p.value))}),r}function Ga(c,r){if(cn(r))return c;{const o=Lo(c,r);return new Pr(null!=o?new Sn(o):c.writeTree_.subtree(r))}}function Nu(c){return c.writeTree_.isEmpty()}function xc(c,r){return Hr(w(),c.writeTree_,r)}function Hr(c,r,o){if(null!=r.value)return o.updateChild(c,r.value);{let u=null;return r.children.inorderTraversal((p,E)=>{".priority"===p?((0,Q.hu)(null!==E.value,"Priority writes must always be leaf nodes"),u=E.value):o=Hr(mn(c,p),E,o)}),!o.getChild(c).isEmpty()&&null!==u&&(o=o.updateChild(mn(c,".priority"),u)),o}}function Pc(c,r){return ff(r,c)}function lh(c,r){if(c.snap)return as(c.path,r);for(const o in c.children)if(c.children.hasOwnProperty(o)&&as(mn(c.path,o),r))return!0;return!1}function Kg(c){return c.visible}function Id(c,r,o){let u=Pr.empty();for(let p=0;p<c.length;++p){const E=c[p];if(r(E)){const A=E.path;let B;if(E.snap)as(o,A)?(B=Rr(o,A),u=_i(u,B,E.snap)):as(A,o)&&(B=Rr(A,o),u=_i(u,w(),E.snap.getChild(B)));else{if(!E.children)throw(0,Q.g5)("WriteRecord should have .snap or .children");if(as(o,A))B=Rr(o,A),u=ol(u,B,E.children);else if(as(A,o))if(B=Rr(A,o),cn(B))u=ol(u,w(),E.children);else{const Y=(0,Q.DV)(E.children,x(B));if(Y){const se=Y.getChild(re(B));u=_i(u,w(),se)}}}}}return u}function wd(c,r,o,u,p){if(u||p){const E=Ga(c.visibleWrites,r);return!p&&Nu(E)?o:p||null!=o||vd(E,w())?xc(Id(c.allWrites,function(se){return(se.visible||p)&&(!u||!~u.indexOf(se.writeId))&&(as(se.path,r)||as(r,se.path))},r),o||Ur.EMPTY_NODE):null}{const E=Lo(c.visibleWrites,r);if(null!=E)return E;{const A=Ga(c.visibleWrites,r);return Nu(A)?o:null!=o||vd(A,w())?xc(A,o||Ur.EMPTY_NODE):null}}}function Lu(c,r,o,u){return wd(c.writeTree,c.treePath,r,o,u)}function iu(c,r){return function Fu(c,r,o){let u=Ur.EMPTY_NODE;const p=Lo(c.visibleWrites,r);if(p)return p.isLeafNode()||p.forEachChild(ns,(E,A)=>{u=u.updateImmediateChild(E,A)}),u;if(o){const E=Ga(c.visibleWrites,r);return o.forEachChild(ns,(A,B)=>{const Y=xc(Ga(E,new R(A)),B);u=u.updateImmediateChild(A,Y)}),nu(E).forEach(A=>{u=u.updateImmediateChild(A.name,A.node)}),u}return nu(Ga(c.visibleWrites,r)).forEach(A=>{u=u.updateImmediateChild(A.name,A.node)}),u}(c.writeTree,c.treePath,r)}function Dd(c,r,o,u){return function wy(c,r,o,u,p){(0,Q.hu)(u||p,"Either existingEventSnap or existingServerSnap must exist");const E=mn(r,o);if(vd(c.visibleWrites,E))return null;{const A=Ga(c.visibleWrites,E);return Nu(A)?p.getChild(o):xc(A,p.getChild(o))}}(c.writeTree,c.treePath,r,o,u)}function _p(c,r){return function by(c,r){return Lo(c.visibleWrites,r)}(c.writeTree,mn(c.treePath,r))}function df(c,r,o){return function bd(c,r,o,u){const p=mn(r,o),E=Lo(c.visibleWrites,p);return null!=E?E:u.isCompleteForChild(o)?xc(Ga(c.visibleWrites,p),u.getNode().getImmediateChild(o)):null}(c.writeTree,c.treePath,r,o)}function hf(c,r){return ff(mn(c.treePath,r),c.writeTree)}function ff(c,r){return{treePath:c,writeTree:r}}class V_{constructor(){this.changeMap=new Map}trackChildChange(r){const o=r.type,u=r.childName;(0,Q.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,Q.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(u);if(p){const E=p.type;if("child_added"===o&&"child_removed"===E)this.changeMap.set(u,Sc(u,r.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===E)this.changeMap.delete(u);else if("child_removed"===o&&"child_changed"===E)this.changeMap.set(u,za(u,p.oldSnap));else if("child_changed"===o&&"child_added"===E)this.changeMap.set(u,Vi(u,r.snapshotNode));else{if("child_changed"!==o||"child_changed"!==E)throw(0,Q.g5)("Illegal combination of changes: "+r+" occurred after "+p);this.changeMap.set(u,Sc(u,r.snapshotNode,p.oldSnap))}}else this.changeMap.set(u,r)}getChanges(){return Array.from(this.changeMap.values())}}const pf=new class ch{getCompleteChild(r){return null}getChildAfterChild(r,o,u){return null}};class uh{constructor(r,o,u=null){this.writes_=r,this.viewCache_=o,this.optCompleteServerCache_=u}getCompleteChild(r){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(r))return o.getNode().getImmediateChild(r);{const u=null!=this.optCompleteServerCache_?new wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return df(this.writes_,r,u)}}getChildAfterChild(r,o,u){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bt(this.viewCache_),E=function Ms(c,r,o,u,p,E){return function Cd(c,r,o,u,p,E,A){let B;const Y=Ga(c.visibleWrites,r),se=Lo(Y,w());if(null!=se)B=se;else{if(null==o)return[];B=xc(Y,o)}if(B=B.withIndex(A),B.isEmpty()||B.isLeafNode())return[];{const Xe=[],ut=A.getCompare(),Ct=E?B.getReverseIteratorFrom(u,A):B.getIteratorFrom(u,A);let Zt=Ct.getNext();for(;Zt&&Xe.length<p;)0!==ut(Zt,u)&&Xe.push(Zt),Zt=Ct.getNext();return Xe}}(c.writeTree,c.treePath,r,o,u,p,E)}(this.writes_,p,o,1,u,r);return 0===E.length?null:E[0]}}function Zg(c,r,o,u,p,E){const A=r.eventCache;if(null!=_p(u,o))return r;{let B,Y;if(cn(o))if((0,Q.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const se=Bt(r),ut=iu(u,se instanceof Ur?se:Ur.EMPTY_NODE);B=c.filter.updateFullNode(r.eventCache.getNode(),ut,E)}else{const se=Lu(u,Bt(r));B=c.filter.updateFullNode(r.eventCache.getNode(),se,E)}else{const se=x(o);if(".priority"===se){(0,Q.hu)(1===H(o),"Can't have a priority with additional path components");const Xe=A.getNode();Y=r.serverCache.getNode();const ut=Dd(u,o,Xe,Y);B=null!=ut?c.filter.updatePriority(Xe,ut):A.getNode()}else{const Xe=re(o);let ut;if(A.isCompleteForChild(se)){Y=r.serverCache.getNode();const Ct=Dd(u,o,A.getNode(),Y);ut=null!=Ct?A.getNode().getImmediateChild(se).updateChild(Xe,Ct):A.getNode().getImmediateChild(se)}else ut=df(u,se,r.serverCache);B=null!=ut?c.filter.updateChild(A.getNode(),se,ut,Xe,p,E):A.getNode()}}return te(r,B,A.isFullyInitialized()||cn(o),c.filter.filtersNodes())}}function su(c,r,o,u,p,E,A,B){const Y=r.serverCache;let se;const Xe=A?c.filter:c.filter.getIndexedFilter();if(cn(o))se=Xe.updateFullNode(Y.getNode(),u,null);else if(Xe.filtersNodes()&&!Y.isFiltered()){const Zt=Y.getNode().updateChild(o,u);se=Xe.updateFullNode(Y.getNode(),Zt,null)}else{const Zt=x(o);if(!Y.isCompleteForPath(o)&&H(o)>1)return r;const nn=re(o),nr=Y.getNode().getImmediateChild(Zt).updateChild(nn,u);se=".priority"===Zt?Xe.updatePriority(Y.getNode(),nr):Xe.updateChild(Y.getNode(),Zt,nr,nn,pf,null)}const ut=ve(r,se,Y.isFullyInitialized()||cn(o),Xe.filtersNodes());return Zg(c,ut,o,p,new uh(p,ut,E),B)}function gf(c,r,o,u,p,E,A){const B=r.eventCache;let Y,se;const Xe=new uh(p,r,E);if(cn(o))se=c.filter.updateFullNode(r.eventCache.getNode(),u,A),Y=te(r,se,!0,c.filter.filtersNodes());else{const ut=x(o);if(".priority"===ut)se=c.filter.updatePriority(r.eventCache.getNode(),u),Y=te(r,se,B.isFullyInitialized(),B.isFiltered());else{const Ct=re(o),Zt=B.getNode().getImmediateChild(ut);let nn;if(cn(Ct))nn=u;else{const xn=Xe.getCompleteChild(ut);nn=null!=xn?".priority"===fe(Ct)&&xn.getChild(wn(Ct)).isEmpty()?xn:xn.updateChild(Ct,u):Ur.EMPTY_NODE}Y=Zt.equals(nn)?r:te(r,c.filter.updateChild(B.getNode(),ut,nn,Ct,Xe,A),B.isFullyInitialized(),c.filter.filtersNodes())}}return Y}function vp(c,r){return c.eventCache.isCompleteForChild(r)}function jl(c,r,o){return o.foreach((u,p)=>{r=r.updateChild(u,p)}),r}function $u(c,r,o,u,p,E,A,B){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let se,Y=r;se=cn(o)?u:new Sn(null).setTree(o,u);const Xe=r.serverCache.getNode();return se.children.inorderTraversal((ut,Ct)=>{if(Xe.hasChild(ut)){const nn=jl(0,r.serverCache.getNode().getImmediateChild(ut),Ct);Y=su(c,Y,new R(ut),nn,p,E,A,B)}}),se.children.inorderTraversal((ut,Ct)=>{const Zt=!r.serverCache.isCompleteForChild(ut)&&null===Ct.value;if(!Xe.hasChild(ut)&&!Zt){const xn=jl(0,r.serverCache.getNode().getImmediateChild(ut),Ct);Y=su(c,Y,new R(ut),xn,p,E,A,B)}}),Y}class Io{constructor(r,o){this.query_=r,this.eventRegistrations_=[];const u=this.query_._queryParams,p=new Ac(u.getIndex()),E=function Wi(c){return c.loadsAllData()?new Ac(c.getIndex()):c.hasLimit()?new fd(c):new hd(c)}(u);this.processor_=function Td(c){return{filter:c}}(E);const A=o.serverCache,B=o.eventCache,Y=p.updateFullNode(Ur.EMPTY_NODE,A.getNode(),null),se=E.updateFullNode(Ur.EMPTY_NODE,B.getNode(),null),Xe=new wa(Y,A.isFullyInitialized(),p.filtersNodes()),ut=new wa(se,B.isFullyInitialized(),E.filtersNodes());this.viewCache_=P(ut,Xe),this.eventGenerator_=new cf(this.query_)}get query(){return this.query_}}function Jg(c,r){const o=Bt(c.viewCache_);return o&&(c.query._queryParams.loadsAllData()||!cn(r)&&!o.getImmediateChild(x(r)).isEmpty())?o.getChild(r):null}function Ep(c){return 0===c.eventRegistrations_.length}function dh(c,r,o){const u=[];if(o){(0,Q.hu)(null==r,"A cancel should cancel all event registrations.");const p=c.query._path;c.eventRegistrations_.forEach(E=>{const A=E.createCancelEvent(o,p);A&&u.push(A)})}if(r){let p=[];for(let E=0;E<c.eventRegistrations_.length;++E){const A=c.eventRegistrations_[E];if(A.matches(r)){if(r.hasAnyCallback()){p=p.concat(c.eventRegistrations_.slice(E+1));break}}else p.push(A)}c.eventRegistrations_=p}else c.eventRegistrations_=[];return u}function hh(c,r,o,u){r.type===Eo.MERGE&&null!==r.source.queryId&&((0,Q.hu)(Bt(c.viewCache_),"We should always have a full cache before handling merges"),(0,Q.hu)(It(c.viewCache_),"Missing event cache, even though we have a server cache"));const p=c.viewCache_,E=function Yg(c,r,o,u,p){const E=new V_;let A,B;if(o.type===Eo.OVERWRITE){const se=o;se.source.fromUser?A=gf(c,r,se.path,se.snap,u,p,E):((0,Q.hu)(se.source.fromServer,"Unknown source."),B=se.source.tagged||r.serverCache.isFiltered()&&!cn(se.path),A=su(c,r,se.path,se.snap,u,p,B,E))}else if(o.type===Eo.MERGE){const se=o;se.source.fromUser?A=function Qg(c,r,o,u,p,E,A){let B=r;return u.foreach((Y,se)=>{const Xe=mn(o,Y);vp(r,x(Xe))&&(B=gf(c,B,Xe,se,p,E,A))}),u.foreach((Y,se)=>{const Xe=mn(o,Y);vp(r,x(Xe))||(B=gf(c,B,Xe,se,p,E,A))}),B}(c,r,se.path,se.children,u,p,E):((0,Q.hu)(se.source.fromServer,"Unknown source."),B=se.source.tagged||r.serverCache.isFiltered(),A=$u(c,r,se.path,se.children,u,p,B,E))}else if(o.type===Eo.ACK_USER_WRITE){const se=o;A=se.revert?function H_(c,r,o,u,p,E){let A;if(null!=_p(u,o))return r;{const B=new uh(u,r,p),Y=r.eventCache.getNode();let se;if(cn(o)||".priority"===x(o)){let Xe;if(r.serverCache.isFullyInitialized())Xe=Lu(u,Bt(r));else{const ut=r.serverCache.getNode();(0,Q.hu)(ut instanceof Ur,"serverChildren would be complete if leaf node"),Xe=iu(u,ut)}se=c.filter.updateFullNode(Y,Xe,E)}else{const Xe=x(o);let ut=df(u,Xe,r.serverCache);null==ut&&r.serverCache.isCompleteForChild(Xe)&&(ut=Y.getImmediateChild(Xe)),se=null!=ut?c.filter.updateChild(Y,Xe,ut,re(o),B,E):r.eventCache.getNode().hasChild(Xe)?c.filter.updateChild(Y,Xe,Ur.EMPTY_NODE,re(o),B,E):Y,se.isEmpty()&&r.serverCache.isFullyInitialized()&&(A=Lu(u,Bt(r)),A.isLeafNode()&&(se=c.filter.updateFullNode(se,A,E)))}return A=r.serverCache.isFullyInitialized()||null!=_p(u,w()),te(r,se,A,c.filter.filtersNodes())}}(c,r,se.path,u,p,E):function Xg(c,r,o,u,p,E,A){if(null!=_p(p,o))return r;const B=r.serverCache.isFiltered(),Y=r.serverCache;if(null!=u.value){if(cn(o)&&Y.isFullyInitialized()||Y.isCompleteForPath(o))return su(c,r,o,Y.getNode().getChild(o),p,E,B,A);if(cn(o)){let se=new Sn(null);return Y.getNode().forEachChild(ur,(Xe,ut)=>{se=se.set(new R(Xe),ut)}),$u(c,r,o,se,p,E,B,A)}return r}{let se=new Sn(null);return u.foreach((Xe,ut)=>{const Ct=mn(o,Xe);Y.isCompleteForPath(Ct)&&(se=se.set(Xe,Y.getNode().getChild(Ct)))}),$u(c,r,o,se,p,E,B,A)}}(c,r,se.path,se.affectedTree,u,p,E)}else{if(o.type!==Eo.LISTEN_COMPLETE)throw(0,Q.g5)("Unknown operation type: "+o.type);A=function j_(c,r,o,u,p){const E=r.serverCache;return Zg(c,ve(r,E.getNode(),E.isFullyInitialized()||cn(o),E.isFiltered()),o,u,pf,p)}(c,r,o.path,u,E)}const Y=E.getChanges();return function Bu(c,r,o){const u=r.eventCache;if(u.isFullyInitialized()){const p=u.getNode().isLeafNode()||u.getNode().isEmpty(),E=It(c);(o.length>0||!c.eventCache.isFullyInitialized()||p&&!u.getNode().equals(E)||!u.getNode().getPriority().equals(E.getPriority()))&&o.push(af(It(r)))}}(r,A,Y),{viewCache:A,changes:Y}}(c.processor_,p,r,o,u);return function Oc(c,r){(0,Q.hu)(r.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,Q.hu)(r.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,E.viewCache),(0,Q.hu)(E.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=E.viewCache,sc(c,E.changes,E.viewCache.eventCache.getNode(),null)}function sc(c,r,o,u){return function Ou(c,r,o,u){const p=[],E=[];return r.forEach(A=>{"child_changed"===A.type&&c.index_.indexedValueChanged(A.oldSnap,A.snapshotNode)&&E.push(function mp(c,r){return{type:"child_moved",snapshotNode:r,childName:c}}(A.childName,A.snapshotNode))}),M(c,p,"child_removed",r,u,o),M(c,p,"child_added",r,u,o),M(c,p,"child_moved",E,u,o),M(c,p,"child_changed",r,u,o),M(c,p,"value",r,u,o),p}(c.eventGenerator_,r,o,u?[u]:c.eventRegistrations_)}let ou,Vu;class wp{constructor(){this.views=new Map}}function Ty(c,r,o,u){const p=r.source.queryId;if(null!==p){const E=c.views.get(p);return(0,Q.hu)(null!=E,"SyncTree gave us an op for an invalid query."),hh(E,r,o,u)}{let E=[];for(const A of c.views.values())E=E.concat(hh(A,r,o,u));return E}}function G_(c,r,o,u,p){const A=c.views.get(r._queryIdentifier);if(!A){let B=Lu(o,p?u:null),Y=!1;B?Y=!0:u instanceof Ur?(B=iu(o,u),Y=!1):(B=Ur.EMPTY_NODE,Y=!1);const se=P(new wa(B,Y,!1),new wa(u,p,!1));return new Io(r,se)}return A}function fh(c){const r=[];for(const o of c.views.values())o.query._queryParams.loadsAllData()||r.push(o);return r}function Uu(c,r){let o=null;for(const u of c.views.values())o=o||Jg(u,r);return o}function rm(c,r){return r._queryParams.loadsAllData()?mf(c):c.views.get(r._queryIdentifier)}function Zs(c,r){return null!=rm(c,r)}function Nc(c){return null!=mf(c)}function mf(c){for(const r of c.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let im=1;class ju{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Sn(null),this.pendingWriteTree_=function qg(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bp(c,r,o,u,p){return function ku(c,r,o,u,p){(0,Q.hu)(u>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),c.allWrites.push({path:r,snap:o,writeId:u,visible:p}),p&&(c.visibleWrites=_i(c.visibleWrites,r,o)),c.lastWriteId=u}(c.pendingWriteTree_,r,o,u,p),p?kc(c,new ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,o)):[]}function au(c,r,o=!1){const u=function ru(c,r){for(let o=0;o<c.allWrites.length;o++){const u=c.allWrites[o];if(u.writeId===r)return u}return null}(c.pendingWriteTree_,r);if(function uf(c,r){const o=c.allWrites.findIndex(B=>B.writeId===r);(0,Q.hu)(o>=0,"removeWrite called with nonexistent writeId.");const u=c.allWrites[o];c.allWrites.splice(o,1);let p=u.visible,E=!1,A=c.allWrites.length-1;for(;p&&A>=0;){const B=c.allWrites[A];B.visible&&(A>=o&&lh(B,u.path)?p=!1:as(u.path,B.path)&&(E=!0)),A--}return!!p&&(E?(function Wg(c){c.visibleWrites=Id(c.allWrites,Kg,w()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(u.snap?c.visibleWrites=Vl(c.visibleWrites,u.path):Ji(u.children,Y=>{c.visibleWrites=Vl(c.visibleWrites,mn(u.path,Y))}),!0))}(c.pendingWriteTree_,r)){let E=new Sn(null);return null!=u.snap?E=E.set(w(),!0):Ji(u.children,A=>{E=E.set(new R(A),!0)}),kc(c,new Ul(u.path,E,o))}return[]}function yf(c,r,o){return kc(c,new ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}function Cp(c,r,o,u,p=!1){const E=r._path,A=c.syncPointTree_.get(E);let B=[];if(A&&("default"===r._queryIdentifier||Zs(A,r))){const Y=function nm(c,r,o,u){const p=r._queryIdentifier,E=[];let A=[];const B=Nc(c);if("default"===p)for(const[Y,se]of c.views.entries())A=A.concat(dh(se,o,u)),Ep(se)&&(c.views.delete(Y),se.query._queryParams.loadsAllData()||E.push(se.query));else{const Y=c.views.get(p);Y&&(A=A.concat(dh(Y,o,u)),Ep(Y)&&(c.views.delete(p),Y.query._queryParams.loadsAllData()||E.push(Y.query)))}return B&&!Nc(c)&&E.push(new(function em(){return(0,Q.hu)(ou,"Reference.ts has not been loaded"),ou}())(r._repo,r._path)),{removed:E,events:A}}(A,r,o,u);(function z_(c){return 0===c.views.size})(A)&&(c.syncPointTree_=c.syncPointTree_.remove(E));const se=Y.removed;if(B=Y.events,!p){const Xe=-1!==se.findIndex(Ct=>Ct._queryParams.loadsAllData()),ut=c.syncPointTree_.findOnPath(E,(Ct,Zt)=>Nc(Zt));if(Xe&&!ut){const Ct=c.syncPointTree_.subtree(E);if(!Ct.isEmpty()){const Zt=function Sp(c){return c.fold((r,o,u)=>{if(o&&Nc(o))return[mf(o)];{let p=[];return o&&(p=fh(o)),Ji(u,(E,A)=>{p=p.concat(A)}),p}})}(Ct);for(let nn=0;nn<Zt.length;++nn){const xn=Zt[nn],nr=xn.query,kr=Fc(c,xn);c.listenProvider_.startListening(Ap(nr),ac(c,nr),kr.hashFn,kr.onComplete)}}}!ut&&se.length>0&&!u&&(Xe?c.listenProvider_.stopListening(Ap(r),null):se.forEach(Ct=>{const Zt=c.queryToTagMap.get(vf(Ct));c.listenProvider_.stopListening(Ap(Ct),Zt)}))}!function Mp(c,r){for(let o=0;o<r.length;++o){const u=r[o];if(!u._queryParams.loadsAllData()){const p=vf(u),E=c.queryToTagMap.get(p);c.queryToTagMap.delete(p),c.tagToQueryMap.delete(E)}}}(c,se)}return B}function om(c,r,o,u){const p=Tp(c,u);if(null!=p){const E=Ef(p),A=E.path,B=E.queryId,Y=Rr(A,r);return lc(c,A,new ic(il(B),Y,o))}return[]}function _f(c,r,o,u=!1){const p=r._path;let E=null,A=!1;c.syncPointTree_.foreachOnPath(p,(Ct,Zt)=>{const nn=Rr(Ct,p);E=E||Uu(Zt,nn),A=A||Nc(Zt)});let Y,B=c.syncPointTree_.get(p);B?(A=A||Nc(B),E=E||Uu(B,w())):(B=new wp,c.syncPointTree_=c.syncPointTree_.set(p,B)),null!=E?Y=!0:(Y=!1,E=Ur.EMPTY_NODE,c.syncPointTree_.subtree(p).foreachChild((Zt,nn)=>{const xn=Uu(nn,w());xn&&(E=E.updateImmediateChild(Zt,xn))}));const se=Zs(B,r);if(!se&&!r._queryParams.loadsAllData()){const Ct=vf(r);(0,Q.hu)(!c.queryToTagMap.has(Ct),"View does not exist, but we have a tag");const Zt=function Rp(){return im++}();c.queryToTagMap.set(Ct,Zt),c.tagToQueryMap.set(Zt,Ct)}let ut=function tm(c,r,o,u,p,E){const A=G_(c,r,u,p,E);return c.views.has(r._queryIdentifier)||c.views.set(r._queryIdentifier,A),function Ip(c,r){c.eventRegistrations_.push(r)}(A,o),function Sd(c,r){const o=c.viewCache_.eventCache,u=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(ns,(E,A)=>{u.push(Vi(E,A))}),o.isFullyInitialized()&&u.push(af(o.getNode())),sc(c,u,o.getNode(),r)}(A,o)}(B,r,o,Pc(c.pendingWriteTree_,p),E,Y);if(!se&&!A&&!u){const Ct=rm(B,r);ut=ut.concat(function lu(c,r,o){const u=r._path,p=ac(c,r),E=Fc(c,o),A=c.listenProvider_.startListening(Ap(r),p,E.hashFn,E.onComplete),B=c.syncPointTree_.subtree(u);if(p)(0,Q.hu)(!Nc(B.value),"If we're adding a query, it shouldn't be shadowed");else{const Y=B.fold((se,Xe,ut)=>{if(!cn(se)&&Xe&&Nc(Xe))return[mf(Xe).query];{let Ct=[];return Xe&&(Ct=Ct.concat(fh(Xe).map(Zt=>Zt.query))),Ji(ut,(Zt,nn)=>{Ct=Ct.concat(nn)}),Ct}});for(let se=0;se<Y.length;++se){const Xe=Y[se];c.listenProvider_.stopListening(Ap(Xe),ac(c,Xe))}}return A}(c,r,Ct))}return ut}function lm(c,r,o){const p=c.pendingWriteTree_,E=c.syncPointTree_.findOnPath(r,(A,B)=>{const se=Uu(B,Rr(A,r));if(se)return se});return wd(p,r,E,o,!0)}function kc(c,r){return Dp(r,c.syncPointTree_,null,Pc(c.pendingWriteTree_,w()))}function Dp(c,r,o,u){if(cn(c.path))return cm(c,r,o,u);{const p=r.get(w());null==o&&null!=p&&(o=Uu(p,w()));let E=[];const A=x(c.path),B=c.operationForChild(A),Y=r.children.get(A);if(Y&&B){const se=o?o.getImmediateChild(A):null,Xe=hf(u,A);E=E.concat(Dp(B,Y,se,Xe))}return p&&(E=E.concat(Ty(p,c,u,o))),E}}function cm(c,r,o,u){const p=r.get(w());null==o&&null!=p&&(o=Uu(p,w()));let E=[];return r.children.inorderTraversal((A,B)=>{const Y=o?o.getImmediateChild(A):null,se=hf(u,A),Xe=c.operationForChild(A);Xe&&(E=E.concat(cm(Xe,B,Y,se)))}),p&&(E=E.concat(Ty(p,c,u,o))),E}function Fc(c,r){const o=r.query,u=ac(c,o);return{hashFn:()=>(function Fi(c){return c.viewCache_.serverCache.getNode()}(r)||Ur.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return u?function sm(c,r,o){const u=Tp(c,o);if(u){const p=Ef(u),E=p.path,A=p.queryId,B=Rr(E,r);return lc(c,E,new sl(il(A),B))}return[]}(c,o._path,u):function gh(c,r){return kc(c,new sl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(c,o._path);{const E=function ae(c,r){let o="Unknown Error";"too_big"===c?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?o="Client doesn't have permission to access the desired data.":"unavailable"===c&&(o="The service is unavailable");const u=new Error(c+" at "+r._path.toString()+": "+o);return u.code=c.toUpperCase(),u}(p,o);return Cp(c,o,null,E)}}}}function ac(c,r){const o=vf(r);return c.queryToTagMap.get(o)}function vf(c){return c._path.toString()+"$"+c._queryIdentifier}function Tp(c,r){return c.tagToQueryMap.get(r)}function Ef(c){const r=c.indexOf("$");return(0,Q.hu)(-1!==r&&r<c.length-1,"Bad queryKey."),{queryId:c.substr(r+1),path:new R(c.substr(0,r))}}function lc(c,r,o){const u=c.syncPointTree_.get(r);return(0,Q.hu)(u,"Missing sync point for query tag that we're tracking"),Ty(u,o,Pc(c.pendingWriteTree_,r),null)}function Ap(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function ph(){return(0,Q.hu)(Vu,"Reference.ts has not been loaded"),Vu}())(c._repo,c._path):c}class Lc{constructor(r){this.node_=r}getImmediateChild(r){const o=this.node_.getImmediateChild(r);return new Lc(o)}node(){return this.node_}}class Bc{constructor(r,o){this.syncTree_=r,this.path_=o}getImmediateChild(r){const o=mn(this.path_,r);return new Bc(this.syncTree_,o)}node(){return lm(this.syncTree_,this.path_)}}const cc=function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c},um=function(c,r,o){return c&&"object"==typeof c?((0,Q.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?If(c[".sv"],r,o):"object"==typeof c[".sv"]?mh(c[".sv"],r):void(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},If=function(c,r,o){if("timestamp"===c)return o.timestamp;(0,Q.hu)(!1,"Unexpected server value: "+c)},mh=function(c,r,o){c.hasOwnProperty("increment")||(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const u=c.increment;"number"!=typeof u&&(0,Q.hu)(!1,"Unexpected increment value: "+u);const p=r.node();if((0,Q.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return u;const A=p.getValue();return"number"!=typeof A?u:A+u},dm=function(c,r,o,u){return _h(r,new Bc(o,c),u)},yh=function(c,r,o){return _h(c,new Lc(r),o)};function _h(c,r,o){const u=c.getPriority().val(),p=um(u,r.getImmediateChild(".priority"),o);let E;if(c.isLeafNode()){const A=c,B=um(A.getValue(),r,o);return B!==A.getValue()||p!==A.getPriority().val()?new Ea(B,fs(p)):c}{const A=c;return E=A,p!==A.getPriority().val()&&(E=E.updatePriority(new Ea(p))),A.forEachChild(ns,(B,Y)=>{const se=_h(Y,r.getImmediateChild(B),o);se!==Y&&(E=E.updateImmediateChild(B,se))}),E}}class $c{constructor(r="",o=null,u={children:{},childCount:0}){this.name=r,this.parent=o,this.node=u}}function vh(c,r){let o=r instanceof R?r:new R(r),u=c,p=x(o);for(;null!==p;){const E=(0,Q.DV)(u.node.children,p)||{children:{},childCount:0};u=new $c(p,u,E),o=re(o),p=x(o)}return u}function Hl(c){return c.node.value}function Ad(c,r){c.node.value=r,cu(c)}function Hu(c){return c.node.childCount>0}function Uc(c,r){Ji(c.node.children,(o,u)=>{r(new $c(o,c,u))})}function My(c,r,o,u){o&&!u&&r(c),Uc(c,p=>{My(p,r,!0,u)}),o&&u&&r(c)}function wf(c){return new R(null===c.parent?c.name:wf(c.parent)+"/"+c.name)}function cu(c){null!==c.parent&&function Md(c,r,o){const u=function Ay(c){return void 0===Hl(c)&&!Hu(c)}(o),p=(0,Q.r3)(c.node.children,r);u&&p?(delete c.node.children[r],c.node.childCount--,cu(c)):!u&&!p&&(c.node.children[r]=o.node,c.node.childCount++,cu(c))}(c.parent,c.name,c)}const uu=/[\[\].#$\/\u0000-\u001F\u007F]/,Ry=/[\[\].#$\u0000-\u001F\u007F]/,xp=10485760,Pp=function(c){return"string"==typeof c&&0!==c.length&&!uu.test(c)},xy=function(c){return"string"==typeof c&&0!==c.length&&!Ry.test(c)},xd=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!Yr(c)||c&&"object"==typeof c&&(0,Q.r3)(c,".sv")},ba=function(c,r,o,u){u&&void 0===r||uc((0,Q.gK)(c,"value"),r,o)},uc=function(c,r,o){const u=o instanceof R?new As(o,c):o;if(void 0===r)throw new Error(c+"contains undefined "+ps(u));if("function"==typeof r)throw new Error(c+"contains a function "+ps(u)+" with contents = "+r.toString());if(Yr(r))throw new Error(c+"contains "+r.toString()+" "+ps(u));if("string"==typeof r&&r.length>xp/3&&(0,Q.ug)(r)>xp)throw new Error(c+"contains a string greater than "+xp+" utf8 bytes "+ps(u)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let p=!1,E=!1;if(Ji(r,(A,B)=>{if(".value"===A)p=!0;else if(".priority"!==A&&".sv"!==A&&(E=!0,!Pp(A)))throw new Error(c+" contains an invalid key ("+A+") "+ps(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _a(c,r){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(r),c.byteLength_+=(0,Q.ug)(r),rl(c)})(u,A),uc(c,B,u),function ca(c){const r=c.parts_.pop();c.byteLength_-=(0,Q.ug)(r),c.parts_.length>0&&(c.byteLength_-=1)}(u)}),p&&E)throw new Error(c+' contains ".value" child '+ps(u)+" in addition to actual children.")}},Op=function(c,r,o,u){if(u&&void 0===r)return;const p=(0,Q.gK)(c,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(p+" must be an object containing the children to replace.");const E=[];Ji(r,(A,B)=>{const Y=new R(A);if(uc(p,B,mn(o,Y)),".priority"===fe(Y)&&!xd(B))throw new Error(p+"contains an invalid value for '"+Y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(Y)}),function(c,r){let o,u;for(o=0;o<r.length;o++){u=r[o];const E=Nt(u);for(let A=0;A<E.length;A++)if((".priority"!==E[A]||A!==E.length-1)&&!Pp(E[A]))throw new Error(c+"contains an invalid key ("+E[A]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(ws);let p=null;for(o=0;o<r.length;o++){if(u=r[o],null!==p&&as(p,u))throw new Error(c+"contains a path "+p.toString()+" that is ancestor of another path "+u.toString());p=u}}(p,E)},Eh=function(c,r,o){if(!o||void 0!==r){if(Yr(r))throw new Error((0,Q.gK)(c,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xd(r))throw new Error((0,Q.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bf=function(c,r,o,u){if(!(u&&void 0===o||Pp(o)))throw new Error((0,Q.gK)(c,r)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pd=function(c,r,o,u){if(!(u&&void 0===o||xy(o)))throw new Error((0,Q.gK)(c,r)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cf=function(c,r,o,u){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Pd(c,r,o,u)},bl=function(c,r){if(".info"===x(r))throw new Error(c+" failed = Can't modify data under /.info/")},Df=function(c,r){const o=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Pp(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==o.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),xy(c)}(o))throw new Error((0,Q.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Od{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nd(c,r){let o=null;for(let u=0;u<r.length;u++){const p=r[u],E=p.getPath();null!==o&&!Ks(E,o.path)&&(c.eventLists_.push(o),o=null),null===o&&(o={events:[],path:E}),o.events.push(p)}o&&c.eventLists_.push(o)}function zu(c,r,o){Nd(c,o),fm(c,u=>Ks(u,r))}function qo(c,r,o){Nd(c,o),fm(c,u=>as(u,r)||as(r,u))}function fm(c,r){c.recursionDepth_++;let o=!0;for(let u=0;u<c.eventLists_.length;u++){const p=c.eventLists_[u];p&&(r(p.path)?(al(c.eventLists_[u]),c.eventLists_[u]=null):o=!1)}o&&(c.eventLists_=[]),c.recursionDepth_--}function al(c){for(let r=0;r<c.events.length;r++){const o=c.events[r];if(null!==o){c.events[r]=null;const u=o.getEventRunner();po&&Ni("event: "+o.toString()),Mr(u)}}}const pm="repo_interrupt",Np=25;class kp{constructor(r,o,u,p){this.repoInfo_=r,this.forceRestClient_=o,this.authTokenProvider_=u,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Od,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ru(),this.transactionQueueTree_=new $c,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function du(c){const o=c.infoData_.getNode(new R(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function Wa(c){return cc({timestamp:du(c)})}function dc(c,r,o,u,p){c.dataUpdateCount++;const E=new R(r);o=c.interceptServerDataCallback_?c.interceptServerDataCallback_(r,o):o;let A=[];if(p)if(u){const Y=(0,Q.UI)(o,se=>fs(se));A=function am(c,r,o,u){const p=Tp(c,u);if(p){const E=Ef(p),A=E.path,B=E.queryId,Y=Rr(A,r),se=Sn.fromObject(o);return lc(c,A,new Rc(il(B),Y,se))}return[]}(c.serverSyncTree_,E,Y,p)}else{const Y=fs(o);A=om(c.serverSyncTree_,E,Y,p)}else if(u){const Y=(0,Q.UI)(o,se=>fs(se));A=function Sy(c,r,o){const u=Sn.fromObject(o);return kc(c,new Rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,u))}(c.serverSyncTree_,E,Y)}else{const Y=fs(o);A=yf(c.serverSyncTree_,E,Y)}let B=E;A.length>0&&(B=Ih(c,E)),qo(c.eventQueue_,B,A)}function Gu(c,r){kd(c,"connected",r),!1===r&&function Ny(c){zl(c,"onDisconnectEvents");const r=Wa(c),o=Ru();ah(c.onDisconnect_,w(),(p,E)=>{const A=dm(p,E,c.serverSyncTree_,r);Mc(o,p,A)});let u=[];ah(o,w(),(p,E)=>{u=u.concat(yf(c.serverSyncTree_,p,E));const A=vm(c,p);Ih(c,A)}),c.onDisconnect_=Ru(),qo(c.eventQueue_,w(),u)}(c)}function kd(c,r,o){const u=new R("/.info/"+r),p=fs(o);c.infoData_.updateSnapshot(u,p);const E=yf(c.infoSyncTree_,u,p);qo(c.eventQueue_,u,E)}function Fp(c){return c.nextWriteId_++}function gm(c,r,o,u,p){zl(c,"set",{path:r.toString(),value:o,priority:u});const E=Wa(c),A=fs(o,u),B=lm(c.serverSyncTree_,r),Y=yh(A,B,E),se=Fp(c),Xe=bp(c.serverSyncTree_,r,Y,se,!0);Nd(c.eventQueue_,Xe),c.server_.put(r.toString(),A.val(!0),(Ct,Zt)=>{const nn="ok"===Ct;nn||fi("set at "+r+" failed: "+Ct);const xn=au(c.serverSyncTree_,se,!nn);qo(c.eventQueue_,r,xn),Gl(0,p,Ct,Zt)});const ut=vm(c,r);Ih(c,ut),qo(c.eventQueue_,ut,[])}function Y_(c,r,o){c.server_.onDisconnectCancel(r.toString(),(u,p)=>{"ok"===u&&md(c.onDisconnect_,r),Gl(0,o,u,p)})}function mm(c,r,o,u){const p=fs(o);c.server_.onDisconnectPut(r.toString(),p.val(!0),(E,A)=>{"ok"===E&&Mc(c.onDisconnect_,r,p),Gl(0,u,E,A)})}function Bp(c,r,o){let u;u=".info"===x(r._path)?Cp(c.infoSyncTree_,r,o):Cp(c.serverSyncTree_,r,o),zu(c.eventQueue_,r._path,u)}function ym(c){c.persistentConnection_&&c.persistentConnection_.interrupt(pm)}function zl(c,...r){let o="";c.persistentConnection_&&(o=c.persistentConnection_.id+":"),Ni(o,...r)}function Gl(c,r,o,u){r&&Mr(()=>{if("ok"===o)r(null);else{const p=(o||"error").toUpperCase();let E=p;u&&(E+=": "+u);const A=new Error(E);A.code=p,r(A)}})}function Tf(c,r,o){return lm(c.serverSyncTree_,r,o)||Ur.EMPTY_NODE}function $p(c,r=c.transactionQueueTree_){if(r||Up(c,r),Hl(r)){const o=wo(c,r);(0,Q.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function By(c,r,o){const u=o.map(se=>se.currentWriteId),p=Tf(c,r,u);let E=p;const A=p.hash();for(let se=0;se<o.length;se++){const Xe=o[se];(0,Q.hu)(0===Xe.status,"tryToSendTransactionQueue_: items in queue should all be run."),Xe.status=1,Xe.retryCount++;const ut=Rr(r,Xe.path);E=E.updateChild(ut,Xe.currentOutputSnapshotRaw)}const B=E.val(!0),Y=r;c.server_.put(Y.toString(),B,se=>{zl(c,"transaction put response",{path:Y.toString(),status:se});let Xe=[];if("ok"===se){const ut=[];for(let Ct=0;Ct<o.length;Ct++)o[Ct].status=2,Xe=Xe.concat(au(c.serverSyncTree_,o[Ct].currentWriteId)),o[Ct].onComplete&&ut.push(()=>o[Ct].onComplete(null,!0,o[Ct].currentOutputSnapshotResolved)),o[Ct].unwatcher();Up(c,vh(c.transactionQueueTree_,r)),$p(c,c.transactionQueueTree_),qo(c.eventQueue_,r,Xe);for(let Ct=0;Ct<ut.length;Ct++)Mr(ut[Ct])}else{if("datastale"===se)for(let ut=0;ut<o.length;ut++)o[ut].status=3===o[ut].status?4:0;else{fi("transaction at "+Y.toString()+" failed: "+se);for(let ut=0;ut<o.length;ut++)o[ut].status=4,o[ut].abortReason=se}Ih(c,r)}},A)}(c,wf(r),o)}else Hu(r)&&Uc(r,o=>{$p(c,o)})}function Ih(c,r){const o=Sf(c,r),u=wf(o);return function Jr(c,r,o){if(0===r.length)return;const u=[];let p=[];const A=r.filter(B=>0===B.status).map(B=>B.currentWriteId);for(let B=0;B<r.length;B++){const Y=r[B],se=Rr(o,Y.path);let ut,Xe=!1;if((0,Q.hu)(null!==se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Y.status)Xe=!0,ut=Y.abortReason,p=p.concat(au(c.serverSyncTree_,Y.currentWriteId,!0));else if(0===Y.status)if(Y.retryCount>=Np)Xe=!0,ut="maxretry",p=p.concat(au(c.serverSyncTree_,Y.currentWriteId,!0));else{const Ct=Tf(c,Y.path,A);Y.currentInputSnapshot=Ct;const Zt=r[B].update(Ct.val());if(void 0!==Zt){uc("transaction failed: Data returned ",Zt,Y.path);let nn=fs(Zt);"object"==typeof Zt&&null!=Zt&&(0,Q.r3)(Zt,".priority")||(nn=nn.updatePriority(Ct.getPriority()));const nr=Y.currentWriteId,kr=Wa(c),Ai=yh(nn,Ct,kr);Y.currentOutputSnapshotRaw=nn,Y.currentOutputSnapshotResolved=Ai,Y.currentWriteId=Fp(c),A.splice(A.indexOf(nr),1),p=p.concat(bp(c.serverSyncTree_,Y.path,Ai,Y.currentWriteId,Y.applyLocally)),p=p.concat(au(c.serverSyncTree_,nr,!0))}else Xe=!0,ut="nodata",p=p.concat(au(c.serverSyncTree_,Y.currentWriteId,!0))}qo(c.eventQueue_,o,p),p=[],Xe&&(r[B].status=2,setTimeout(r[B].unwatcher,Math.floor(0)),r[B].onComplete&&u.push("nodata"===ut?()=>r[B].onComplete(null,!1,r[B].currentInputSnapshot):()=>r[B].onComplete(new Error(ut),!1,null)))}Up(c,c.transactionQueueTree_);for(let B=0;B<u.length;B++)Mr(u[B]);$p(c,c.transactionQueueTree_)}(c,wo(c,o),u),u}function Sf(c,r){let o,u=c.transactionQueueTree_;for(o=x(r);null!==o&&void 0===Hl(u);)u=vh(u,o),o=x(r=re(r));return u}function wo(c,r){const o=[];return _m(c,r,o),o.sort((u,p)=>u.order-p.order),o}function _m(c,r,o){const u=Hl(r);if(u)for(let p=0;p<u.length;p++)o.push(u[p]);Uc(r,p=>{_m(c,p,o)})}function Up(c,r){const o=Hl(r);if(o){let u=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[u]=o[p],u++);o.length=u,Ad(r,o.length>0?o:void 0)}Uc(r,u=>{Up(c,u)})}function vm(c,r){const o=wf(Sf(c,r)),u=vh(c.transactionQueueTree_,r);return function K_(c,r,o){let u=o?c:c.parent;for(;null!==u;){if(r(u))return!0;u=u.parent}}(u,p=>{Vp(c,p)}),Vp(c,u),My(u,p=>{Vp(c,p)}),o}function Vp(c,r){const o=Hl(r);if(o){const u=[];let p=[],E=-1;for(let A=0;A<o.length;A++)3===o[A].status||(1===o[A].status?((0,Q.hu)(E===A-1,"All SENT items should be at beginning of queue."),E=A,o[A].status=3,o[A].abortReason="set"):((0,Q.hu)(0===o[A].status,"Unexpected transaction status in abort"),o[A].unwatcher(),p=p.concat(au(c.serverSyncTree_,o[A].currentWriteId,!0)),o[A].onComplete&&u.push(o[A].onComplete.bind(null,new Error("set"),!1,null))));-1===E?Ad(r,void 0):o.length=E+1,qo(c.eventQueue_,wf(r),p);for(let A=0;A<u.length;A++)Mr(u[A])}}const wh=function(c,r){const o=Z_(c),u=o.namespace;return"firebase.com"===o.domain&&io(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==o.domain&&io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jl(o.host,o.secure,u,"ws"===o.scheme||"wss"===o.scheme,r,"",u!==o.subdomain),path:new R(o.pathString)}},Z_=function(c){let r="",o="",u="",p="",E="",A=!0,B="https",Y=443;if("string"==typeof c){let se=c.indexOf("//");se>=0&&(B=c.substring(0,se-1),c=c.substring(se+2));let Xe=c.indexOf("/");-1===Xe&&(Xe=c.length);let ut=c.indexOf("?");-1===ut&&(ut=c.length),r=c.substring(0,Math.min(Xe,ut)),Xe<ut&&(p=function $y(c){let r="";const o=c.split("/");for(let u=0;u<o.length;u++)if(o[u].length>0){let p=o[u];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}r+="/"+p}return r}(c.substring(Xe,ut)));const Ct=function Uy(c){const r={};"?"===c.charAt(0)&&(c=c.substring(1));for(const o of c.split("&")){if(0===o.length)continue;const u=o.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):fi(`Invalid query segment '${o}' in query '${c}'`)}return r}(c.substring(Math.min(c.length,ut)));se=r.indexOf(":"),se>=0?(A="https"===B||"wss"===B,Y=parseInt(r.substring(se+1),10)):se=r.length;const Zt=r.slice(0,se);if("localhost"===Zt.toLowerCase())o="localhost";else if(Zt.split(".").length<=2)o=Zt;else{const nn=r.indexOf(".");u=r.substring(0,nn).toLowerCase(),o=r.substring(nn+1),E=u}"ns"in Ct&&(E=Ct.ns)}return{host:r,port:Y,domain:o,subdomain:u,secure:A,scheme:B,pathString:p,namespace:E}},Vy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jp=function(){let c=0;const r=[];return function(o){const u=o===c;let p;c=o;const E=new Array(8);for(p=7;p>=0;p--)E[p]=Vy.charAt(o%64),o=Math.floor(o/64);(0,Q.hu)(0===o,"Cannot push at time == 0");let A=E.join("");if(u){for(p=11;p>=0&&63===r[p];p--)r[p]=0;r[p]++}else for(p=0;p<12;p++)r[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)A+=Vy.charAt(r[p]);return(0,Q.hu)(20===A.length,"nextPushId: Length should be 20."),A}}();class Af{constructor(r,o,u,p){this.eventType=r,this.eventRegistration=o,this.snapshot=u,this.prevName=p}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Q.Wl)(this.snapshot.exportVal())}}class Wl{constructor(r,o,u){this.eventRegistration=r,this.error=o,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bh{constructor(r,o){this.snapshotCallback=r,this.cancelCallback=o}onValue(r,o){this.snapshotCallback.call(null,r,o)}onCancel(r){return(0,Q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Ch{constructor(r,o){this._repo=r,this._path=o}cancel(){const r=new Q.BH;return Y_(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){bl("OnDisconnect.remove",this._path);const r=new Q.BH;return mm(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){bl("OnDisconnect.set",this._path),ba("OnDisconnect.set",r,this._path,!1);const o=new Q.BH;return mm(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}setWithPriority(r,o){bl("OnDisconnect.setWithPriority",this._path),ba("OnDisconnect.setWithPriority",r,this._path,!1),Eh("OnDisconnect.setWithPriority",o,!1);const u=new Q.BH;return function Lp(c,r,o,u,p){const E=fs(o,u);c.server_.onDisconnectPut(r.toString(),E.val(!0),(A,B)=>{"ok"===A&&Mc(c.onDisconnect_,r,E),Gl(0,p,A,B)})}(this._repo,this._path,r,o,u.wrapCallback(()=>{})),u.promise}update(r){bl("OnDisconnect.update",this._path),Op("OnDisconnect.update",r,this._path,!1);const o=new Q.BH;return function ky(c,r,o,u){if((0,Q.xb)(o))return Ni("onDisconnect().update() called with empty data.  Don't do anything."),void Gl(0,u,"ok",void 0);c.server_.onDisconnectMerge(r.toString(),o,(p,E)=>{"ok"===p&&Ji(o,(A,B)=>{const Y=fs(B);Mc(c.onDisconnect_,mn(r,A),Y)}),Gl(0,u,p,E)})}(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}}class Yo{constructor(r,o,u,p){this._repo=r,this._path=o,this._queryParams=u,this._orderByCalled=p}get key(){return cn(this._path)?null:fe(this._path)}get ref(){return new Kl(this._repo,this._path)}get _queryIdentifier(){const r=yp(this._queryParams),o=ka(r);return"{}"===o?"default":o}get _queryObject(){return yp(this._queryParams)}isEqual(r){if(!((r=(0,Q.m9)(r))instanceof Yo))return!1;const o=this._repo===r._repo,u=Ks(this._path,r._path);return o&&u&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gt(c){let r="";for(let o=c.pieceNum_;o<c.pieces_.length;o++)""!==c.pieces_[o]&&(r+="/"+encodeURIComponent(String(c.pieces_[o])));return r||"/"}(this._path)}}function Mf(c,r){if(!0===c._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Fd(c){let r=null,o=null;if(c.hasStart()&&(r=c.getIndexStartValue()),c.hasEnd()&&(o=c.getIndexEndValue()),c.getIndex()===ur){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==xo)throw new Error(u);if("string"!=typeof r)throw new Error(p)}if(c.hasEnd()){if(c.getIndexEndName()!==yi)throw new Error(u);if("string"!=typeof o)throw new Error(p)}}else if(c.getIndex()===ns){if(null!=r&&!xd(r)||null!=o&&!xd(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Q.hu)(c.getIndex()instanceof dd||c.getIndex()===qs,"unknown index type."),null!=r&&"object"==typeof r||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Hp(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Kl extends Yo{constructor(r,o){super(r,o,new ui,!1)}get parent(){const r=wn(this._path);return null===r?null:new Kl(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class fu{constructor(r,o,u){this._node=r,this.ref=o,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const o=new R(r),u=Ld(this.ref,r);return new fu(this._node.getChild(o),u,ns)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,p)=>r(new fu(p,Ld(this.ref,u),ns)))}hasChild(r){const o=new R(r);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Em(c,r){return(c=(0,Q.m9)(c))._checkNotDeleted("ref"),void 0!==r?Ld(c._root,r):c._root}function jy(c,r){(c=(0,Q.m9)(c))._checkNotDeleted("refFromURL");const o=wh(r,c._repo.repoInfo_.nodeAdmin);Df("refFromURL",o);const u=o.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&u.host!==c._repo.repoInfo_.host&&io("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+c._repo.repoInfo_.host+")"),Em(c,o.path.toString())}function Ld(c,r){return null===x((c=(0,Q.m9)(c))._path)?Cf("child","path",r,!1):Pd("child","path",r,!1),new Kl(c._repo,mn(c._path,r))}function fc(c,r){c=(0,Q.m9)(c),bl("set",c._path),ba("set",r,c._path,!1);const o=new Q.BH;return gm(c._repo,c._path,r,null,o.wrapCallback(()=>{})),o.promise}function Hy(c,r){Op("update",r,c._path,!1);const o=new Q.BH;return function Oy(c,r,o,u){zl(c,"update",{path:r.toString(),value:o});let p=!0;const E=Wa(c),A={};if(Ji(o,(B,Y)=>{p=!1,A[B]=dm(mn(r,B),fs(Y),c.serverSyncTree_,E)}),p)Ni("update() called with empty data.  Don't do anything."),Gl(0,u,"ok",void 0);else{const B=Fp(c),Y=function Qs(c,r,o,u){!function Ed(c,r,o,u){(0,Q.hu)(u>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:r,children:o,writeId:u,visible:!0}),c.visibleWrites=ol(c.visibleWrites,r,o),c.lastWriteId=u}(c.pendingWriteTree_,r,o,u);const p=Sn.fromObject(o);return kc(c,new Rc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,p))}(c.serverSyncTree_,r,A,B);Nd(c.eventQueue_,Y),c.server_.merge(r.toString(),o,(se,Xe)=>{const ut="ok"===se;ut||fi("update at "+r+" failed: "+se);const Ct=au(c.serverSyncTree_,B,!ut),Zt=Ct.length>0?Ih(c,r):r;qo(c.eventQueue_,Zt,Ct),Gl(0,u,se,Xe)}),Ji(o,se=>{const Xe=vm(c,mn(r,se));Ih(c,Xe)}),qo(c.eventQueue_,r,[])}}(c._repo,c._path,r,o.wrapCallback(()=>{})),o.promise}function zy(c){c=(0,Q.m9)(c);const r=new bh(()=>{}),o=new Th(r);return function hu(c,r,o){const u=function W_(c,r){const o=r._path;let u=null;c.syncPointTree_.foreachOnPath(o,(se,Xe)=>{const ut=Rr(se,o);u=u||Uu(Xe,ut)});let p=c.syncPointTree_.get(o);p?u=u||Uu(p,w()):(p=new wp,c.syncPointTree_=c.syncPointTree_.set(o,p));const E=null!=u,A=E?new wa(u,!0,!1):null;return function Cy(c){return It(c.viewCache_)}(G_(p,r,Pc(c.pendingWriteTree_,r._path),E?A.getNode():Ur.EMPTY_NODE,E))}(c.serverSyncTree_,r);return null!=u?Promise.resolve(u):c.server_.get(r).then(p=>{const E=fs(p).withIndex(r._queryParams.getIndex());let A;if(_f(c.serverSyncTree_,r,o,!0),r._queryParams.loadsAllData())A=yf(c.serverSyncTree_,r._path,E);else{const B=ac(c.serverSyncTree_,r);A=om(c.serverSyncTree_,r._path,E,B)}return qo(c.eventQueue_,r._path,A),Cp(c.serverSyncTree_,r,o,null,!0),E},p=>(zl(c,"get for query "+(0,Q.Wl)(r)+" failed: "+p),Promise.reject(new Error(p))))}(c._repo,c,o).then(u=>new fu(u,new Kl(c._repo,c._path),c._queryParams.getIndex()))}class Th{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,o){const u=o._queryParams.getIndex();return new Af("value",this,new fu(r.snapshotNode,new Kl(o._repo,o._path),u))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new Wl(this,r,o):null}matches(r){return r instanceof Th&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class zp{constructor(r,o){this.eventType=r,this.callbackContext=o}respondsTo(r){let o="children_added"===r?"child_added":r;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new Wl(this,r,o):null}createEvent(r,o){(0,Q.hu)(null!=r.childName,"Child events should have a childName.");const u=Ld(new Kl(o._repo,o._path),r.childName),p=o._queryParams.getIndex();return new Af(r.type,this,new fu(r.snapshotNode,u,p),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof zp&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $d(c,r,o,u,p){let E;if("object"==typeof u&&(E=void 0,p=u),"function"==typeof u&&(E=u),p&&p.onlyOnce){const Y=o,se=(Xe,ut)=>{Bp(c._repo,c,B),Y(Xe,ut)};se.userCallback=o.userCallback,se.context=o.context,o=se}const A=new bh(o,E||void 0),B="value"===r?new Th(A):new zp(r,A);return function hc(c,r,o){let u;u=".info"===x(r._path)?_f(c.infoSyncTree_,r,o):_f(c.serverSyncTree_,r,o),zu(c.eventQueue_,r._path,u)}(c._repo,c,B),()=>Bp(c._repo,c,B)}function Gp(c,r,o,u){return $d(c,"value",r,o,u)}function Wp(c,r,o,u){return $d(c,"child_added",r,o,u)}function Kp(c,r,o,u){return $d(c,"child_changed",r,o,u)}function qp(c,r,o,u){return $d(c,"child_moved",r,o,u)}function Sh(c,r,o,u){return $d(c,"child_removed",r,o,u)}function Yp(c,r,o){let u=null;const p=o?new bh(o):null;"value"===r?u=new Th(p):r&&(u=new zp(r,p)),Bp(c._repo,c,u)}class ua{}class xf extends ua{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){ba("endAt",this._value,r._path,!0);const o=Ys(r._queryParams,this._value,this._key);if(Hp(o),Fd(o),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yo(r._repo,r._path,o,r._orderByCalled)}}class Wu extends ua{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){ba("endBefore",this._value,r._path,!1);const o=function Au(c,r,o){let u;return u=Ys(c,r,c.index_===ur||o?o:xo),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(Hp(o),Fd(o),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yo(r._repo,r._path,o,r._orderByCalled)}}class wm extends ua{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){ba("startAt",this._value,r._path,!0);const o=Su(r._queryParams,this._value,this._key);if(Hp(o),Fd(o),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yo(r._repo,r._path,o,r._orderByCalled)}}class Ky extends ua{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){ba("startAfter",this._value,r._path,!1);const o=function gd(c,r,o){let u;return u=Su(c,r,c.index_===ur||o?o:yi),u.startAfterSet_=!0,u}(r._queryParams,this._value,this._key);if(Hp(o),Fd(o),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Yo(r._repo,r._path,o,r._orderByCalled)}}class Ah extends ua{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yo(r._repo,r._path,function ao(c,r){const o=c.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="l",o}(r._queryParams,this._limit),r._orderByCalled)}}class bm extends ua{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yo(r._repo,r._path,function pd(c,r){const o=c.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="r",o}(r._queryParams,this._limit),r._orderByCalled)}}class Cm extends ua{constructor(r){super(),this._path=r}_apply(r){Mf(r,"orderByChild");const o=new R(this._path);if(cn(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new dd(o),p=Mu(r._queryParams,u);return Fd(p),new Yo(r._repo,r._path,p,!0)}}class Of extends ua{_apply(r){Mf(r,"orderByKey");const o=Mu(r._queryParams,ur);return Fd(o),new Yo(r._repo,r._path,o,!0)}}class Nf extends ua{_apply(r){Mf(r,"orderByPriority");const o=Mu(r._queryParams,ns);return Fd(o),new Yo(r._repo,r._path,o,!0)}}class qy extends ua{_apply(r){Mf(r,"orderByValue");const o=Mu(r._queryParams,qs);return Fd(o),new Yo(r._repo,r._path,o,!0)}}class X_ extends ua{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){if(ba("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xf(this._value,this._key)._apply(new wm(this._value,this._key)._apply(r))}}function ll(c,...r){let o=(0,Q.m9)(c);for(const u of r)o=u._apply(o);return o}(function Dy(c){(0,Q.hu)(!ou,"__referenceConstructor has already been defined"),ou=c})(Kl),function oc(c){(0,Q.hu)(!Vu,"__referenceConstructor has already been defined"),Vu=c}(Kl);const ev="FIREBASE_DATABASE_EMULATOR_HOST",Jp={};let Vd=!1;function jd(c,r,o,u,p){let E=u||c.options.databaseURL;void 0===E&&(c.options.projectId||io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ni("Using default host for project ",c.options.projectId),E=`${c.options.projectId}-default-rtdb.firebaseio.com`);let Y,se,A=wh(E,p),B=A.repoInfo;typeof process<"u"&&process.env&&(se=process.env[ev]),se?(Y=!0,E=`http://${se}?ns=${B.namespace}`,A=wh(E,p),B=A.repoInfo):Y=!A.repoInfo.secure;const Xe=p&&Y?new fn(fn.OWNER):new Qi(c.name,c.options,r);Df("Invalid Firebase Database URL",A),cn(A.path)||io("Database URL must point to the root of a Firebase Database (not including a child path).");const ut=function eg(c,r,o,u){let p=Jp[r.name];p||(p={},Jp[r.name]=p);let E=p[c.toURLString()];return E&&io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new kp(c,Vd,o,u),p[c.toURLString()]=E,E}(B,c,Xe,new Tr(c.name,o));return new Yy(ut,c)}class Yy{constructor(r,o){this._repoInternal=r,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Py(c,r,o){if(c.stats_=or(c.repoInfo_),c.forceRestClient_||Gt())c.server_=new Jc(c.repoInfo_,(u,p,E,A)=>{dc(c,u,p,E,A)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Gu(c,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.Wl)(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}c.persistentConnection_=new vt(c.repoInfo_,r,(u,p,E,A)=>{dc(c,u,p,E,A)},u=>{Gu(c,u)},u=>{!function q_(c,r){Ji(r,(o,u)=>{kd(c,o,u)})}(c,u)},c.authTokenProvider_,c.appCheckProvider_,o),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(u=>{c.server_.refreshAuthToken(u)}),c.appCheckProvider_.addTokenChangeListener(u=>{c.server_.refreshAppCheckToken(u.token)}),c.statsReporter_=function ki(c,r){const o=c.toString();return Po[o]||(Po[o]=r()),Po[o]}(c.repoInfo_,()=>new _d(c.stats_,c.server_)),c.infoData_=new lf,c.infoSyncTree_=new ju({startListening:(u,p,E,A)=>{let B=[];const Y=c.infoData_.getNode(u._path);return Y.isEmpty()||(B=yf(c.infoSyncTree_,u._path,Y),setTimeout(()=>{A("ok")},0)),B},stopListening:()=>{}}),kd(c,"connected",!1),c.serverSyncTree_=new ju({startListening:(u,p,E,A)=>(c.server_.listen(u,E,p,(B,Y)=>{const se=A(B,Y);qo(c.eventQueue_,u._path,se)}),[]),stopListening:(u,p)=>{c.server_.unlisten(u,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kl(this._repo,w())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ka(c,r){const o=Jp[r];(!o||o[c.key]!==c)&&io(`Database ${r}(${c.repoInfo_}) has already been deleted.`),ym(c),delete o[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&io("Cannot call "+r+" on a deleted database.")}}function Ff(){kl.IS_TRANSPORT_INITIALIZED&&fi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function tg(){Ff(),la.forceDisallow()}function Sm(){Ff(),Ft.forceDisallow(),la.forceAllow()}function tv(c,r){Rl(c,r)}const nv={".sv":"timestamp"};class xm{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vt.prototype.simpleListen=function(c,r){this.sendRequest("q",{p:c},r)},vt.prototype.echo=function(c,r){this.sendRequest("echo",{d:c},r)},function Lf(c){Ra(ce.SDK_VERSION),(0,ce._registerComponent)(new He.wA("database",(r,{instanceIdentifier:o})=>jd(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(fo,"0.14.4",c),(0,ce.registerVersion)(fo,"0.14.4","esm2017")}();const Pm=new Ss.Yd("@firebase/database-compat"),Om=function(c){Pm.warn("FIREBASE WARNING: "+c)};class km{constructor(r){this._delegate=r}cancel(r){(0,Q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.cancel","onComplete",r,!0);const o=this._delegate.cancel();return r&&o.then(()=>r(null),u=>r(u)),o}remove(r){(0,Q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.remove","onComplete",r,!0);const o=this._delegate.remove();return r&&o.then(()=>r(null),u=>r(u)),o}set(r,o){(0,Q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Q.Wj)("OnDisconnect.set","onComplete",o,!0);const u=this._delegate.set(r);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(r,o,u){(0,Q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Q.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const p=this._delegate.setWithPriority(r,o);return u&&p.then(()=>u(null),E=>u(E)),p}update(r,o){if((0,Q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let E=0;E<r.length;++E)p[""+E]=r[E];r=p,Om("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Q.Wj)("OnDisconnect.update","onComplete",o,!0);const u=this._delegate.update(r);return o&&u.then(()=>o(null),p=>o(p)),u}}class Fm{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return(0,Q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ku{constructor(r,o){this._database=r,this._delegate=o}val(){return(0,Q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,Q.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Pd("DataSnapshot.child","path",r,!1),new Ku(this._database,this._delegate.child(r))}hasChild(r){return(0,Q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Pd("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,Q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,Q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Q.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(o=>r(new Ku(this._database,o)))}hasChildren(){return(0,Q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Q.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ca(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xs{constructor(r,o){this.database=r,this._delegate=o}on(r,o,u,p){var E;(0,Q.Dv)("Query.on",2,4,arguments.length),(0,Q.Wj)("Query.on","callback",o,!1);const A=Xs.getCancelAndContextArgs_("Query.on",u,p),B=(se,Xe)=>{o.call(A.context,new Ku(this.database,se),Xe)};B.userCallback=o,B.context=A.context;const Y=null===(E=A.cancel)||void 0===E?void 0:E.bind(A.context);switch(r){case"value":return Gp(this._delegate,B,Y),o;case"child_added":return Wp(this._delegate,B,Y),o;case"child_removed":return Sh(this._delegate,B,Y),o;case"child_changed":return Kp(this._delegate,B,Y),o;case"child_moved":return qp(this._delegate,B,Y),o;default:throw new Error((0,Q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,o,u){if((0,Q.Dv)("Query.off",0,3,arguments.length),function(c,r,o){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,Q.Wj)("Query.off","callback",o,!0),(0,Q.lb)("Query.off","context",u,!0),o){const p=()=>{};p.userCallback=o,p.context=u,Yp(this._delegate,r,p)}else Yp(this._delegate,r)}get(){return zy(this._delegate).then(r=>new Ku(this.database,r))}once(r,o,u,p){(0,Q.Dv)("Query.once",1,4,arguments.length),(0,Q.Wj)("Query.once","callback",o,!0);const E=Xs.getCancelAndContextArgs_("Query.once",u,p),A=new Q.BH,B=(se,Xe)=>{const ut=new Ku(this.database,se);o&&o.call(E.context,ut,Xe),A.resolve(ut)};B.userCallback=o,B.context=E.context;const Y=se=>{E.cancel&&E.cancel.call(E.context,se),A.reject(se)};switch(r){case"value":Gp(this._delegate,B,Y,{onlyOnce:!0});break;case"child_added":Wp(this._delegate,B,Y,{onlyOnce:!0});break;case"child_removed":Sh(this._delegate,B,Y,{onlyOnce:!0});break;case"child_changed":Kp(this._delegate,B,Y,{onlyOnce:!0});break;case"child_moved":qp(this._delegate,B,Y,{onlyOnce:!0});break;default:throw new Error((0,Q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return A.promise}limitToFirst(r){return(0,Q.Dv)("Query.limitToFirst",1,1,arguments.length),new Xs(this.database,ll(this._delegate,function Mh(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ah(c)}(r)))}limitToLast(r){return(0,Q.Dv)("Query.limitToLast",1,1,arguments.length),new Xs(this.database,ll(this._delegate,function bo(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bm(c)}(r)))}orderByChild(r){return(0,Q.Dv)("Query.orderByChild",1,1,arguments.length),new Xs(this.database,ll(this._delegate,function Pf(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Pd("orderByChild","path",c,!1),new Cm(c)}(r)))}orderByKey(){return(0,Q.Dv)("Query.orderByKey",0,0,arguments.length),new Xs(this.database,ll(this._delegate,function Ud(){return new Of}()))}orderByPriority(){return(0,Q.Dv)("Query.orderByPriority",0,0,arguments.length),new Xs(this.database,ll(this._delegate,function Xp(){return new Nf}()))}orderByValue(){return(0,Q.Dv)("Query.orderByValue",0,0,arguments.length),new Xs(this.database,ll(this._delegate,function Dm(){return new qy}()))}startAt(r=null,o){return(0,Q.Dv)("Query.startAt",0,2,arguments.length),new Xs(this.database,ll(this._delegate,function Wy(c=null,r){return bf("startAt","key",r,!0),new wm(c,r)}(r,o)))}startAfter(r=null,o){return(0,Q.Dv)("Query.startAfter",0,2,arguments.length),new Xs(this.database,ll(this._delegate,function Qp(c,r){return bf("startAfter","key",r,!0),new Ky(c,r)}(r,o)))}endAt(r=null,o){return(0,Q.Dv)("Query.endAt",0,2,arguments.length),new Xs(this.database,ll(this._delegate,function Gy(c,r){return bf("endAt","key",r,!0),new xf(c,r)}(r,o)))}endBefore(r=null,o){return(0,Q.Dv)("Query.endBefore",0,2,arguments.length),new Xs(this.database,ll(this._delegate,function Zp(c,r){return bf("endBefore","key",r,!0),new Wu(c,r)}(r,o)))}equalTo(r,o){return(0,Q.Dv)("Query.equalTo",1,2,arguments.length),new Xs(this.database,ll(this._delegate,function J_(c,r){return bf("equalTo","key",r,!0),new X_(c,r)}(r,o)))}toString(){return(0,Q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,Q.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Xs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,o,u){const p={cancel:void 0,context:void 0};if(o&&u)p.cancel=o,(0,Q.Wj)(r,"cancel",p.cancel,!0),p.context=u,(0,Q.lb)(r,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,Q.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new Ca(this.database,new Kl(this._delegate._repo,this._delegate._path))}}class Ca extends Xs{constructor(r,o){super(r,new Yo(o._repo,o._path,new ui,!1)),this.database=r,this._delegate=o}getKey(){return(0,Q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,Q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Ca(this.database,Ld(this._delegate,r))}getParent(){(0,Q.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Ca(this.database,r):null}getRoot(){return(0,Q.Dv)("Reference.root",0,0,arguments.length),new Ca(this.database,this._delegate.root)}set(r,o){(0,Q.Dv)("Reference.set",1,2,arguments.length),(0,Q.Wj)("Reference.set","onComplete",o,!0);const u=fc(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}update(r,o){if((0,Q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let E=0;E<r.length;++E)p[""+E]=r[E];r=p,Om("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bl("Reference.update",this._delegate._path),(0,Q.Wj)("Reference.update","onComplete",o,!0);const u=Hy(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(r,o,u){(0,Q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Q.Wj)("Reference.setWithPriority","onComplete",u,!0);const p=function Rf(c,r,o){if(bl("setWithPriority",c._path),ba("setWithPriority",r,c._path,!1),Eh("setWithPriority",o,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const u=new Q.BH;return gm(c._repo,c._path,r,o,u.wrapCallback(()=>{})),u.promise}(this._delegate,r,o);return u&&p.then(()=>u(null),E=>u(E)),p}remove(r){(0,Q.Dv)("Reference.remove",0,1,arguments.length),(0,Q.Wj)("Reference.remove","onComplete",r,!0);const o=function Bd(c){return bl("remove",c._path),fc(c,null)}(this._delegate);return r&&o.then(()=>r(null),u=>r(u)),o}transaction(r,o,u){(0,Q.Dv)("Reference.transaction",1,3,arguments.length),(0,Q.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,Q.Wj)("Reference.transaction","onComplete",o,!0),function(c,r,o,u){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,Q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const p=function Qy(c,r,o){var u;if(c=(0,Q.m9)(c),bl("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const p=null===(u=null==o?void 0:o.applyLocally)||void 0===u||u,E=new Q.BH,B=Gp(c,()=>{});return function Ly(c,r,o,u,p,E){zl(c,"transaction on "+r);const A={path:r,update:o,onComplete:u,status:null,order:Xa(),applyLocally:E,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},B=Tf(c,r,void 0);A.currentInputSnapshot=B;const Y=A.update(B.val());if(void 0===Y)A.unwatcher(),A.currentOutputSnapshotRaw=null,A.currentOutputSnapshotResolved=null,A.onComplete&&A.onComplete(null,!1,A.currentInputSnapshot);else{uc("transaction failed: Data returned ",Y,A.path),A.status=0;const se=vh(c.transactionQueueTree_,r),Xe=Hl(se)||[];let ut;Xe.push(A),Ad(se,Xe),"object"==typeof Y&&null!==Y&&(0,Q.r3)(Y,".priority")?(ut=(0,Q.DV)(Y,".priority"),(0,Q.hu)(xd(ut),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ut=(lm(c.serverSyncTree_,r)||Ur.EMPTY_NODE).getPriority().val();const Ct=Wa(c),Zt=fs(Y,ut),nn=yh(Zt,B,Ct);A.currentOutputSnapshotRaw=Zt,A.currentOutputSnapshotResolved=nn,A.currentWriteId=Fp(c);const xn=bp(c.serverSyncTree_,r,nn,A.currentWriteId,A.applyLocally);qo(c.eventQueue_,r,xn),$p(c,c.transactionQueueTree_)}}(c._repo,c._path,r,(Y,se,Xe)=>{let ut=null;Y?E.reject(Y):(ut=new fu(Xe,new Kl(c._repo,c._path),ns),E.resolve(new xm(se,ut)))},B,p),E.promise}(this._delegate,r,{applyLocally:u}).then(E=>new Fm(E.committed,new Ku(this.database,E.snapshot)));return o&&p.then(E=>o(null,E.committed,E.snapshot),E=>o(E,!1,null)),p}setPriority(r,o){(0,Q.Dv)("Reference.setPriority",1,2,arguments.length),(0,Q.Wj)("Reference.setPriority","onComplete",o,!0);const u=function Im(c,r){c=(0,Q.m9)(c),bl("setPriority",c._path),Eh("setPriority",r,!1);const o=new Q.BH;return gm(c._repo,mn(c._path,".priority"),r,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,r);return o&&u.then(()=>o(null),p=>o(p)),u}push(r,o){(0,Q.Dv)("Reference.push",0,2,arguments.length),(0,Q.Wj)("Reference.push","onComplete",o,!0);const u=function Q_(c,r){c=(0,Q.m9)(c),bl("push",c._path),ba("push",r,c._path,!0);const o=du(c._repo),u=jp(o),p=Ld(c,u),E=Ld(c,u);let A;return A=null!=r?fc(E,r).then(()=>E):Promise.resolve(E),p.then=A.then.bind(A),p.catch=A.then.bind(A,void 0),p}(this._delegate,r),p=u.then(A=>new Ca(this.database,A));o&&p.then(()=>o(null),A=>o(A));const E=new Ca(this.database,u);return E.then=p.then.bind(p),E.catch=p.catch.bind(p,void 0),E}onDisconnect(){return bl("Reference.onDisconnect",this._delegate._path),new km(new Ch(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Vc{constructor(r,o){this._delegate=r,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:tg,forceLongPolling:Sm}}useEmulator(r,o,u={}){!function Am(c,r,o,u={}){(c=(0,Q.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&io("Cannot call useEmulator() after instance has already been initialized.");const p=c._repoInternal;let E;if(p.repoInfo_.nodeAdmin)u.mockUserToken&&io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new fn(fn.OWNER);else if(u.mockUserToken){const A="string"==typeof u.mockUserToken?u.mockUserToken:(0,Q.Sg)(u.mockUserToken,c.app.options.projectId);E=new fn(A)}!function Tm(c,r,o,u){c.repoInfo_=new Jl(`${r}:${o}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams,!0),u&&(c.authTokenProvider_=u)}(p,r,o,E)}(this._delegate,r,o,u)}ref(r){if((0,Q.Dv)("database.ref",0,1,arguments.length),r instanceof Ca){const o=jy(this._delegate,r.toString());return new Ca(this,o)}{const o=Em(this._delegate,r);return new Ca(this,o)}}refFromURL(r){(0,Q.Dv)("database.refFromURL",1,1,arguments.length);const u=jy(this._delegate,r);return new Ca(this,u)}goOffline(){return(0,Q.Dv)("database.goOffline",0,0,arguments.length),function Zy(c){(c=(0,Q.m9)(c))._checkNotDeleted("goOffline"),ym(c._repo)}(this._delegate)}goOnline(){return(0,Q.Dv)("database.goOnline",0,0,arguments.length),function Mm(c){(c=(0,Q.m9)(c))._checkNotDeleted("goOnline"),function Fy(c){c.persistentConnection_&&c.persistentConnection_.resume(pm)}(c._repo)}(this._delegate)}}Vc.ServerValue={TIMESTAMP:function Rm(){return nv}(),increment:c=>function ng(c){return{".sv":{increment:c}}}(c)};var Bf=Object.freeze({__proto__:null,initStandalone:function ov({app:c,url:r,version:o,customAuthImpl:u,namespace:p,nodeAdmin:E=!1}){Ra(o);const A=new He.zt("auth-internal",new He.H0("database-standalone"));return A.setComponent(new He.wA("auth-internal",()=>u,"PRIVATE")),{instance:new Vc(jd(c,A,void 0,r,E),c),namespace:p}}});const Xy=Vc.ServerValue;function $f(c){return null==c}function gu(c){return"function"==typeof c.set}function qa(c,r){return gu(r)?r:c.ref(r)}function Rh(c,r){if(function zd(c){return"string"==typeof c}(c))return r.stringCase();if(gu(c))return r.firebaseCase();if(function pu(c){return"function"==typeof c.exportVal}(c))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function Cl(c,r,o="on",u=Zn.z){return new Te.y(p=>{let E=null;return E=c[o](r,(A,B)=>{u.schedule(()=>{p.next({snapshot:A,prevKey:B})}),"once"===o&&u.schedule(()=>p.complete())},A=>{u.schedule(()=>p.error(A))}),"on"===o?{unsubscribe(){null!=E&&c.off(r,E)}}:{unsubscribe(){}}}).pipe((0,$e.U)(p=>{const{snapshot:E,prevKey:A}=p;let B=null;return E.exists()&&(B=E.key),{type:r,payload:E,prevKey:A,key:B}}),(0,Aa.B)())}function Jy(c,r){const o=c.length;for(let u=0;u<o;u++)if(c[u].payload.key===r)return u;return-1}function og(c,r){const{payload:o,prevKey:u,key:p}=r,E=Jy(c,p),A=function sg(c,r){if($f(r))return 0;{const o=Jy(c,r);return-1===o?c.length:o+1}}(c,u);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let B=null;r.payload.forEach(Y=>{const se={payload:Y,type:"value",prevKey:B,key:Y.key};return B=Y.key,c=[...c,se],!1})}return c;case"child_added":if(E>-1){const B=c[E-1];(B&&B.key||null)!==u&&(c=c.filter(Y=>Y.payload.key!==o.key)).splice(A,0,r)}else{if(null==u)return[r,...c];(c=c.slice()).splice(A,0,r)}return c;case"child_removed":return c.filter(B=>B.payload.key!==o.key);case"child_changed":return c.map(B=>B.payload.key===p?r:B);case"child_moved":if(E>-1){const B=c.splice(E,1)[0];return(c=c.slice()).splice(A,0,B),c}return c;default:return c}}function ag(c){return($f(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function lg(c,r,o){return function Uf(c,r,o){return Cl(c,"value","once",o).pipe((0,Ye.w)(u=>{const p=[(0,me.of)(u)];return r.forEach(E=>p.push(Cl(c,E,"on",o))),(0,ia.T)(...p).pipe((0,vs.R)(og,[]))}),(0,ml.x)())}(c,r=ag(r),o)}function xh(c,r,o){const u=(r=ag(r)).map(p=>Cl(c,p,"on",o));return(0,ia.T)(...u)}function t_(c,r){return function(u,p){return Rh(u,{stringCase:()=>c.child(u)[r](p),firebaseCase:()=>u[r](p),snapshotCase:()=>u.ref[r](p)})}}function n_(c){return function(o){return o?Rh(o,{stringCase:()=>c.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):c.remove()}}function Bm(c,r){return function(){return Cl(c,"value","on",r)}}!function ig(c){c.INTERNAL.registerComponent(new He.wA("database-compat",(r,{instanceIdentifier:o})=>{const u=r.getProvider("app-compat").getImmediate(),p=r.getProvider("database").getImmediate({identifier:o});return new Vc(p,u)},"PUBLIC").setServiceProps({Reference:Ca,Query:Xs,Database:Vc,DataSnapshot:Ku,enableLogging:tv,INTERNAL:Bf,ServerValue:Xy}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.3.4")}(Pe.Z);const i_=new y.OlP("angularfire2.realtimeDatabaseURL"),$m=new y.OlP("angularfire2.database.use-emulator");let Um=(()=>{class c{constructor(o,u,p,E,A,B,Y,se,Xe,ut,Ct,Zt,nn,xn,nr){this.schedulers=B;const kr=Y,Ai=(0,ye.on)(o,A,u);se&&(0,Fe.nw)(Ai,A,Xe,Ct,Zt,nn,ut,xn),this.database=(0,ye.cc)(`${Ai.name}.database.${p}`,"AngularFireDatabase",Ai.name,()=>{const vi=A.runOutsideAngular(()=>Ai.database(p||void 0));return kr&&vi.useEmulator(...kr),vi},[kr])}list(o,u){const p=this.schedulers.ngZone.runOutsideAngular(()=>qa(this.database,o));let E=p;return u&&(E=u(p)),function lv(c,r){const o=r.schedulers.outsideAngular,u=r.schedulers.ngZone.run(()=>c.ref);return{query:c,update:t_(u,"update"),set:t_(u,"set"),push:p=>u.push(p),remove:n_(u),snapshotChanges:p=>lg(c,p,o).pipe(nt.iC),stateChanges:p=>xh(c,p,o).pipe(nt.iC),auditTrail:p=>function av(c,r,o){return function Lm(c,r,o){return function e_(c,r){return Cl(c,"value","on",r).pipe((0,$e.U)(o=>{let u;return o.payload.forEach(p=>(u=p.key,!1)),{data:o,lastKeyToLoad:u}}))}(c,o).pipe(function _l(...c){const r=(0,ho.jO)(c);return(0,Ya.e)((o,u)=>{const p=c.length,E=new Array(p);let A=c.map(()=>!1),B=!1;for(let Y=0;Y<p;Y++)(0,yl.Xf)(c[Y]).subscribe((0,Ts.x)(u,se=>{E[Y]=se,!B&&!A[Y]&&(A[Y]=!0,(B=A.every(Ma.y))&&(A=null))},Al.Z));o.subscribe((0,Ts.x)(u,Y=>{if(B){const se=[Y,...E];u.next(r?r(...se):se)}}))})}(r),(0,$e.U)(([p,E])=>{const A=p.lastKeyToLoad,B=E.map(Y=>Y.key);return{actions:E,lastKeyToLoad:A,loadedKeys:B}}),function Xi(c){return(0,Ya.e)((r,o)=>{let u=!1,p=0;r.subscribe((0,Ts.x)(o,E=>(u||(u=!c(E,p++)))&&o.next(E)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,$e.U)(p=>p.actions))}(c,xh(c,r).pipe((0,vs.R)((p,E)=>[...p,E],[])),o)}(c,p,o).pipe(nt.iC),valueChanges:(p,E)=>lg(c,p,o).pipe((0,$e.U)(B=>B.map(Y=>E&&E.idField?Object.assign(Object.assign({},Y.payload.val()),{[E.idField]:Y.key}):Y.payload.val())),nt.iC)}}(E,this)}object(o){return function r_(c,r){return{query:c,snapshotChanges:()=>Bm(c,r.schedulers.outsideAngular)().pipe(nt.iC),update:o=>c.ref.update(o),set:o=>c.ref.set(o),remove:()=>c.ref.remove(),valueChanges:()=>Bm(c,r.schedulers.outsideAngular)().pipe(nt.iC,(0,$e.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qa(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(o){return new(o||c)(y.LFG(ye.Dh),y.LFG(ye.xv,8),y.LFG(i_,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(nt.HU),y.LFG($m,8),y.LFG(Fe.zQ,8),y.LFG(Fe.Qv,8),y.LFG(Fe.L6,8),y.LFG(Fe._Q,8),y.LFG(Fe.rT,8),y.LFG(Fe.lh,8),y.LFG(Fe.f7,8),y.LFG(Xt.nm,8))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),cv=(()=>{class c{constructor(){Bn.Z.registerVersion("angularfire",nt.q4.full,"rtdb-compat")}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:[Um]}),c})();var ls=L(7340);function cg(c){return new y.vHH(3e3,!1)}function pg(){return typeof window<"u"&&typeof window.document<"u"}function Hf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pc(c){switch(c.length){case 0:return new ls.ZN;case 1:return c[0];default:return new ls.ZE(c)}}function gg(c,r,o,u,p=new Map,E=new Map){const A=[],B=[];let Y=-1,se=null;if(u.forEach(Xe=>{const ut=Xe.get("offset"),Ct=ut==Y,Zt=Ct&&se||new Map;Xe.forEach((nn,xn)=>{let nr=xn,kr=nn;if("offset"!==xn)switch(nr=r.normalizePropertyName(nr,A),kr){case ls.k1:kr=p.get(xn);break;case ls.l3:kr=E.get(xn);break;default:kr=r.normalizeStyleValue(xn,nr,kr,A)}Zt.set(nr,kr)}),Ct||B.push(Zt),se=Zt,Y=ut}),A.length)throw function qu(c){return new y.vHH(3502,!1)}();return B}function mg(c,r,o,u){switch(r){case"start":c.onStart(()=>u(o&&qm(o,"start",c)));break;case"done":c.onDone(()=>u(o&&qm(o,"done",c)));break;case"destroy":c.onDestroy(()=>u(o&&qm(o,"destroy",c)))}}function qm(c,r,o){const u=o.totalTime,E=zf(c.element,c.triggerName,c.fromState,c.toState,r||c.phaseName,null==u?c.totalTime:u,!!o.disabled),A=c._data;return null!=A&&(E._data=A),E}function zf(c,r,o,u,p="",E=0,A){return{element:c,triggerName:r,fromState:o,toState:u,phaseName:p,totalTime:E,disabled:!!A}}function hl(c,r,o){let u=c.get(r);return u||c.set(r,u=o),u}function yg(c){const r=c.indexOf(":");return[c.substring(1,r),c.slice(r+1)]}let Fh=(c,r)=>!1,Lh=(c,r,o)=>[],_g=null;function Bh(c){const r=c.parentNode||c.host;return r===_g?null:r}(Hf()||typeof Element<"u")&&(pg()?(_g=(()=>document.documentElement)(),Fh=(c,r)=>{for(;r;){if(r===c)return!0;r=Bh(r)}return!1}):Fh=(c,r)=>c.contains(r),Lh=(c,r,o)=>{if(o)return Array.from(c.querySelectorAll(r));const u=c.querySelector(r);return u?[u]:[]});let fl=null,Ym=!1;const Xm=Fh,vg=Lh;let Kf=(()=>{class c{validateStyleProperty(o){return function Wd(c){fl||(fl=function Qm(){return typeof document<"u"?document.body:null}()||{},Ym=!!fl.style&&"WebkitAppearance"in fl.style);let r=!0;return fl.style&&!function Wf(c){return"ebkit"==c.substring(1,6)}(c)&&(r=c in fl.style,!r&&Ym&&(r="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in fl.style)),r}(o)}matchesElement(o,u){return!1}containsElement(o,u){return Xm(o,u)}getParentElement(o){return Bh(o)}query(o,u,p){return vg(o,u,p)}computeStyle(o,u,p){return p||""}animate(o,u,p,E,A,B=[],Y){return new ls.ZN(p,E)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})(),Kd=(()=>{class c{}return c.NOOP=new Kf,c})();const Ig=1e3,$h="ng-enter",Xu="ng-leave",qd="ng-trigger",qf=".ng-trigger",Uh="ng-animating",Yf=".ng-animating";function Zl(c){if("number"==typeof c)return c;const r=c.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Vh(parseFloat(r[1]),r[2])}function Vh(c,r){return"s"===r?c*Ig:c}function jc(c,r,o){return c.hasOwnProperty("duration")?c:function bg(c,r,o){let p,E=0,A="";if("string"==typeof c){const B=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===B)return r.push(cg()),{duration:0,delay:0,easing:""};p=Vh(parseFloat(B[1]),B[2]);const Y=B[3];null!=Y&&(E=Vh(parseFloat(Y),B[4]));const se=B[5];se&&(A=se)}else p=c;if(!o){let B=!1,Y=r.length;p<0&&(r.push(function Vm(){return new y.vHH(3100,!1)}()),B=!0),E<0&&(r.push(function jm(){return new y.vHH(3101,!1)}()),B=!0),B&&r.splice(Y,0,cg())}return{duration:p,delay:E,easing:A}}(c,r,o)}function jh(c,r={}){return Object.keys(c).forEach(o=>{r[o]=c[o]}),r}function ey(c){const r=new Map;return Object.keys(c).forEach(o=>{r.set(o,c[o])}),r}function mu(c,r=new Map,o){if(o)for(let[u,p]of o)r.set(u,p);for(let[u,p]of c)r.set(u,p);return r}function Dg(c,r,o){return o?r+":"+o+";":""}function Zf(c){let r="";for(let o=0;o<c.style.length;o++){const u=c.style.item(o);r+=Dg(0,u,c.style.getPropertyValue(u))}for(const o in c.style)c.style.hasOwnProperty(o)&&!o.startsWith("_")&&(r+=Dg(0,l_(o),c.style[o]));c.setAttribute("style",r)}function da(c,r,o){c.style&&(r.forEach((u,p)=>{const E=Si(p);o&&!o.has(p)&&o.set(p,c.style[E]),c.style[E]=u}),Hf()&&Zf(c))}function Yd(c,r){c.style&&(r.forEach((o,u)=>{const p=Si(u);c.style[p]=""}),Hf()&&Zf(c))}function Qf(c){return Array.isArray(c)?1==c.length?c[0]:(0,ls.vP)(c):c}const gc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xf(c){let r=[];if("string"==typeof c){let o;for(;o=gc.exec(c);)r.push(o[1]);gc.lastIndex=0}return r}function Hh(c,r,o){const u=c.toString(),p=u.replace(gc,(E,A)=>{let B=r[A];return null==B&&(o.push(function Hm(c){return new y.vHH(3003,!1)}()),B=""),B.toString()});return p==u?c:p}function Zd(c){const r=[];let o=c.next();for(;!o.done;)r.push(o.value),o=c.next();return r}const ty=/-+([a-z0-9])/g;function Si(c){return c.replace(ty,(...r)=>r[1].toUpperCase())}function l_(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pl(c,r,o){switch(r.type){case 7:return c.visitTrigger(r,o);case 0:return c.visitState(r,o);case 1:return c.visitTransition(r,o);case 2:return c.visitSequence(r,o);case 3:return c.visitGroup(r,o);case 4:return c.visitAnimate(r,o);case 5:return c.visitKeyframes(r,o);case 6:return c.visitStyle(r,o);case 8:return c.visitReference(r,o);case 9:return c.visitAnimateChild(r,o);case 10:return c.visitAnimateRef(r,o);case 11:return c.visitQuery(r,o);case 12:return c.visitStagger(r,o);default:throw function dv(c){return new y.vHH(3004,!1)}()}}function ei(c,r){return window.getComputedStyle(c)[r]}const yu="*";function ry(c,r){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(u=>function yv(c,r,o){if(":"==c[0]){const Y=function f_(c,r){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return r.push(function Yl(c){return new y.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof Y)return void r.push(Y);c=Y}const u=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Zo(c){return new y.vHH(3015,!1)}()),r;const p=u[1],E=u[2],A=u[3];r.push(Bv(p,A));"<"==E[0]&&!(p==yu&&A==yu)&&r.push(Bv(A,p))}(u,o,r)):o.push(c),o}const cs=new Set(["true","1"]),Ag=new Set(["false","0"]);function Bv(c,r){const o=cs.has(c)||Ag.has(c),u=cs.has(r)||Ag.has(r);return(p,E)=>{let A=c==yu||c==p,B=r==yu||r==E;return!A&&o&&"boolean"==typeof p&&(A=p?cs.has(c):Ag.has(c)),!B&&u&&"boolean"==typeof E&&(B=E?cs.has(r):Ag.has(r)),A&&B}}const Mg=new RegExp("s*:selfs*,?","g");function Ql(c,r,o,u){return new iy(c).build(r,o,u)}class iy{constructor(r){this._driver=r}build(r,o,u){const p=new yc(o);return this._resetContextStyleTimingState(p),pl(this,Qf(r),p)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,o){let u=o.queryCount=0,p=o.depCount=0;const E=[],A=[];return"@"==r.name.charAt(0)&&o.errors.push(function zm(){return new y.vHH(3006,!1)}()),r.definitions.forEach(B=>{if(this._resetContextStyleTimingState(o),0==B.type){const Y=B,se=Y.name;se.toString().split(/\s*,\s*/).forEach(Xe=>{Y.name=Xe,E.push(this.visitState(Y,o))}),Y.name=se}else if(1==B.type){const Y=this.visitTransition(B,o);u+=Y.queryCount,p+=Y.depCount,A.push(Y)}else o.errors.push(function Gm(){return new y.vHH(3007,!1)}())}),{type:7,name:r.name,states:E,transitions:A,queryCount:u,depCount:p,options:null}}visitState(r,o){const u=this.visitStyle(r.styles,o),p=r.options&&r.options.params||null;if(u.containsDynamicStyles){const E=new Set,A=p||{};u.styles.forEach(B=>{B instanceof Map&&B.forEach(Y=>{Xf(Y).forEach(se=>{A.hasOwnProperty(se)||E.add(se)})})}),E.size&&(Zd(E.values()),o.errors.push(function hv(c,r){return new y.vHH(3008,!1)}()))}return{type:0,name:r.name,style:u,options:p?{params:p}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;const u=pl(this,Qf(r.animation),o);return{type:1,matchers:ry(r.expr,o.errors),animation:u,queryCount:o.queryCount,depCount:o.depCount,options:Qd(r.options)}}visitSequence(r,o){return{type:2,steps:r.steps.map(u=>pl(this,u,o)),options:Qd(r.options)}}visitGroup(r,o){const u=o.currentTime;let p=0;const E=r.steps.map(A=>{o.currentTime=u;const B=pl(this,A,o);return p=Math.max(p,o.currentTime),B});return o.currentTime=p,{type:3,steps:E,options:Qd(r.options)}}visitAnimate(r,o){const u=function _v(c,r){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return sy(jc(c,r).duration,0,"");const o=c;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=sy(0,0,"");return E.dynamic=!0,E.strValue=o,E}const p=jc(o,r);return sy(p.duration,p.delay,p.easing)}(r.timings,o.errors);o.currentAnimateTimings=u;let p,E=r.styles?r.styles:(0,ls.oB)({});if(5==E.type)p=this.visitKeyframes(E,o);else{let A=r.styles,B=!1;if(!A){B=!0;const se={};u.easing&&(se.easing=u.easing),A=(0,ls.oB)(se)}o.currentTime+=u.duration+u.delay;const Y=this.visitStyle(A,o);Y.isEmptyStep=B,p=Y}return o.currentAnimateTimings=null,{type:4,timings:u,style:p,options:null}}visitStyle(r,o){const u=this._makeStyleAst(r,o);return this._validateStyleAst(u,o),u}_makeStyleAst(r,o){const u=[],p=Array.isArray(r.styles)?r.styles:[r.styles];for(let B of p)"string"==typeof B?B===ls.l3?u.push(B):o.errors.push(new y.vHH(3002,!1)):u.push(ey(B));let E=!1,A=null;return u.forEach(B=>{if(B instanceof Map&&(B.has("easing")&&(A=B.get("easing"),B.delete("easing")),!E))for(let Y of B.values())if(Y.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:u,easing:A,offset:r.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(r,o){const u=o.currentAnimateTimings;let p=o.currentTime,E=o.currentTime;u&&E>0&&(E-=u.duration+u.delay),r.styles.forEach(A=>{"string"!=typeof A&&A.forEach((B,Y)=>{const se=o.collectedStyles.get(o.currentQuerySelector),Xe=se.get(Y);let ut=!0;Xe&&(E!=p&&E>=Xe.startTime&&p<=Xe.endTime&&(o.errors.push(function dg(c,r,o,u,p){return new y.vHH(3010,!1)}()),ut=!1),E=Xe.startTime),ut&&se.set(Y,{startTime:E,endTime:p}),o.options&&function Tg(c,r,o){const u=r.params||{},p=Xf(c);p.length&&p.forEach(E=>{u.hasOwnProperty(E)||o.push(function uv(c){return new y.vHH(3001,!1)}())})}(B,o.options,o.errors)})})}visitKeyframes(r,o){const u={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Wm(){return new y.vHH(3011,!1)}()),u;let E=0;const A=[];let B=!1,Y=!1,se=0;const Xe=r.steps.map(kr=>{const Ai=this._makeStyleAst(kr,o);let vi=null!=Ai.offset?Ai.offset:function g_(c){if("string"==typeof c)return null;let r=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;r=parseFloat(u.get("offset")),u.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;r=parseFloat(o.get("offset")),o.delete("offset")}return r}(Ai.styles),bi=0;return null!=vi&&(E++,bi=Ai.offset=vi),Y=Y||bi<0||bi>1,B=B||bi<se,se=bi,A.push(bi),Ai});Y&&o.errors.push(function pv(){return new y.vHH(3012,!1)}()),B&&o.errors.push(function Vf(){return new y.vHH(3200,!1)}());const ut=r.steps.length;let Ct=0;E>0&&E<ut?o.errors.push(function gv(){return new y.vHH(3202,!1)}()):0==E&&(Ct=1/(ut-1));const Zt=ut-1,nn=o.currentTime,xn=o.currentAnimateTimings,nr=xn.duration;return Xe.forEach((kr,Ai)=>{const vi=Ct>0?Ai==Zt?1:Ct*Ai:A[Ai],bi=vi*nr;o.currentTime=nn+xn.delay+bi,xn.duration=bi,this._validateStyleAst(kr,o),kr.offset=vi,u.styles.push(kr)}),u}visitReference(r,o){return{type:8,animation:pl(this,Qf(r.animation),o),options:Qd(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:9,options:Qd(r.options)}}visitAnimateRef(r,o){return{type:10,animation:this.visitReference(r.animation,o),options:Qd(r.options)}}visitQuery(r,o){const u=o.currentQuerySelector,p=r.options||{};o.queryCount++,o.currentQuery=r;const[E,A]=function Hc(c){const r=!!c.split(/\s*,\s*/).find(o=>":self"==o);return r&&(c=c.replace(Mg,"")),c=c.replace(/@\*/g,qf).replace(/@\w+/g,o=>qf+"-"+o.slice(1)).replace(/:animating/g,Yf),[c,r]}(r.selector);o.currentQuerySelector=u.length?u+" "+E:E,hl(o.collectedStyles,o.currentQuerySelector,new Map);const B=pl(this,Qf(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:11,selector:E,limit:p.limit||0,optional:!!p.optional,includeSelf:A,animation:B,originalSelector:r.selector,options:Qd(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(function ql(){return new y.vHH(3013,!1)}());const u="full"===r.timings?{duration:0,delay:0,easing:"full"}:jc(r.timings,o.errors,!0);return{type:12,animation:pl(this,Qf(r.animation),o),timings:u,options:null}}}class yc{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qd(c){return c?(c=jh(c)).params&&(c.params=function mc(c){return c?jh(c):null}(c.params)):c={},c}function sy(c,r,o){return{duration:c,delay:r,easing:o}}function Rg(c,r,o,u,p,E,A=null,B=!1){return{type:1,element:c,keyframes:r,preStyleProps:o,postStyleProps:u,duration:p,delay:E,totalTime:p+E,easing:A,subTimeline:B}}class Ju{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let u=this._map.get(r);u||this._map.set(r,u=[]),u.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const _u=new RegExp(":enter","g"),Xd=new RegExp(":leave","g");function Gh(c,r,o,u,p,E=new Map,A=new Map,B,Y,se=[]){return(new m_).buildKeyframes(c,r,o,u,p,E,A,B,Y,se)}class m_{buildKeyframes(r,o,u,p,E,A,B,Y,se,Xe=[]){se=se||new Ju;const ut=new Jd(r,o,se,p,E,Xe,[]);ut.options=Y;const Ct=Y.delay?Zl(Y.delay):0;ut.currentTimeline.delayNextStep(Ct),ut.currentTimeline.setStyles([A],null,ut.errors,Y),pl(this,u,ut);const Zt=ut.timelines.filter(nn=>nn.containsAnimation());if(Zt.length&&B.size){let nn;for(let xn=Zt.length-1;xn>=0;xn--){const nr=Zt[xn];if(nr.element===o){nn=nr;break}}nn&&!nn.allowOnlyTimelineStyles()&&nn.setStyles([B],null,ut.errors,Y)}return Zt.length?Zt.map(nn=>nn.buildKeyframes()):[Rg(o,[],[],[],0,Ct,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){const u=o.subInstructions.get(o.element);if(u){const p=o.createSubContext(r.options),E=o.currentTimeline.currentTime,A=this._visitSubInstructions(u,p,p.options);E!=A&&o.transformIntoNewTimeline(A)}o.previousNode=r}visitAnimateRef(r,o){const u=o.createSubContext(r.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,u),this.visitReference(r.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,u){for(const E of r){const A=null==E?void 0:E.delay;if(A){var p;const B="number"==typeof A?A:Zl(Hh(A,null!==(p=null==E?void 0:E.params)&&void 0!==p?p:{},o.errors));u.delayNextStep(B)}}}_visitSubInstructions(r,o,u){let E=o.currentTimeline.currentTime;const A=null!=u.duration?Zl(u.duration):null,B=null!=u.delay?Zl(u.delay):null;return 0!==A&&r.forEach(Y=>{const se=o.appendInstructionToTimeline(Y,A,B);E=Math.max(E,se.duration+se.delay)}),E}visitReference(r,o){o.updateOptions(r.options,!0),pl(this,r.animation,o),o.previousNode=r}visitSequence(r,o){const u=o.subContextCount;let p=o;const E=r.options;if(E&&(E.params||E.delay)&&(p=o.createSubContext(E),p.transformIntoNewTimeline(),null!=E.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Jf);const A=Zl(E.delay);p.delayNextStep(A)}r.steps.length&&(r.steps.forEach(A=>pl(this,A,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>u&&p.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){const u=[];let p=o.currentTimeline.currentTime;const E=r.options&&r.options.delay?Zl(r.options.delay):0;r.steps.forEach(A=>{const B=o.createSubContext(r.options);E&&B.delayNextStep(E),pl(this,A,B),p=Math.max(p,B.currentTimeline.currentTime),u.push(B.currentTimeline)}),u.forEach(A=>o.currentTimeline.mergeTimelineCollectedStyles(A)),o.transformIntoNewTimeline(p),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){const u=r.strValue;return jc(o.params?Hh(u,o.params,o.errors):u,o.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){const u=o.currentAnimateTimings=this._visitTiming(r.timings,o),p=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),p.snapshotCurrentStyles());const E=r.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(u.duration),this.visitStyle(E,o),p.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){const u=o.currentTimeline,p=o.currentAnimateTimings;!p&&u.hasCurrentStyleProperties()&&u.forwardFrame();const E=p&&p.easing||r.easing;r.isEmptyStep?u.applyEmptyStep(E):u.setStyles(r.styles,E,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){const u=o.currentAnimateTimings,p=o.currentTimeline.duration,E=u.duration,B=o.createSubContext().currentTimeline;B.easing=u.easing,r.styles.forEach(Y=>{B.forwardTime((Y.offset||0)*E),B.setStyles(Y.styles,Y.easing,o.errors,o.options),B.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(B),o.transformIntoNewTimeline(p+E),o.previousNode=r}visitQuery(r,o){const u=o.currentTimeline.currentTime,p=r.options||{},E=p.delay?Zl(p.delay):0;E&&(6===o.previousNode.type||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Jf);let A=u;const B=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!p.optional,o.errors);o.currentQueryTotal=B.length;let Y=null;B.forEach((se,Xe)=>{o.currentQueryIndex=Xe;const ut=o.createSubContext(r.options,se);E&&ut.delayNextStep(E),se===o.element&&(Y=ut.currentTimeline),pl(this,r.animation,ut),ut.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,ut.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(A),Y&&(o.currentTimeline.mergeTimelineCollectedStyles(Y),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){const u=o.parentContext,p=o.currentTimeline,E=r.timings,A=Math.abs(E.duration),B=A*(o.currentQueryTotal-1);let Y=A*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":Y=B-Y;break;case"full":Y=u.currentStaggerTime}const Xe=o.currentTimeline;Y&&Xe.delayNextStep(Y);const ut=Xe.currentTime;pl(this,r.animation,o),o.previousNode=r,u.currentStaggerTime=p.currentTime-ut+(p.startTime-u.currentTimeline.startTime)}}const Jf={};class Jd{constructor(r,o,u,p,E,A,B,Y){this._driver=r,this.element=o,this.subInstructions=u,this._enterClassName=p,this._leaveClassName=E,this.errors=A,this.timelines=B,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Y||new ep(this._driver,o,0),B.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;const u=r;let p=this.options;null!=u.duration&&(p.duration=Zl(u.duration)),null!=u.delay&&(p.delay=Zl(u.delay));const E=u.params;if(E){let A=p.params;A||(A=this.options.params={}),Object.keys(E).forEach(B=>{(!o||!A.hasOwnProperty(B))&&(A[B]=Hh(E[B],A,this.errors))})}}_copyOptions(){const r={};if(this.options){const o=this.options.params;if(o){const u=r.params={};Object.keys(o).forEach(p=>{u[p]=o[p]})}}return r}createSubContext(r=null,o,u){const p=o||this.element,E=new Jd(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,u||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(r),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(r){return this.previousNode=Jf,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,u){const p={duration:null!=o?o:r.duration,delay:this.currentTimeline.currentTime+(null!=u?u:0)+r.delay,easing:""},E=new tp(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,p,r.stretchStartingKeyframe);return this.timelines.push(E),p}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,u,p,E,A){let B=[];if(p&&B.push(this.element),r.length>0){r=(r=r.replace(_u,"."+this._enterClassName)).replace(Xd,"."+this._leaveClassName);let se=this._driver.query(this.element,r,1!=u);0!==u&&(se=u<0?se.slice(se.length+u,se.length):se.slice(0,u)),B.push(...se)}return!E&&0==B.length&&A.push(function Gd(c){return new y.vHH(3014,!1)}()),B}}class ep{constructor(r,o,u,p){this._driver=r,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new ep(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||ls.l3),this._currentKeyframe.set(o,ls.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,u,p){o&&this._previousKeyframe.set("easing",o);const E=p&&p.params||{},A=function vu(c,r){const o=new Map;let u;return c.forEach(p=>{if("*"===p){u=u||r.keys();for(let E of u)o.set(E,ls.l3)}else mu(p,o)}),o}(r,this._globalTimelineStyles);for(let[Y,se]of A){const Xe=Hh(se,E,u);var B;this._pendingStyles.set(Y,Xe),this._localTimelineStyles.has(Y)||this._backFill.set(Y,null!==(B=this._globalTimelineStyles.get(Y))&&void 0!==B?B:ls.l3),this._updateStyle(Y,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,u)=>{const p=this._styleSummary.get(u);(!p||o.time>p.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((B,Y)=>{const se=mu(B,new Map,this._backFill);se.forEach((Xe,ut)=>{Xe===ls.k1?r.add(ut):Xe===ls.l3&&o.add(ut)}),u||se.set("offset",Y/this.duration),p.push(se)});const E=r.size?Zd(r.values()):[],A=o.size?Zd(o.values()):[];if(u){const B=p[0],Y=new Map(B);B.set("offset",0),Y.set("offset",1),p=[B,Y]}return Rg(this.element,p,E,A,this.duration,this.startTime,this.easing,!1)}}class tp extends ep{constructor(r,o,u,p,E,A,B=!1){super(r,o,A.delay),this.keyframes=u,this.preStyleProps=p,this.postStyleProps=E,this._stretchStartingKeyframe=B,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:u,easing:p}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],A=u+o,B=o/A,Y=mu(r[0]);Y.set("offset",0),E.push(Y);const se=mu(r[0]);se.set("offset",ay(B)),E.push(se);const Xe=r.length-1;for(let ut=1;ut<=Xe;ut++){let Ct=mu(r[ut]);const Zt=Ct.get("offset");Ct.set("offset",ay((o+Zt*u)/A)),E.push(Ct)}u=A,o=0,p="",r=E}return Rg(this.element,r,this.preStyleProps,this.postStyleProps,u,o,p,!0)}}function ay(c,r=3){const o=Math.pow(10,r-1);return Math.round(c*o)/o}class ed{}const xg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class __ extends ed{normalizePropertyName(r,o){return Si(r)}normalizeStyleValue(r,o,u,p){let E="";const A=u.toString().trim();if(xg.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)E="px";else{const B=u.match(/^[+-]?[\d\.]+([a-z]*)$/);B&&0==B[1].length&&p.push(function ug(c,r){return new y.vHH(3005,!1)}())}return A+E}}function ly(c,r,o,u,p,E,A,B,Y,se,Xe,ut,Ct){return{type:0,element:c,triggerName:r,isRemovalTransition:p,fromState:o,fromStyles:E,toState:u,toStyles:A,timelines:B,queriedElements:Y,preStyleProps:se,postStyleProps:Xe,totalTime:ut,errors:Ct}}const Pg={};class np{constructor(r,o,u){this._triggerName=r,this.ast=o,this._stateStyles=u}match(r,o,u,p){return function v_(c,r,o,u,p){return c.some(E=>E(r,o,u,p))}(this.ast.matchers,r,o,u,p)}buildStyles(r,o,u){let p=this._stateStyles.get("*");return void 0!==r&&(p=this._stateStyles.get(null==r?void 0:r.toString())||p),p?p.buildStyles(o,u):new Map}build(r,o,u,p,E,A,B,Y,se,Xe){var ut;const Ct=[],Zt=this.ast.options&&this.ast.options.params||Pg,xn=this.buildStyles(u,B&&B.params||Pg,Ct),nr=Y&&Y.params||Pg,kr=this.buildStyles(p,nr,Ct),Ai=new Set,vi=new Map,bi=new Map,fa="void"===p,Da={params:eh(nr,Zt),delay:null===(ut=this.ast.options)||void 0===ut?void 0:ut.delay},Qo=Xe?[]:Gh(r,o,this.ast.animation,E,A,xn,kr,Da,se,Ct);let Xo=0;if(Qo.forEach(_c=>{Xo=Math.max(_c.duration+_c.delay,Xo)}),Ct.length)return ly(o,this._triggerName,u,p,fa,xn,kr,[],[],vi,bi,Xo,Ct);Qo.forEach(_c=>{const Zh=_c.element,Kc=hl(vi,Zh,new Set);_c.preStyleProps.forEach(Qh=>Kc.add(Qh));const nh=hl(bi,Zh,new Set);_c.postStyleProps.forEach(Qh=>nh.add(Qh)),Zh!==o&&Ai.add(Zh)});const Wc=Zd(Ai.values());return ly(o,this._triggerName,u,p,fa,xn,kr,Qo,Wc,vi,bi,Xo)}}function eh(c,r){const o=jh(r);for(const u in c)c.hasOwnProperty(u)&&null!=c[u]&&(o[u]=c[u]);return o}class E_{constructor(r,o,u){this.styles=r,this.defaultParams=o,this.normalizer=u}buildStyles(r,o){const u=new Map,p=jh(this.defaultParams);return Object.keys(r).forEach(E=>{const A=r[E];null!==A&&(p[E]=A)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((A,B)=>{A&&(A=Hh(A,p,o));const Y=this.normalizer.normalizePropertyName(B,o);A=this.normalizer.normalizeStyleValue(B,Y,A,o),u.set(B,A)})}),u}}class uy{constructor(r,o,u){this.name=r,this.ast=o,this._normalizer=u,this.transitionFactories=[],this.states=new Map,o.states.forEach(p=>{this.states.set(p.name,new E_(p.style,p.options&&p.options.params||{},u))}),w_(this.states,"true","1"),w_(this.states,"false","0"),o.transitions.forEach(p=>{this.transitionFactories.push(new np(r,p,this.states))}),this.fallbackTransition=function rp(c,r,o){return new np(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,B)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,u,p){return this.transitionFactories.find(A=>A.match(r,o,u,p))||null}matchStyles(r,o,u){return this.fallbackTransition.buildStyles(r,o,u)}}function w_(c,r,o){c.has(r)?c.has(o)||c.set(o,c.get(r)):c.has(o)&&c.set(r,c.get(o))}const Og=new Ju;class Ng{constructor(r,o,u){this.bodyNode=r,this._driver=o,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){const u=[],p=[],E=Ql(this._driver,o,u,p);if(u.length)throw function dl(c){return new y.vHH(3503,!1)}();this._animations.set(r,E)}_buildPlayer(r,o,u){const p=r.element,E=gg(0,this._normalizer,0,r.keyframes,o,u);return this._driver.animate(p,E,r.duration,r.delay,r.easing,[],!0)}create(r,o,u={}){const p=[],E=this._animations.get(r);let A;const B=new Map;if(E?(A=Gh(this._driver,o,E,$h,Xu,new Map,new Map,u,Og,p),A.forEach(Xe=>{const ut=hl(B,Xe.element,new Map);Xe.postStyleProps.forEach(Ct=>ut.set(Ct,null))})):(p.push(function Yu(){return new y.vHH(3300,!1)}()),A=[]),p.length)throw function Ph(c){return new y.vHH(3504,!1)}();B.forEach((Xe,ut)=>{Xe.forEach((Ct,Zt)=>{Xe.set(Zt,this._driver.computeStyle(ut,Zt,ls.l3))})});const se=pc(A.map(Xe=>{const ut=B.get(Xe.element);return this._buildPlayer(Xe,new Map,ut)}));return this._playersById.set(r,se),se.onDestroy(()=>this.destroy(r)),this.players.push(se),se}destroy(r){const o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(r){const o=this._playersById.get(r);if(!o)throw function Zu(c){return new y.vHH(3301,!1)}();return o}listen(r,o,u,p){const E=zf(o,"","","");return mg(this._getPlayer(r),u,E,p),()=>{}}command(r,o,u,p){if("register"==u)return void this.register(r,p[0]);if("create"==u)return void this.create(r,o,p[0]||{});const E=this._getPlayer(r);switch(u){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(r)}}}const dy="ng-animate-queued",hy="ng-animate-disabled",sp=[],Eu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},op={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tl="__ng_removed";class Iu{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;const u=r&&r.hasOwnProperty("value");if(this.value=function T_(c){return null!=c?c:null}(u?r.value:r),u){const E=jh(r);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const o=r.params;if(o){const u=this.options.params;Object.keys(o).forEach(p=>{null==u[p]&&(u[p]=o[p])})}}}const ap="void",py=new Iu(ap);class Fg{constructor(r,o,u){this.id=r,this.hostElement=o,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ha(o,this._hostClassName)}listen(r,o,u,p){if(!this._triggers.has(o))throw function Oh(c,r){return new y.vHH(3302,!1)}();if(null==u||0==u.length)throw function Nh(c){return new y.vHH(3303,!1)}();if(!function S_(c){return"start"==c||"done"==c}(u))throw function Qu(c,r){return new y.vHH(3400,!1)}();const E=hl(this._elementListeners,r,[]),A={name:o,phase:u,callback:p};E.push(A);const B=hl(this._engine.statesByElement,r,new Map);return B.has(o)||(ha(r,qd),ha(r,qd+"-"+o),B.set(o,py)),()=>{this._engine.afterFlush(()=>{const Y=E.indexOf(A);Y>=0&&E.splice(Y,1),this._triggers.has(o)||B.delete(o)})}}register(r,o){return!this._triggers.has(r)&&(this._triggers.set(r,o),!0)}_getTrigger(r){const o=this._triggers.get(r);if(!o)throw function kh(c){return new y.vHH(3401,!1)}();return o}trigger(r,o,u,p=!0){const E=this._getTrigger(o),A=new th(this.id,o,r);let B=this._engine.statesByElement.get(r);B||(ha(r,qd),ha(r,qd+"-"+o),this._engine.statesByElement.set(r,B=new Map));let Y=B.get(o);const se=new Iu(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&Y&&se.absorbOptions(Y.options),B.set(o,se),Y||(Y=py),se.value!==ap&&Y.value===se.value){if(!function gy(c,r){const o=Object.keys(c),u=Object.keys(r);if(o.length!=u.length)return!1;for(let p=0;p<o.length;p++){const E=o[p];if(!r.hasOwnProperty(E)||c[E]!==r[E])return!1}return!0}(Y.params,se.params)){const xn=[],nr=E.matchStyles(Y.value,Y.params,xn),kr=E.matchStyles(se.value,se.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{Yd(r,nr),da(r,kr)})}return}const Ct=hl(this._engine.playersByElement,r,[]);Ct.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==o&&xn.queued&&xn.destroy()});let Zt=E.matchTransition(Y.value,se.value,r,se.params),nn=!1;if(!Zt){if(!p)return;Zt=E.fallbackTransition,nn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:Zt,fromState:Y,toState:se,player:A,isFallbackTransition:nn}),nn||(ha(r,dy),A.onStart(()=>{Kh(r,dy)})),A.onDone(()=>{let xn=this.players.indexOf(A);xn>=0&&this.players.splice(xn,1);const nr=this._engine.playersByElement.get(r);if(nr){let kr=nr.indexOf(A);kr>=0&&nr.splice(kr,1)}}),this.players.push(A),Ct.push(A),A}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(p=>p.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const o=this._engine.playersByElement.get(r);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){const u=this._engine.driver.query(r,qf,!0);u.forEach(p=>{if(p[Tl])return;const E=this._engine.fetchNamespacesByElement(p);E.size?E.forEach(A=>A.triggerLeaveAnimation(p,o,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(r,o,u,p){const E=this._engine.statesByElement.get(r),A=new Map;if(E){const B=[];if(E.forEach((Y,se)=>{if(A.set(se,Y.value),this._triggers.has(se)){const Xe=this.trigger(r,se,ap,p);Xe&&B.push(Xe)}}),B.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,A),u&&pc(B).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const o=this._elementListeners.get(r),u=this._engine.statesByElement.get(r);if(o&&u){const p=new Set;o.forEach(E=>{const A=E.name;if(p.has(A))return;p.add(A);const Y=this._triggers.get(A).fallbackTransition,se=u.get(A)||py,Xe=new Iu(ap),ut=new th(this.id,A,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:A,transition:Y,fromState:se,toState:Xe,player:ut,isFallbackTransition:!0})})}}removeNode(r,o){const u=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let p=!1;if(u.totalAnimations){const E=u.players.length?u.playersByQueriedElement.get(r):[];if(E&&E.length)p=!0;else{let A=r;for(;A=A.parentNode;)if(u.statesByElement.get(A)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(r),p)u.markElementAsRemoved(this.id,r,!1,o);else{const E=r[Tl];(!E||E===Eu)&&(u.afterFlush(()=>this.clearElementCache(r)),u.destroyInnerAnimations(r),u._onRemovalComplete(r,o))}}insertNode(r,o){ha(r,this._hostClassName)}drainQueuedTransitions(r){const o=[];return this._queue.forEach(u=>{const p=u.player;if(p.destroyed)return;const E=u.element,A=this._elementListeners.get(E);A&&A.forEach(B=>{if(B.name==u.triggerName){const Y=zf(E,u.triggerName,u.fromState.value,u.toState.value);Y._data=r,mg(u.player,B.phase,Y,B.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):o.push(u)}),this._queue=[],o.sort((u,p)=>{const E=u.transition.ast.depCount,A=p.transition.ast.depCount;return 0==E||0==A?E-A:this._engine.driver.containsElement(u.element,p.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let o=!1;return this._elementListeners.has(r)&&(o=!0),o=!!this._queue.find(u=>u.element===r)||o,o}}class C_{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,u){this.bodyNode=r,this.driver=o,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,E)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&r.push(u)})}),r}createNamespace(r,o){const u=new Fg(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[r]=u}_balanceNamespaceList(r,o){const u=this._namespaceList,p=this.namespacesByHostElement;if(u.length-1>=0){let A=!1,B=this.driver.getParentElement(o);for(;B;){const Y=p.get(B);if(Y){const se=u.indexOf(Y);u.splice(se+1,0,r),A=!0;break}B=this.driver.getParentElement(B)}A||u.unshift(r)}else u.push(r);return p.set(o,r),r}register(r,o){let u=this._namespaceLookup[r];return u||(u=this.createNamespace(r,o)),u}registerTrigger(r,o,u){let p=this._namespaceLookup[r];p&&p.register(o,u)&&this.totalAnimations++}destroy(r,o){if(!r)return;const u=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(u.hostElement),delete this._namespaceLookup[r];const p=this._namespaceList.indexOf(u);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>u.destroy(o))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const o=new Set,u=this.statesByElement.get(r);if(u)for(let p of u.values())if(p.namespaceId){const E=this._fetchNamespace(p.namespaceId);E&&o.add(E)}return o}trigger(r,o,u,p){if(wu(o)){const E=this._fetchNamespace(r);if(E)return E.trigger(o,u,p),!0}return!1}insertNode(r,o,u,p){if(!wu(o))return;const E=o[Tl];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const A=this.collectedLeaveElements.indexOf(o);A>=0&&this.collectedLeaveElements.splice(A,1)}if(r){const A=this._fetchNamespace(r);A&&A.insertNode(o,u)}p&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ha(r,hy)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Kh(r,hy))}removeNode(r,o,u,p){if(wu(o)){const E=r?this._fetchNamespace(r):null;if(E?E.removeNode(o,p):this.markElementAsRemoved(r,o,!1,p),u){const A=this.namespacesByHostElement.get(o);A&&A.id!==r&&A.removeNode(o,p)}}else this._onRemovalComplete(o,p)}markElementAsRemoved(r,o,u,p,E){this.collectedLeaveElements.push(o),o[Tl]={namespaceId:r,setForRemoval:p,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:E}}listen(r,o,u,p,E){return wu(o)?this._fetchNamespace(r).listen(o,u,p,E):()=>{}}_buildInstruction(r,o,u,p,E){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,u,p,r.fromState.options,r.toState.options,o,E)}destroyInnerAnimations(r){let o=this.driver.query(r,qf,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(r,Yf,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(r){const o=this.playersByElement.get(r);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(r){const o=this.playersByQueriedElement.get(r);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return pc(this.players).onDone(()=>r());r()})}processLeaveNode(r){var o;const u=r[Tl];if(u&&u.setForRemoval){if(r[Tl]=Eu,u.namespaceId){this.destroyInnerAnimations(r);const p=this._fetchNamespace(u.namespaceId);p&&p.clearElementCache(r)}this._onRemovalComplete(r,u.setForRemoval)}null!==(o=r.classList)&&void 0!==o&&o.contains(hy)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,p)=>this._balanceNamespaceList(u,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)ha(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,r)}finally{for(let p=0;p<u.length;p++)u[p]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?pc(o).onDone(()=>{u.forEach(p=>p())}):u.forEach(p=>p())}}reportError(r){throw function hg(c){return new y.vHH(3402,!1)}()}_flushAnimations(r,o){const u=new Ju,p=[],E=new Map,A=[],B=new Map,Y=new Map,se=new Map,Xe=new Set;this.disabledNodes.forEach(yr=>{Xe.add(yr);const Dr=this.driver.query(yr,".ng-animate-queued",!0);for(let Fr=0;Fr<Dr.length;Fr++)Xe.add(Dr[Fr])});const ut=this.bodyNode,Ct=Array.from(this.statesByElement.keys()),Zt=A_(Ct,this.collectedEnterElements),nn=new Map;let xn=0;Zt.forEach((yr,Dr)=>{const Fr=$h+xn++;nn.set(Dr,Fr),yr.forEach(Ei=>ha(Ei,Fr))});const nr=[],kr=new Set,Ai=new Set;for(let yr=0;yr<this.collectedLeaveElements.length;yr++){const Dr=this.collectedLeaveElements[yr],Fr=Dr[Tl];Fr&&Fr.setForRemoval&&(nr.push(Dr),kr.add(Dr),Fr.hasAnimation?this.driver.query(Dr,".ng-star-inserted",!0).forEach(Ei=>kr.add(Ei)):Ai.add(Dr))}const vi=new Map,bi=A_(Ct,Array.from(kr));bi.forEach((yr,Dr)=>{const Fr=Xu+xn++;vi.set(Dr,Fr),yr.forEach(Ei=>ha(Ei,Fr))}),r.push(()=>{Zt.forEach((yr,Dr)=>{const Fr=nn.get(Dr);yr.forEach(Ei=>Kh(Ei,Fr))}),bi.forEach((yr,Dr)=>{const Fr=vi.get(Dr);yr.forEach(Ei=>Kh(Ei,Fr))}),nr.forEach(yr=>{this.processLeaveNode(yr)})});const fa=[],Da=[];for(let yr=this._namespaceList.length-1;yr>=0;yr--)this._namespaceList[yr].drainQueuedTransitions(o).forEach(Fr=>{const Ei=Fr.player,Vs=Fr.element;if(fa.push(Ei),this.collectedEnterElements.length){const Co=Vs[Tl];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(Fr.triggerName)){const co=Co.previousTriggersValues.get(Fr.triggerName),Xl=this.statesByElement.get(Fr.element);if(Xl&&Xl.has(Fr.triggerName)){const rd=Xl.get(Fr.triggerName);rd.value=co,Xl.set(Fr.triggerName,rd)}}return void Ei.destroy()}}const pa=!ut||!this.driver.containsElement(ut,Vs),xs=vi.get(Vs),Ps=nn.get(Vs),Os=this._buildInstruction(Fr,u,Ps,xs,pa);if(Os.errors&&Os.errors.length)return void Da.push(Os);if(pa)return Ei.onStart(()=>Yd(Vs,Os.fromStyles)),Ei.onDestroy(()=>da(Vs,Os.toStyles)),void p.push(Ei);if(Fr.isFallbackTransition)return Ei.onStart(()=>Yd(Vs,Os.fromStyles)),Ei.onDestroy(()=>da(Vs,Os.toStyles)),void p.push(Ei);const Hg=[];Os.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||Hg.push(Co)}),Os.timelines=Hg,u.append(Vs,Os.timelines),A.push({instruction:Os,player:Ei,element:Vs}),Os.queriedElements.forEach(Co=>hl(B,Co,[]).push(Ei)),Os.preStyleProps.forEach((Co,co)=>{if(Co.size){let Xl=Y.get(co);Xl||Y.set(co,Xl=new Set),Co.forEach((rd,id)=>Xl.add(id))}}),Os.postStyleProps.forEach((Co,co)=>{let Xl=se.get(co);Xl||se.set(co,Xl=new Set),Co.forEach((rd,id)=>Xl.add(id))})});if(Da.length){const yr=[];Da.forEach(Dr=>{yr.push(function fg(c,r){return new y.vHH(3505,!1)}())}),fa.forEach(Dr=>Dr.destroy()),this.reportError(yr)}const Qo=new Map,Xo=new Map;A.forEach(yr=>{const Dr=yr.element;u.has(Dr)&&(Xo.set(Dr,Dr),this._beforeAnimationBuild(yr.player.namespaceId,yr.instruction,Qo))}),p.forEach(yr=>{const Dr=yr.element;this._getPreviousPlayers(Dr,!1,yr.namespaceId,yr.triggerName,null).forEach(Ei=>{hl(Qo,Dr,[]).push(Ei),Ei.destroy()})});const Wc=nr.filter(yr=>M_(yr,Y,se)),_c=new Map;lp(_c,this.driver,Ai,se,ls.l3).forEach(yr=>{M_(yr,Y,se)&&Wc.push(yr)});const Kc=new Map;Zt.forEach((yr,Dr)=>{lp(Kc,this.driver,new Set(yr),Y,ls.k1)}),Wc.forEach(yr=>{var Dr,Fr;const Ei=_c.get(yr),Vs=Kc.get(yr);_c.set(yr,new Map([...Array.from(null!==(Dr=null==Ei?void 0:Ei.entries())&&void 0!==Dr?Dr:[]),...Array.from(null!==(Fr=null==Vs?void 0:Vs.entries())&&void 0!==Fr?Fr:[])]))});const nh=[],Qh=[],Xh={};A.forEach(yr=>{const{element:Dr,player:Fr,instruction:Ei}=yr;if(u.has(Dr)){if(Xe.has(Dr))return Fr.onDestroy(()=>da(Dr,Ei.toStyles)),Fr.disabled=!0,Fr.overrideTotalTime(Ei.totalTime),void p.push(Fr);let Vs=Xh;if(Xo.size>1){let xs=Dr;const Ps=[];for(;xs=xs.parentNode;){const Os=Xo.get(xs);if(Os){Vs=Os;break}Ps.push(xs)}Ps.forEach(Os=>Xo.set(Os,Vs))}const pa=this._buildAnimation(Fr.namespaceId,Ei,Qo,E,Kc,_c);if(Fr.setRealPlayer(pa),Vs===Xh)nh.push(Fr);else{const xs=this.playersByElement.get(Vs);xs&&xs.length&&(Fr.parentPlayer=pc(xs)),p.push(Fr)}}else Yd(Dr,Ei.fromStyles),Fr.onDestroy(()=>da(Dr,Ei.toStyles)),Qh.push(Fr),Xe.has(Dr)&&p.push(Fr)}),Qh.forEach(yr=>{const Dr=E.get(yr.element);if(Dr&&Dr.length){const Fr=pc(Dr);yr.setRealPlayer(Fr)}}),p.forEach(yr=>{yr.parentPlayer?yr.syncPlayerEvents(yr.parentPlayer):yr.destroy()});for(let yr=0;yr<nr.length;yr++){const Dr=nr[yr],Fr=Dr[Tl];if(Kh(Dr,Xu),Fr&&Fr.hasAnimation)continue;let Ei=[];if(B.size){let pa=B.get(Dr);pa&&pa.length&&Ei.push(...pa);let xs=this.driver.query(Dr,Yf,!0);for(let Ps=0;Ps<xs.length;Ps++){let Os=B.get(xs[Ps]);Os&&Os.length&&Ei.push(...Os)}}const Vs=Ei.filter(pa=>!pa.destroyed);Vs.length?Lg(this,Dr,Vs):this.processLeaveNode(Dr)}return nr.length=0,nh.forEach(yr=>{this.players.push(yr),yr.onDone(()=>{yr.destroy();const Dr=this.players.indexOf(yr);this.players.splice(Dr,1)}),yr.play()}),nh}elementContainsData(r,o){let u=!1;const p=o[Tl];return p&&p.setForRemoval&&(u=!0),this.playersByElement.has(o)&&(u=!0),this.playersByQueriedElement.has(o)&&(u=!0),this.statesByElement.has(o)&&(u=!0),this._fetchNamespace(r).elementContainsData(o)||u}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,u,p,E){let A=[];if(o){const B=this.playersByQueriedElement.get(r);B&&(A=B)}else{const B=this.playersByElement.get(r);if(B){const Y=!E||E==ap;B.forEach(se=>{se.queued||!Y&&se.triggerName!=p||A.push(se)})}}return(u||p)&&(A=A.filter(B=>!(u&&u!=B.namespaceId||p&&p!=B.triggerName))),A}_beforeAnimationBuild(r,o,u){const E=o.element,A=o.isRemovalTransition?void 0:r,B=o.isRemovalTransition?void 0:o.triggerName;for(const Y of o.timelines){const se=Y.element,Xe=se!==E,ut=hl(u,se,[]);this._getPreviousPlayers(se,Xe,A,B,o.toState).forEach(Zt=>{const nn=Zt.getRealPlayer();nn.beforeDestroy&&nn.beforeDestroy(),Zt.destroy(),ut.push(Zt)})}Yd(E,o.fromStyles)}_buildAnimation(r,o,u,p,E,A){const B=o.triggerName,Y=o.element,se=[],Xe=new Set,ut=new Set,Ct=o.timelines.map(nn=>{const xn=nn.element;Xe.add(xn);const nr=xn[Tl];if(nr&&nr.removedBeforeQueried)return new ls.ZN(nn.duration,nn.delay);const kr=xn!==Y,Ai=function Ev(c){const r=[];return Bg(c,r),r}((u.get(xn)||sp).map(Qo=>Qo.getRealPlayer())).filter(Qo=>!!Qo.element&&Qo.element===xn),vi=E.get(xn),bi=A.get(xn),fa=gg(0,this._normalizer,0,nn.keyframes,vi,bi),Da=this._buildPlayer(nn,fa,Ai);if(nn.subTimeline&&p&&ut.add(xn),kr){const Qo=new th(r,B,xn);Qo.setRealPlayer(Da),se.push(Qo)}return Da});se.forEach(nn=>{hl(this.playersByQueriedElement,nn.element,[]).push(nn),nn.onDone(()=>function D_(c,r,o){let u=c.get(r);if(u){if(u.length){const p=u.indexOf(o);u.splice(p,1)}0==u.length&&c.delete(r)}return u}(this.playersByQueriedElement,nn.element,nn))}),Xe.forEach(nn=>ha(nn,Uh));const Zt=pc(Ct);return Zt.onDestroy(()=>{Xe.forEach(nn=>Kh(nn,Uh)),da(Y,o.toStyles)}),ut.forEach(nn=>{hl(p,nn,[]).push(Zt)}),Zt}_buildPlayer(r,o,u){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,u):new ls.ZN(r.duration,r.delay)}}class th{constructor(r,o,u){this.namespaceId=r,this.triggerName=o,this.element=u,this._player=new ls.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,u)=>{o.forEach(p=>mg(r,u,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){hl(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const o=this._player;o.triggerCallback&&o.triggerCallback(r)}}function wu(c){return c&&1===c.nodeType}function td(c,r){const o=c.style.display;return c.style.display=null!=r?r:"none",o}function lp(c,r,o,u,p){const E=[];o.forEach(Y=>E.push(td(Y)));const A=[];u.forEach((Y,se)=>{const Xe=new Map;Y.forEach(ut=>{const Ct=r.computeStyle(se,ut,p);Xe.set(ut,Ct),(!Ct||0==Ct.length)&&(se[Tl]=op,A.push(se))}),c.set(se,Xe)});let B=0;return o.forEach(Y=>td(Y,E[B++])),A}function A_(c,r){const o=new Map;if(c.forEach(B=>o.set(B,[])),0==r.length)return o;const u=1,p=new Set(r),E=new Map;function A(B){if(!B)return u;let Y=E.get(B);if(Y)return Y;const se=B.parentNode;return Y=o.has(se)?se:p.has(se)?u:A(se),E.set(B,Y),Y}return r.forEach(B=>{const Y=A(B);Y!==u&&o.get(Y).push(B)}),o}function ha(c,r){var o;null===(o=c.classList)||void 0===o||o.add(r)}function Kh(c,r){var o;null===(o=c.classList)||void 0===o||o.remove(r)}function Lg(c,r,o){pc(o).onDone(()=>c.processLeaveNode(r))}function Bg(c,r){for(let o=0;o<c.length;o++){const u=c[o];u instanceof ls.ZE?Bg(u.players,r):r.push(u)}}function M_(c,r,o){const u=o.get(c);if(!u)return!1;let p=r.get(c);return p?u.forEach(E=>p.add(E)):r.set(c,u),o.delete(c),!0}class Sr{constructor(r,o,u){this.bodyNode=r,this._driver=o,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(p,E)=>{},this._transitionEngine=new C_(r,o,u),this._timelineEngine=new Ng(r,o,u),this._transitionEngine.onRemovalComplete=(p,E)=>this.onRemovalComplete(p,E)}registerTrigger(r,o,u,p,E){const A=r+"-"+p;let B=this._triggerCache[A];if(!B){const Y=[],se=[],Xe=Ql(this._driver,E,Y,se);if(Y.length)throw function Km(c,r){return new y.vHH(3404,!1)}();B=function I_(c,r,o){return new uy(c,r,o)}(p,Xe,this._normalizer),this._triggerCache[A]=B}this._transitionEngine.registerTrigger(o,p,B)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,u,p){this._transitionEngine.insertNode(r,o,u,p)}onRemove(r,o,u,p){this._transitionEngine.removeNode(r,o,p||!1,u)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,u,p){if("@"==u.charAt(0)){const[E,A]=yg(u);this._timelineEngine.command(E,o,A,p)}else this._transitionEngine.trigger(r,o,u,p)}listen(r,o,u,p,E){if("@"==u.charAt(0)){const[A,B]=yg(u);return this._timelineEngine.listen(A,o,B,E)}return this._transitionEngine.listen(r,o,u,p,E)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Iv=(()=>{class c{constructor(o,u,p){this._element=o,this._startStyles=u,this._endStyles=p,this._state=0;let E=c.initialStylesByElement.get(o);E||c.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&da(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(da(this._element,this._initialStyles),this._endStyles&&(da(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Yd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yd(this._element,this._endStyles),this._endStyles=null),da(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function R_(c){let r=null;return c.forEach((o,u)=>{(function cp(c){return"display"===c||"position"===c})(u)&&(r=r||new Map,r.set(u,o))}),r}class x_{constructor(r,o,u,p){this.element=r,this.keyframes=o,this.options=u,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const o=[];return r.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(r,o,u){return r.animate(this._convertKeyframesToObject(o),u)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,p)=>{"offset"!==p&&r.set(p,this._finished?u:ei(this.element,p))}),this.currentSnapshot=r}triggerCallback(r){const o="start"===r?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class my{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,o){return!1}containsElement(r,o){return Xm(r,o)}getParentElement(r){return Bh(r)}query(r,o,u){return vg(r,o,u)}computeStyle(r,o,u){return window.getComputedStyle(r)[o]}animate(r,o,u,p,E,A=[]){const Y={duration:u,delay:p,fill:0==p?"both":"forwards"};E&&(Y.easing=E);const se=new Map,Xe=A.filter(Zt=>Zt instanceof x_);(function c_(c,r){return 0===c||0===r})(u,p)&&Xe.forEach(Zt=>{Zt.currentSnapshot.forEach((nn,xn)=>se.set(xn,nn))});let ut=function a_(c){return c.length?c[0]instanceof Map?c:c.map(r=>ey(r)):[]}(o).map(Zt=>mu(Zt));ut=function zh(c,r,o){if(o.size&&r.length){let u=r[0],p=[];if(o.forEach((E,A)=>{u.has(A)||p.push(A),u.set(A,E)}),p.length)for(let E=1;E<r.length;E++){let A=r[E];p.forEach(B=>A.set(B,ei(c,B)))}}return r}(r,ut,se);const Ct=function $g(c,r){let o=null,u=null;return Array.isArray(r)&&r.length?(o=R_(r[0]),r.length>1&&(u=R_(r[r.length-1]))):r instanceof Map&&(o=R_(r)),o||u?new Iv(c,o,u):null}(r,ut);return new x_(r,ut,Y,Ct)}}var Ug=L(6895);let us=(()=>{class c extends ls._j{constructor(o,u){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(u.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(o){const u=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(o)?(0,ls.vP)(o):o;return zc(this._renderer,null,u,"register",[p]),new nd(u,this._renderer)}}return c.\u0275fac=function(o){return new(o||c)(y.LFG(y.FYo),y.LFG(Ug.K0))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();class nd extends ls.LC{constructor(r,o){super(),this._id=r,this._renderer=o}create(r,o){return new qh(this._id,r,o||{},this._renderer)}}class qh{constructor(r,o,u,p){this.id=r,this.element=o,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(r,o){return this._renderer.listen(this.element,`@@${this.id}:${r}`,o)}_command(r,...o){return zc(this._renderer,this.element,this.id,r,o)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,o;return null!==(r=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==r?r:0}}function zc(c,r,o,u,p){return c.setProperty(r,`@@${o}:${u}`,p)}const jg="@.disabled";let P_=(()=>{class c{constructor(o,u,p){this.delegate=o,this.engine=u,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),u.onRemovalComplete=(E,A)=>{const B=null==A?void 0:A.parentNode(E);B&&A.removeChild(B,E)}}createRenderer(o,u){const E=this.delegate.createRenderer(o,u);if(!(o&&u&&u.data&&u.data.animation)){let Xe=this._rendererCache.get(E);return Xe||(Xe=new Gc("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,Xe)),Xe}const A=u.id,B=u.id+"-"+this._currentId;this._currentId++,this.engine.register(B,o);const Y=Xe=>{Array.isArray(Xe)?Xe.forEach(Y):this.engine.registerTrigger(A,B,o,Xe.name,Xe)};return u.data.animation.forEach(Y),new O_(this,B,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,u,p){o>=0&&o<this._microtaskId?this._zone.run(()=>u(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[A,B]=E;A(B)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(o){return new(o||c)(y.LFG(y.FYo),y.LFG(Sr),y.LFG(y.R0b))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();class Gc{constructor(r,o,u,p){this.namespaceId=r,this.delegate=o,this.engine=u,this._onDestroy=p,this.destroyNode=this.delegate.destroyNode?E=>o.destroyNode(E):null}get data(){return this.delegate.data}destroy(){var r;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(r=this._onDestroy)||void 0===r||r.call(this)}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,u,p=!0){this.delegate.insertBefore(r,o,u),this.engine.onInsert(this.namespaceId,o,r,p)}removeChild(r,o,u){this.engine.onRemove(this.namespaceId,o,this.delegate,u)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,u,p){this.delegate.setAttribute(r,o,u,p)}removeAttribute(r,o,u){this.delegate.removeAttribute(r,o,u)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,u,p){this.delegate.setStyle(r,o,u,p)}removeStyle(r,o,u){this.delegate.removeStyle(r,o,u)}setProperty(r,o,u){"@"==o.charAt(0)&&o==jg?this.disableAnimations(r,!!u):this.delegate.setProperty(r,o,u)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,u){return this.delegate.listen(r,o,u)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}}class O_ extends Gc{constructor(r,o,u,p,E){super(o,u,p,E),this.factory=r,this.namespaceId=o}setProperty(r,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==jg?this.disableAnimations(r,u=void 0===u||!!u):this.engine.process(this.namespaceId,r,o.slice(1),u):this.delegate.setProperty(r,o,u)}listen(r,o,u){if("@"==o.charAt(0)){const p=function wv(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(r);let E=o.slice(1),A="";return"@"!=E.charAt(0)&&([E,A]=function bv(c){const r=c.indexOf(".");return[c.substring(0,r),c.slice(r+1)]}(E)),this.engine.listen(this.namespaceId,p,E,A,B=>{this.factory.scheduleListenerCallback(B._data||-1,u,B)})}return this.delegate.listen(r,o,u)}}const yy=[{provide:ls._j,useClass:us},{provide:ed,useFactory:function up(){return new __}},{provide:Sr,useClass:(()=>{class c extends Sr{constructor(o,u,p,E){super(o.body,u,p)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(o){return new(o||c)(y.LFG(Ug.K0),y.LFG(Kd),y.LFG(ed),y.LFG(y.z2F))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:y.FYo,useFactory:function N_(c,r,o){return new P_(c,r,o)},deps:[g.se,Sr,y.R0b]}],_y=[{provide:Kd,useFactory:()=>new my},{provide:y.QbO,useValue:"BrowserAnimations"},...yy],dp=[{provide:Kd,useClass:Kf},{provide:y.QbO,useValue:"NoopAnimations"},...yy];let vy=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?dp:_y}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:_y,imports:[g.b2]}),c})();(0,y.G48)(),(0,g.Cg)(xe,{providers:[{provide:q.wN,useClass:oe.r4},(0,y.RIp)(oe.Pc.forRoot({}),vy),(0,y.RIp)(ye.hO.initializeApp({apiKey:"AIzaSyCdRRnBbX8R0qg3xauDHItMVmvdDAdzlxk",authDomain:"ionic-login-a9669.firebaseapp.com",projectId:"ionic-login-a9669",storageBucket:"ionic-login-a9669.appspot.com",messagingSenderId:"698057746644",appId:"1:698057746644:web:7558813a2e58ae92c73341",locationId:"us-central"})),(0,y.RIp)(Fe.ww),(0,y.RIp)(Vt.yb),(0,y.RIp)(li),(0,y.RIp)(cv),(0,q.bU)(Re)]})},1135:(an,lt,L)=>{"use strict";L.d(lt,{X:()=>g});var y=L(7579);class g extends y.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const Re=super._subscribe(oe);return!Re.closed&&oe.next(this._value),Re}getValue(){const{hasError:oe,thrownError:Re,_value:xe}=this;if(oe)throw Re;return this._throwIfClosed(),xe}next(oe){super.next(this._value=oe)}}},9751:(an,lt,L)=>{"use strict";L.d(lt,{y:()=>ye});var y=L(930),g=L(727),q=L(8822),oe=L(9635),Re=L(2416),xe=L(576),De=L(2806);let ye=(()=>{class Se{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Ye=new Se;return Ye.source=this,Ye.operator=$e,Ye}subscribe($e,Ye,nt){const Pe=function me(Se){return Se&&Se instanceof y.Lv||function Te(Se){return Se&&(0,xe.m)(Se.next)&&(0,xe.m)(Se.error)&&(0,xe.m)(Se.complete)}(Se)&&(0,g.Nn)(Se)}($e)?$e:new y.Hp($e,Ye,nt);return(0,De.x)(()=>{const{operator:Ce,source:ce}=this;Pe.add(Ce?Ce.call(Pe,ce):ce?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe($e){try{return this._subscribe($e)}catch(Ye){$e.error(Ye)}}forEach($e,Ye){return new(Ye=Fe(Ye))((nt,Pe)=>{const Ce=new y.Hp({next:ce=>{try{$e(ce)}catch(Q){Pe(Q),Ce.unsubscribe()}},error:Pe,complete:nt});this.subscribe(Ce)})}_subscribe($e){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe($e)}[q.L](){return this}pipe(...$e){return(0,oe.U)($e)(this)}toPromise($e){return new($e=Fe($e))((Ye,nt)=>{let Pe;this.subscribe(Ce=>Pe=Ce,Ce=>nt(Ce),()=>Ye(Pe))})}}return Se.create=Be=>new Se(Be),Se})();function Fe(Se){var Be;return null!==(Be=null!=Se?Se:Re.v.Promise)&&void 0!==Be?Be:Promise}},7579:(an,lt,L)=>{"use strict";L.d(lt,{x:()=>De});var y=L(9751),g=L(727);const oe=(0,L(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=L(8737),xe=L(2806);let De=(()=>{class Fe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Se=new ye(this,this);return Se.operator=me,Se}_throwIfClosed(){if(this.closed)throw new oe}next(me){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(me)}})}error(me){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Se}=this;for(;Se.length;)Se.shift().error(me)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Se,isStopped:Be,observers:$e}=this;return Se||Be?g.Lc:(this.currentObservers=null,$e.push(me),new g.w0(()=>{this.currentObservers=null,(0,Re.P)($e,me)}))}_checkFinalizedStatuses(me){const{hasError:Se,thrownError:Be,isStopped:$e}=this;Se?me.error(Be):$e&&me.complete()}asObservable(){const me=new y.y;return me.source=this,me}}return Fe.create=(Te,me)=>new ye(Te,me),Fe})();class ye extends De{constructor(Te,me){super(),this.destination=Te,this.source=me}next(Te){var me,Se;null===(Se=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Se||Se.call(me,Te)}error(Te){var me,Se;null===(Se=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Se||Se.call(me,Te)}complete(){var Te,me;null===(me=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===me||me.call(Te)}_subscribe(Te){var me,Se;return null!==(Se=null===(me=this.source)||void 0===me?void 0:me.subscribe(Te))&&void 0!==Se?Se:g.Lc}}},930:(an,lt,L)=>{"use strict";L.d(lt,{Hp:()=>nt,Lv:()=>Se});var y=L(576),g=L(727),q=L(2416),oe=L(7849),Re=L(5032);const xe=Fe("C",void 0,void 0);function Fe(He,Me,Qe){return{kind:He,value:Me,error:Qe}}var Te=L(3410),me=L(2806);class Se extends g.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,g.Nn)(Me)&&Me.add(this)):this.destination=Q}static create(Me,Qe,mt){return new nt(Me,Qe,mt)}next(Me){this.isStopped?ce(function ye(He){return Fe("N",He,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?ce(function De(He){return Fe("E",void 0,He)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?ce(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function $e(He,Me){return Be.call(He,Me)}class Ye{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Me)}catch(mt){Pe(mt)}}error(Me){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Me)}catch(mt){Pe(mt)}else Pe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Qe){Pe(Qe)}}}class nt extends Se{constructor(Me,Qe,mt){let We;if(super(),(0,y.m)(Me)||!Me)We={next:null!=Me?Me:void 0,error:null!=Qe?Qe:void 0,complete:null!=mt?mt:void 0};else{let ne;this&&q.v.useDeprecatedNextContext?(ne=Object.create(Me),ne.unsubscribe=()=>this.unsubscribe(),We={next:Me.next&&$e(Me.next,ne),error:Me.error&&$e(Me.error,ne),complete:Me.complete&&$e(Me.complete,ne)}):We=Me}this.destination=new Ye(We)}}function Pe(He){q.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(He):(0,oe.h)(He)}function ce(He,Me){const{onStoppedNotification:Qe}=q.v;Qe&&Te.z.setTimeout(()=>Qe(He,Me))}const Q={closed:!0,next:Re.Z,error:function Ce(He){throw He},complete:Re.Z}},727:(an,lt,L)=>{"use strict";L.d(lt,{Lc:()=>xe,w0:()=>Re,Nn:()=>De});var y=L(576);const q=(0,L(3888).d)(Fe=>function(me){Fe(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Se,Be)=>`${Be+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var oe=L(8737);class Re{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const $e of me)$e.remove(this);else me.remove(this);const{initialTeardown:Se}=this;if((0,y.m)(Se))try{Se()}catch($e){Te=$e instanceof q?$e.errors:[$e]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const $e of Be)try{ye($e)}catch(Ye){Te=null!=Te?Te:[],Ye instanceof q?Te=[...Te,...Ye.errors]:Te.push(Ye)}}if(Te)throw new q(Te)}}add(Te){var me;if(Te&&Te!==this)if(this.closed)ye(Te);else{if(Te instanceof Re){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(Te)}}_hasParent(Te){const{_parentage:me}=this;return me===Te||Array.isArray(me)&&me.includes(Te)}_addParent(Te){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(Te),me):me?[me,Te]:Te}_removeParent(Te){const{_parentage:me}=this;me===Te?this._parentage=null:Array.isArray(me)&&(0,oe.P)(me,Te)}remove(Te){const{_finalizers:me}=this;me&&(0,oe.P)(me,Te),Te instanceof Re&&Te._removeParent(this)}}Re.EMPTY=(()=>{const Fe=new Re;return Fe.closed=!0,Fe})();const xe=Re.EMPTY;function De(Fe){return Fe instanceof Re||Fe&&"closed"in Fe&&(0,y.m)(Fe.remove)&&(0,y.m)(Fe.add)&&(0,y.m)(Fe.unsubscribe)}function ye(Fe){(0,y.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(an,lt,L)=>{"use strict";L.d(lt,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(an,lt,L)=>{"use strict";L.d(lt,{c:()=>xe});var y=L(9751),g=L(727),q=L(8343),oe=L(5403),Re=L(4482);class xe extends y.y{constructor(ye,Fe){super(),this.source=ye,this.subjectFactory=Fe,this._subject=null,this._refCount=0,this._connection=null,(0,Re.A)(ye)&&(this.lift=ye.lift)}_subscribe(ye){return this.getSubject().subscribe(ye)}getSubject(){const ye=this._subject;return(!ye||ye.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ye}=this;this._subject=this._connection=null,null==ye||ye.unsubscribe()}connect(){let ye=this._connection;if(!ye){ye=this._connection=new g.w0;const Fe=this.getSubject();ye.add(this.source.subscribe((0,oe.x)(Fe,void 0,()=>{this._teardown(),Fe.complete()},Te=>{this._teardown(),Fe.error(Te)},()=>this._teardown()))),ye.closed&&(this._connection=null,ye=g.w0.EMPTY)}return ye}refCount(){return(0,q.x)()(this)}}},9841:(an,lt,L)=>{"use strict";L.d(lt,{a:()=>Te});var y=L(9751),g=L(4742),q=L(8996),oe=L(4671),Re=L(3268),xe=L(3269),De=L(1810),ye=L(5403),Fe=L(9672);function Te(...Be){const $e=(0,xe.yG)(Be),Ye=(0,xe.jO)(Be),{args:nt,keys:Pe}=(0,g.D)(Be);if(0===nt.length)return(0,q.D)([],$e);const Ce=new y.y(function me(Be,$e,Ye=oe.y){return nt=>{Se($e,()=>{const{length:Pe}=Be,Ce=new Array(Pe);let ce=Pe,Q=Pe;for(let He=0;He<Pe;He++)Se($e,()=>{const Me=(0,q.D)(Be[He],$e);let Qe=!1;Me.subscribe((0,ye.x)(nt,mt=>{Ce[He]=mt,Qe||(Qe=!0,Q--),Q||nt.next(Ye(Ce.slice()))},()=>{--ce||nt.complete()}))},nt)},nt)}}(nt,$e,Pe?ce=>(0,De.n)(Pe,ce):oe.y));return Ye?Ce.pipe((0,Re.Z)(Ye)):Ce}function Se(Be,$e,Ye){Be?(0,Fe.f)(Ye,Be,$e):$e()}},7272:(an,lt,L)=>{"use strict";L.d(lt,{z:()=>Re});var y=L(8189),q=L(3269),oe=L(8996);function Re(...xe){return function g(){return(0,y.J)(1)}()((0,oe.D)(xe,(0,q.yG)(xe)))}},9770:(an,lt,L)=>{"use strict";L.d(lt,{P:()=>q});var y=L(9751),g=L(8421);function q(oe){return new y.y(Re=>{(0,g.Xf)(oe()).subscribe(Re)})}},515:(an,lt,L)=>{"use strict";L.d(lt,{E:()=>g});const g=new(L(9751).y)(Re=>Re.complete())},4128:(an,lt,L)=>{"use strict";L.d(lt,{D:()=>ye});var y=L(9751),g=L(4742),q=L(8421),oe=L(3269),Re=L(5403),xe=L(3268),De=L(1810);function ye(...Fe){const Te=(0,oe.jO)(Fe),{args:me,keys:Se}=(0,g.D)(Fe),Be=new y.y($e=>{const{length:Ye}=me;if(!Ye)return void $e.complete();const nt=new Array(Ye);let Pe=Ye,Ce=Ye;for(let ce=0;ce<Ye;ce++){let Q=!1;(0,q.Xf)(me[ce]).subscribe((0,Re.x)($e,He=>{Q||(Q=!0,Ce--),nt[ce]=He},()=>Pe--,void 0,()=>{(!Pe||!Q)&&(Ce||$e.next(Se?(0,De.n)(Se,nt):nt),$e.complete())}))}});return Te?Be.pipe((0,xe.Z)(Te)):Be}},8996:(an,lt,L)=>{"use strict";L.d(lt,{D:()=>Me});var y=L(8421),g=L(5363),q=L(9468),xe=L(9751),ye=L(2202),Fe=L(576),Te=L(9672);function Se(Qe,mt){if(!Qe)throw new Error("Iterable cannot be null");return new xe.y(We=>{(0,Te.f)(We,mt,()=>{const ne=Qe[Symbol.asyncIterator]();(0,Te.f)(We,mt,()=>{ne.next().then(qe=>{qe.done?We.complete():We.next(qe.value)})},0,!0)})})}var Be=L(3670),$e=L(8239),Ye=L(1144),nt=L(6495),Pe=L(2206),Ce=L(4532),ce=L(3260);function Me(Qe,mt){return mt?function He(Qe,mt){if(null!=Qe){if((0,Be.c)(Qe))return function oe(Qe,mt){return(0,y.Xf)(Qe).pipe((0,q.R)(mt),(0,g.Q)(mt))}(Qe,mt);if((0,Ye.z)(Qe))return function De(Qe,mt){return new xe.y(We=>{let ne=0;return mt.schedule(function(){ne===Qe.length?We.complete():(We.next(Qe[ne++]),We.closed||this.schedule())})})}(Qe,mt);if((0,$e.t)(Qe))return function Re(Qe,mt){return(0,y.Xf)(Qe).pipe((0,q.R)(mt),(0,g.Q)(mt))}(Qe,mt);if((0,Pe.D)(Qe))return Se(Qe,mt);if((0,nt.T)(Qe))return function me(Qe,mt){return new xe.y(We=>{let ne;return(0,Te.f)(We,mt,()=>{ne=Qe[ye.h](),(0,Te.f)(We,mt,()=>{let qe,we;try{({value:qe,done:we}=ne.next())}catch(rt){return void We.error(rt)}we?We.complete():We.next(qe)},0,!0)}),()=>(0,Fe.m)(null==ne?void 0:ne.return)&&ne.return()})}(Qe,mt);if((0,ce.L)(Qe))return function Q(Qe,mt){return Se((0,ce.Q)(Qe),mt)}(Qe,mt)}throw(0,Ce.z)(Qe)}(Qe,mt):(0,y.Xf)(Qe)}},4968:(an,lt,L)=>{"use strict";L.d(lt,{R:()=>Te});var y=L(8421),g=L(9751),q=L(5577),oe=L(1144),Re=L(576),xe=L(3268);const De=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],Fe=["on","off"];function Te(Ye,nt,Pe,Ce){if((0,Re.m)(Pe)&&(Ce=Pe,Pe=void 0),Ce)return Te(Ye,nt,Pe).pipe((0,xe.Z)(Ce));const[ce,Q]=function $e(Ye){return(0,Re.m)(Ye.addEventListener)&&(0,Re.m)(Ye.removeEventListener)}(Ye)?ye.map(He=>Me=>Ye[He](nt,Me,Pe)):function Se(Ye){return(0,Re.m)(Ye.addListener)&&(0,Re.m)(Ye.removeListener)}(Ye)?De.map(me(Ye,nt)):function Be(Ye){return(0,Re.m)(Ye.on)&&(0,Re.m)(Ye.off)}(Ye)?Fe.map(me(Ye,nt)):[];if(!ce&&(0,oe.z)(Ye))return(0,q.z)(He=>Te(He,nt,Pe))((0,y.Xf)(Ye));if(!ce)throw new TypeError("Invalid event target");return new g.y(He=>{const Me=(...Qe)=>He.next(1<Qe.length?Qe:Qe[0]);return ce(Me),()=>Q(Me)})}function me(Ye,nt){return Pe=>Ce=>Ye[Pe](nt,Ce)}},8421:(an,lt,L)=>{"use strict";L.d(lt,{Xf:()=>Be});var y=L(655),g=L(1144),q=L(8239),oe=L(9751),Re=L(3670),xe=L(2206),De=L(4532),ye=L(6495),Fe=L(3260),Te=L(576),me=L(7849),Se=L(8822);function Be(He){if(He instanceof oe.y)return He;if(null!=He){if((0,Re.c)(He))return function $e(He){return new oe.y(Me=>{const Qe=He[Se.L]();if((0,Te.m)(Qe.subscribe))return Qe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,g.z)(He))return function Ye(He){return new oe.y(Me=>{for(let Qe=0;Qe<He.length&&!Me.closed;Qe++)Me.next(He[Qe]);Me.complete()})}(He);if((0,q.t)(He))return function nt(He){return new oe.y(Me=>{He.then(Qe=>{Me.closed||(Me.next(Qe),Me.complete())},Qe=>Me.error(Qe)).then(null,me.h)})}(He);if((0,xe.D)(He))return Ce(He);if((0,ye.T)(He))return function Pe(He){return new oe.y(Me=>{for(const Qe of He)if(Me.next(Qe),Me.closed)return;Me.complete()})}(He);if((0,Fe.L)(He))return function ce(He){return Ce((0,Fe.Q)(He))}(He)}throw(0,De.z)(He)}function Ce(He){return new oe.y(Me=>{(function Q(He,Me){var Qe,mt,We,ne;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,y.KL)(He);!(mt=yield Qe.next()).done;)if(Me.next(mt.value),Me.closed)return}catch(qe){We={error:qe}}finally{try{mt&&!mt.done&&(ne=Qe.return)&&(yield ne.call(Qe))}finally{if(We)throw We.error}}Me.complete()})})(He,Me).catch(Qe=>Me.error(Qe))})}},6451:(an,lt,L)=>{"use strict";L.d(lt,{T:()=>xe});var y=L(8189),g=L(8421),q=L(515),oe=L(3269),Re=L(8996);function xe(...De){const ye=(0,oe.yG)(De),Fe=(0,oe._6)(De,1/0),Te=De;return Te.length?1===Te.length?(0,g.Xf)(Te[0]):(0,y.J)(Fe)((0,Re.D)(Te,ye)):q.E}},9646:(an,lt,L)=>{"use strict";L.d(lt,{of:()=>q});var y=L(3269),g=L(8996);function q(...oe){const Re=(0,y.yG)(oe);return(0,g.D)(oe,Re)}},2843:(an,lt,L)=>{"use strict";L.d(lt,{_:()=>q});var y=L(9751),g=L(576);function q(oe,Re){const xe=(0,g.m)(oe)?oe:()=>oe,De=ye=>ye.error(xe());return new y.y(Re?ye=>Re.schedule(De,0,ye):De)}},5403:(an,lt,L)=>{"use strict";L.d(lt,{x:()=>g});var y=L(930);function g(oe,Re,xe,De,ye){return new q(oe,Re,xe,De,ye)}class q extends y.Lv{constructor(Re,xe,De,ye,Fe,Te){super(Re),this.onFinalize=Fe,this.shouldUnsubscribe=Te,this._next=xe?function(me){try{xe(me)}catch(Se){Re.error(Se)}}:super._next,this._error=ye?function(me){try{ye(me)}catch(Se){Re.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(me){Re.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},262:(an,lt,L)=>{"use strict";L.d(lt,{K:()=>oe});var y=L(8421),g=L(5403),q=L(4482);function oe(Re){return(0,q.e)((xe,De)=>{let Te,ye=null,Fe=!1;ye=xe.subscribe((0,g.x)(De,void 0,void 0,me=>{Te=(0,y.Xf)(Re(me,oe(Re)(xe))),ye?(ye.unsubscribe(),ye=null,Te.subscribe(De)):Fe=!0})),Fe&&(ye.unsubscribe(),ye=null,Te.subscribe(De))})}},4351:(an,lt,L)=>{"use strict";L.d(lt,{b:()=>q});var y=L(5577),g=L(576);function q(oe,Re){return(0,g.m)(Re)?(0,y.z)(oe,Re,1):(0,y.z)(oe,1)}},8372:(an,lt,L)=>{"use strict";L.d(lt,{b:()=>oe});var y=L(4986),g=L(4482),q=L(5403);function oe(Re,xe=y.z){return(0,g.e)((De,ye)=>{let Fe=null,Te=null,me=null;const Se=()=>{if(Fe){Fe.unsubscribe(),Fe=null;const $e=Te;Te=null,ye.next($e)}};function Be(){const $e=me+Re,Ye=xe.now();if(Ye<$e)return Fe=this.schedule(void 0,$e-Ye),void ye.add(Fe);Se()}De.subscribe((0,q.x)(ye,$e=>{Te=$e,me=xe.now(),Fe||(Fe=xe.schedule(Be,Re),ye.add(Fe))},()=>{Se(),ye.complete()},void 0,()=>{Te=Fe=null}))})}},6590:(an,lt,L)=>{"use strict";L.d(lt,{d:()=>q});var y=L(4482),g=L(5403);function q(oe){return(0,y.e)((Re,xe)=>{let De=!1;Re.subscribe((0,g.x)(xe,ye=>{De=!0,xe.next(ye)},()=>{De||xe.next(oe),xe.complete()}))})}},1884:(an,lt,L)=>{"use strict";L.d(lt,{x:()=>oe});var y=L(4671),g=L(4482),q=L(5403);function oe(xe,De=y.y){return xe=null!=xe?xe:Re,(0,g.e)((ye,Fe)=>{let Te,me=!0;ye.subscribe((0,q.x)(Fe,Se=>{const Be=De(Se);(me||!xe(Te,Be))&&(me=!1,Te=Be,Fe.next(Se))}))})}function Re(xe,De){return xe===De}},9300:(an,lt,L)=>{"use strict";L.d(lt,{h:()=>q});var y=L(4482),g=L(5403);function q(oe,Re){return(0,y.e)((xe,De)=>{let ye=0;xe.subscribe((0,g.x)(De,Fe=>oe.call(Re,Fe,ye++)&&De.next(Fe)))})}},8746:(an,lt,L)=>{"use strict";L.d(lt,{x:()=>g});var y=L(4482);function g(q){return(0,y.e)((oe,Re)=>{try{oe.subscribe(Re)}finally{Re.add(q)}})}},590:(an,lt,L)=>{"use strict";L.d(lt,{P:()=>De});var y=L(6805),g=L(9300),q=L(5698),oe=L(6590),Re=L(8068),xe=L(4671);function De(ye,Fe){const Te=arguments.length>=2;return me=>me.pipe(ye?(0,g.h)((Se,Be)=>ye(Se,Be,me)):xe.y,(0,q.q)(1),Te?(0,oe.d)(Fe):(0,Re.T)(()=>new y.K))}},4004:(an,lt,L)=>{"use strict";L.d(lt,{U:()=>q});var y=L(4482),g=L(5403);function q(oe,Re){return(0,y.e)((xe,De)=>{let ye=0;xe.subscribe((0,g.x)(De,Fe=>{De.next(oe.call(Re,Fe,ye++))}))})}},9718:(an,lt,L)=>{"use strict";L.d(lt,{h:()=>g});var y=L(4004);function g(q){return(0,y.U)(()=>q)}},8189:(an,lt,L)=>{"use strict";L.d(lt,{J:()=>q});var y=L(5577),g=L(4671);function q(oe=1/0){return(0,y.z)(g.y,oe)}},5577:(an,lt,L)=>{"use strict";L.d(lt,{z:()=>ye});var y=L(4004),g=L(8421),q=L(4482),oe=L(9672),Re=L(5403),De=L(576);function ye(Fe,Te,me=1/0){return(0,De.m)(Te)?ye((Se,Be)=>(0,y.U)(($e,Ye)=>Te(Se,$e,Be,Ye))((0,g.Xf)(Fe(Se,Be))),me):("number"==typeof Te&&(me=Te),(0,q.e)((Se,Be)=>function xe(Fe,Te,me,Se,Be,$e,Ye,nt){const Pe=[];let Ce=0,ce=0,Q=!1;const He=()=>{Q&&!Pe.length&&!Ce&&Te.complete()},Me=mt=>Ce<Se?Qe(mt):Pe.push(mt),Qe=mt=>{$e&&Te.next(mt),Ce++;let We=!1;(0,g.Xf)(me(mt,ce++)).subscribe((0,Re.x)(Te,ne=>{null==Be||Be(ne),$e?Me(ne):Te.next(ne)},()=>{We=!0},void 0,()=>{if(We)try{for(Ce--;Pe.length&&Ce<Se;){const ne=Pe.shift();Ye?(0,oe.f)(Te,Ye,()=>Qe(ne)):Qe(ne)}He()}catch(ne){Te.error(ne)}}))};return Fe.subscribe((0,Re.x)(Te,Me,()=>{Q=!0,He()})),()=>{null==nt||nt()}}(Se,Be,Fe,me)))}},5363:(an,lt,L)=>{"use strict";L.d(lt,{Q:()=>oe});var y=L(9672),g=L(4482),q=L(5403);function oe(Re,xe=0){return(0,g.e)((De,ye)=>{De.subscribe((0,q.x)(ye,Fe=>(0,y.f)(ye,Re,()=>ye.next(Fe),xe),()=>(0,y.f)(ye,Re,()=>ye.complete(),xe),Fe=>(0,y.f)(ye,Re,()=>ye.error(Fe),xe)))})}},8343:(an,lt,L)=>{"use strict";L.d(lt,{x:()=>q});var y=L(4482),g=L(5403);function q(){return(0,y.e)((oe,Re)=>{let xe=null;oe._refCount++;const De=(0,g.x)(Re,void 0,void 0,void 0,()=>{if(!oe||oe._refCount<=0||0<--oe._refCount)return void(xe=null);const ye=oe._connection,Fe=xe;xe=null,ye&&(!Fe||ye===Fe)&&ye.unsubscribe(),Re.unsubscribe()});oe.subscribe(De),De.closed||(xe=oe.connect())})}},5026:(an,lt,L)=>{"use strict";L.d(lt,{R:()=>oe});var y=L(4482),g=L(5403);function oe(Re,xe){return(0,y.e)(function q(Re,xe,De,ye,Fe){return(Te,me)=>{let Se=De,Be=xe,$e=0;Te.subscribe((0,g.x)(me,Ye=>{const nt=$e++;Be=Se?Re(Be,Ye,nt):(Se=!0,Ye),ye&&me.next(Be)},Fe&&(()=>{Se&&me.next(Be),me.complete()})))}}(Re,xe,arguments.length>=2,!0))}},3099:(an,lt,L)=>{"use strict";L.d(lt,{B:()=>Re});var y=L(8421),g=L(7579),q=L(930),oe=L(4482);function Re(De={}){const{connector:ye=(()=>new g.x),resetOnError:Fe=!0,resetOnComplete:Te=!0,resetOnRefCountZero:me=!0}=De;return Se=>{let Be,$e,Ye,nt=0,Pe=!1,Ce=!1;const ce=()=>{null==$e||$e.unsubscribe(),$e=void 0},Q=()=>{ce(),Be=Ye=void 0,Pe=Ce=!1},He=()=>{const Me=Be;Q(),null==Me||Me.unsubscribe()};return(0,oe.e)((Me,Qe)=>{nt++,!Ce&&!Pe&&ce();const mt=Ye=null!=Ye?Ye:ye();Qe.add(()=>{nt--,0===nt&&!Ce&&!Pe&&($e=xe(He,me))}),mt.subscribe(Qe),!Be&&nt>0&&(Be=new q.Hp({next:We=>mt.next(We),error:We=>{Ce=!0,ce(),$e=xe(Q,Fe,We),mt.error(We)},complete:()=>{Pe=!0,ce(),$e=xe(Q,Te),mt.complete()}}),(0,y.Xf)(Me).subscribe(Be))})(Se)}}function xe(De,ye,...Fe){if(!0===ye)return void De();if(!1===ye)return;const Te=new q.Hp({next:()=>{Te.unsubscribe(),De()}});return ye(...Fe).subscribe(Te)}},8675:(an,lt,L)=>{"use strict";L.d(lt,{O:()=>oe});var y=L(7272),g=L(3269),q=L(4482);function oe(...Re){const xe=(0,g.yG)(Re);return(0,q.e)((De,ye)=>{(xe?(0,y.z)(Re,De,xe):(0,y.z)(Re,De)).subscribe(ye)})}},9468:(an,lt,L)=>{"use strict";L.d(lt,{R:()=>g});var y=L(4482);function g(q,oe=0){return(0,y.e)((Re,xe)=>{xe.add(q.schedule(()=>Re.subscribe(xe),oe))})}},3900:(an,lt,L)=>{"use strict";L.d(lt,{w:()=>oe});var y=L(8421),g=L(4482),q=L(5403);function oe(Re,xe){return(0,g.e)((De,ye)=>{let Fe=null,Te=0,me=!1;const Se=()=>me&&!Fe&&ye.complete();De.subscribe((0,q.x)(ye,Be=>{null==Fe||Fe.unsubscribe();let $e=0;const Ye=Te++;(0,y.Xf)(Re(Be,Ye)).subscribe(Fe=(0,q.x)(ye,nt=>ye.next(xe?xe(Be,nt,Ye,$e++):nt),()=>{Fe=null,Se()}))},()=>{me=!0,Se()}))})}},5698:(an,lt,L)=>{"use strict";L.d(lt,{q:()=>oe});var y=L(515),g=L(4482),q=L(5403);function oe(Re){return Re<=0?()=>y.E:(0,g.e)((xe,De)=>{let ye=0;xe.subscribe((0,q.x)(De,Fe=>{++ye<=Re&&(De.next(Fe),Re<=ye&&De.complete())}))})}},8505:(an,lt,L)=>{"use strict";L.d(lt,{b:()=>Re});var y=L(576),g=L(4482),q=L(5403),oe=L(4671);function Re(xe,De,ye){const Fe=(0,y.m)(xe)||De||ye?{next:xe,error:De,complete:ye}:xe;return Fe?(0,g.e)((Te,me)=>{var Se;null===(Se=Fe.subscribe)||void 0===Se||Se.call(Fe);let Be=!0;Te.subscribe((0,q.x)(me,$e=>{var Ye;null===(Ye=Fe.next)||void 0===Ye||Ye.call(Fe,$e),me.next($e)},()=>{var $e;Be=!1,null===($e=Fe.complete)||void 0===$e||$e.call(Fe),me.complete()},$e=>{var Ye;Be=!1,null===(Ye=Fe.error)||void 0===Ye||Ye.call(Fe,$e),me.error($e)},()=>{var $e,Ye;Be&&(null===($e=Fe.unsubscribe)||void 0===$e||$e.call(Fe)),null===(Ye=Fe.finalize)||void 0===Ye||Ye.call(Fe)}))}):oe.y}},8068:(an,lt,L)=>{"use strict";L.d(lt,{T:()=>oe});var y=L(6805),g=L(4482),q=L(5403);function oe(xe=Re){return(0,g.e)((De,ye)=>{let Fe=!1;De.subscribe((0,q.x)(ye,Te=>{Fe=!0,ye.next(Te)},()=>Fe?ye.complete():ye.error(xe())))})}function Re(){return new y.K}},4408:(an,lt,L)=>{"use strict";L.d(lt,{o:()=>Re});var y=L(727);class g extends y.w0{constructor(De,ye){super()}schedule(De,ye=0){return this}}const q={setInterval(xe,De,...ye){const{delegate:Fe}=q;return null!=Fe&&Fe.setInterval?Fe.setInterval(xe,De,...ye):setInterval(xe,De,...ye)},clearInterval(xe){const{delegate:De}=q;return((null==De?void 0:De.clearInterval)||clearInterval)(xe)},delegate:void 0};var oe=L(8737);class Re extends g{constructor(De,ye){super(De,ye),this.scheduler=De,this.work=ye,this.pending=!1}schedule(De,ye=0){var Fe;if(this.closed)return this;this.state=De;const Te=this.id,me=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(me,Te,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(me,this.id,ye),this}requestAsyncId(De,ye,Fe=0){return q.setInterval(De.flush.bind(De,this),Fe)}recycleAsyncId(De,ye,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return ye;null!=ye&&q.clearInterval(ye)}execute(De,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(De,ye);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ye){let Te,Fe=!1;try{this.work(De)}catch(me){Fe=!0,Te=me||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:De,scheduler:ye}=this,{actions:Fe}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(Fe,this),null!=De&&(this.id=this.recycleAsyncId(ye,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,lt,L)=>{"use strict";L.d(lt,{v:()=>q});var y=L(6063);class g{constructor(Re,xe=g.now){this.schedulerActionCtor=Re,this.now=xe}schedule(Re,xe=0,De){return new this.schedulerActionCtor(this,Re).schedule(De,xe)}}g.now=y.l.now;class q extends g{constructor(Re,xe=g.now){super(Re,xe),this.actions=[],this._active=!1}flush(Re){const{actions:xe}=this;if(this._active)return void xe.push(Re);let De;this._active=!0;do{if(De=Re.execute(Re.state,Re.delay))break}while(Re=xe.shift());if(this._active=!1,De){for(;Re=xe.shift();)Re.unsubscribe();throw De}}}},4986:(an,lt,L)=>{"use strict";L.d(lt,{P:()=>oe,z:()=>q});var y=L(4408);const q=new(L(7565).v)(y.o),oe=q},6063:(an,lt,L)=>{"use strict";L.d(lt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(an,lt,L)=>{"use strict";L.d(lt,{z:()=>y});const y={setTimeout(g,q,...oe){const{delegate:Re}=y;return null!=Re&&Re.setTimeout?Re.setTimeout(g,q,...oe):setTimeout(g,q,...oe)},clearTimeout(g){const{delegate:q}=y;return((null==q?void 0:q.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(an,lt,L)=>{"use strict";L.d(lt,{h:()=>g});const g=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,lt,L)=>{"use strict";L.d(lt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(an,lt,L)=>{"use strict";L.d(lt,{K:()=>g});const g=(0,L(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(an,lt,L)=>{"use strict";L.d(lt,{_6:()=>xe,jO:()=>oe,yG:()=>Re});var y=L(576),g=L(3532);function q(De){return De[De.length-1]}function oe(De){return(0,y.m)(q(De))?De.pop():void 0}function Re(De){return(0,g.K)(q(De))?De.pop():void 0}function xe(De,ye){return"number"==typeof q(De)?De.pop():ye}},4742:(an,lt,L)=>{"use strict";L.d(lt,{D:()=>Re});const{isArray:y}=Array,{getPrototypeOf:g,prototype:q,keys:oe}=Object;function Re(De){if(1===De.length){const ye=De[0];if(y(ye))return{args:ye,keys:null};if(function xe(De){return De&&"object"==typeof De&&g(De)===q}(ye)){const Fe=oe(ye);return{args:Fe.map(Te=>ye[Te]),keys:Fe}}}return{args:De,keys:null}}},8737:(an,lt,L)=>{"use strict";function y(g,q){if(g){const oe=g.indexOf(q);0<=oe&&g.splice(oe,1)}}L.d(lt,{P:()=>y})},3888:(an,lt,L)=>{"use strict";function y(g){const oe=g(Re=>{Error.call(Re),Re.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(lt,{d:()=>y})},1810:(an,lt,L)=>{"use strict";function y(g,q){return g.reduce((oe,Re,xe)=>(oe[Re]=q[xe],oe),{})}L.d(lt,{n:()=>y})},2806:(an,lt,L)=>{"use strict";L.d(lt,{O:()=>oe,x:()=>q});var y=L(2416);let g=null;function q(Re){if(y.v.useDeprecatedSynchronousErrorHandling){const xe=!g;if(xe&&(g={errorThrown:!1,error:null}),Re(),xe){const{errorThrown:De,error:ye}=g;if(g=null,De)throw ye}}else Re()}function oe(Re){y.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Re)}},9672:(an,lt,L)=>{"use strict";function y(g,q,oe,Re=0,xe=!1){const De=q.schedule(function(){oe(),xe?g.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(g.add(De),!xe)return De}L.d(lt,{f:()=>y})},4671:(an,lt,L)=>{"use strict";function y(g){return g}L.d(lt,{y:()=>y})},1144:(an,lt,L)=>{"use strict";L.d(lt,{z:()=>y});const y=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(an,lt,L)=>{"use strict";L.d(lt,{D:()=>g});var y=L(576);function g(q){return Symbol.asyncIterator&&(0,y.m)(null==q?void 0:q[Symbol.asyncIterator])}},576:(an,lt,L)=>{"use strict";function y(g){return"function"==typeof g}L.d(lt,{m:()=>y})},3670:(an,lt,L)=>{"use strict";L.d(lt,{c:()=>q});var y=L(8822),g=L(576);function q(oe){return(0,g.m)(oe[y.L])}},6495:(an,lt,L)=>{"use strict";L.d(lt,{T:()=>q});var y=L(2202),g=L(576);function q(oe){return(0,g.m)(null==oe?void 0:oe[y.h])}},8239:(an,lt,L)=>{"use strict";L.d(lt,{t:()=>g});var y=L(576);function g(q){return(0,y.m)(null==q?void 0:q.then)}},3260:(an,lt,L)=>{"use strict";L.d(lt,{L:()=>oe,Q:()=>q});var y=L(655),g=L(576);function q(Re){return(0,y.FC)(this,arguments,function*(){const De=Re.getReader();try{for(;;){const{value:ye,done:Fe}=yield(0,y.qq)(De.read());if(Fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ye)}}finally{De.releaseLock()}})}function oe(Re){return(0,g.m)(null==Re?void 0:Re.getReader)}},3532:(an,lt,L)=>{"use strict";L.d(lt,{K:()=>g});var y=L(576);function g(q){return q&&(0,y.m)(q.schedule)}},4482:(an,lt,L)=>{"use strict";L.d(lt,{A:()=>g,e:()=>q});var y=L(576);function g(oe){return(0,y.m)(null==oe?void 0:oe.lift)}function q(oe){return Re=>{if(g(Re))return Re.lift(function(xe){try{return oe(xe,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(an,lt,L)=>{"use strict";L.d(lt,{Z:()=>oe});var y=L(4004);const{isArray:g}=Array;function oe(Re){return(0,y.U)(xe=>function q(Re,xe){return g(xe)?Re(...xe):Re(xe)}(Re,xe))}},5032:(an,lt,L)=>{"use strict";function y(){}L.d(lt,{Z:()=>y})},9635:(an,lt,L)=>{"use strict";L.d(lt,{U:()=>q,z:()=>g});var y=L(4671);function g(...oe){return q(oe)}function q(oe){return 0===oe.length?y.y:1===oe.length?oe[0]:function(xe){return oe.reduce((De,ye)=>ye(De),xe)}}},7849:(an,lt,L)=>{"use strict";L.d(lt,{h:()=>q});var y=L(2416),g=L(3410);function q(oe){g.z.setTimeout(()=>{const{onUnhandledError:Re}=y.v;if(!Re)throw oe;Re(oe)})}},4532:(an,lt,L)=>{"use strict";function y(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(lt,{z:()=>y})},863:(an,lt,L)=>{var y={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function g(q){if(!L.o(y,q))return Promise.resolve().then(()=>{var xe=new Error("Cannot find module '"+q+"'");throw xe.code="MODULE_NOT_FOUND",xe});var oe=y[q],Re=oe[0];return Promise.all(oe.slice(1).map(L.e)).then(()=>L(Re))}g.keys=()=>Object.keys(y),g.id=863,an.exports=g},655:(an,lt,L)=>{"use strict";function oe(dt,Dt){var _t={};for(var ze in dt)Object.prototype.hasOwnProperty.call(dt,ze)&&Dt.indexOf(ze)<0&&(_t[ze]=dt[ze]);if(null!=dt&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ze=Object.getOwnPropertySymbols(dt);Ue<ze.length;Ue++)Dt.indexOf(ze[Ue])<0&&Object.prototype.propertyIsEnumerable.call(dt,ze[Ue])&&(_t[ze[Ue]]=dt[ze[Ue]])}return _t}function Re(dt,Dt,_t,ze){var Et,Ue=arguments.length,je=Ue<3?Dt:null===ze?ze=Object.getOwnPropertyDescriptor(Dt,_t):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(dt,Dt,_t,ze);else for(var yt=dt.length-1;yt>=0;yt--)(Et=dt[yt])&&(je=(Ue<3?Et(je):Ue>3?Et(Dt,_t,je):Et(Dt,_t))||je);return Ue>3&&je&&Object.defineProperty(Dt,_t,je),je}function Se(dt,Dt,_t,ze){return new(_t||(_t=Promise))(function(je,Et){function yt(vn){try{Ut(ze.next(vn))}catch(St){Et(St)}}function Tt(vn){try{Ut(ze.throw(vn))}catch(St){Et(St)}}function Ut(vn){vn.done?je(vn.value):function Ue(je){return je instanceof _t?je:new _t(function(Et){Et(je)})}(vn.value).then(yt,Tt)}Ut((ze=ze.apply(dt,Dt||[])).next())})}function He(dt){return this instanceof He?(this.v=dt,this):new He(dt)}function Me(dt,Dt,_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ze=_t.apply(dt,Dt||[]),je=[];return Ue={},Et("next"),Et("throw"),Et("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Et(ct){ze[ct]&&(Ue[ct]=function(At){return new Promise(function(Jt,bn){je.push([ct,At,Jt,bn])>1||yt(ct,At)})})}function yt(ct,At){try{!function Tt(ct){ct.value instanceof He?Promise.resolve(ct.value.v).then(Ut,vn):St(je[0][2],ct)}(ze[ct](At))}catch(Jt){St(je[0][3],Jt)}}function Ut(ct){yt("next",ct)}function vn(ct){yt("throw",ct)}function St(ct,At){ct(At),je.shift(),je.length&&yt(je[0][0],je[0][1])}}function mt(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,Dt=dt[Symbol.asyncIterator];return Dt?Dt.call(dt):(dt=function nt(dt){var Dt="function"==typeof Symbol&&Symbol.iterator,_t=Dt&&dt[Dt],ze=0;if(_t)return _t.call(dt);if(dt&&"number"==typeof dt.length)return{next:function(){return dt&&ze>=dt.length&&(dt=void 0),{value:dt&&dt[ze++],done:!dt}}};throw new TypeError(Dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(dt),_t={},ze("next"),ze("throw"),ze("return"),_t[Symbol.asyncIterator]=function(){return this},_t);function ze(je){_t[je]=dt[je]&&function(Et){return new Promise(function(yt,Tt){!function Ue(je,Et,yt,Tt){Promise.resolve(Tt).then(function(Ut){je({value:Ut,done:yt})},Et)}(yt,Tt,(Et=dt[je](Et)).done,Et.value)})}}}L.d(lt,{FC:()=>Me,KL:()=>mt,_T:()=>oe,gn:()=>Re,mG:()=>Se,qq:()=>He})},7340:(an,lt,L)=>{"use strict";L.d(lt,{F4:()=>Te,IO:()=>Ye,LC:()=>g,SB:()=>Fe,X$:()=>oe,ZE:()=>ce,ZN:()=>Ce,_j:()=>y,eR:()=>me,jt:()=>Re,k1:()=>Q,l3:()=>q,oB:()=>ye,pV:()=>Be,ru:()=>xe,vP:()=>De});class y{}class g{}const q="*";function oe(He,Me){return{type:7,name:He,definitions:Me,options:{}}}function Re(He,Me=null){return{type:4,styles:Me,timings:He}}function xe(He,Me=null){return{type:3,steps:He,options:Me}}function De(He,Me=null){return{type:2,steps:He,options:Me}}function ye(He){return{type:6,styles:He,offset:null}}function Fe(He,Me,Qe){return{type:0,name:He,styles:Me,options:Qe}}function Te(He){return{type:5,steps:He}}function me(He,Me,Qe=null){return{type:1,expr:He,animation:Me,options:Qe}}function Be(He=null){return{type:9,options:He}}function Ye(He,Me,Qe=null){return{type:11,selector:He,animation:Me,options:Qe}}function Pe(He){Promise.resolve().then(He)}class Ce{constructor(Me=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Me+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}onStart(Me){this._originalOnStartFns.push(Me),this._onStartFns.push(Me)}onDone(Me){this._originalOnDoneFns.push(Me),this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Me=>Me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Me){this._position=this.totalTime?Me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Me){const Qe="start"==Me?this._onStartFns:this._onDoneFns;Qe.forEach(mt=>mt()),Qe.length=0}}class ce{constructor(Me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Me;let Qe=0,mt=0,We=0;const ne=this.players.length;0==ne?Pe(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++Qe==ne&&this._onFinish()}),qe.onDestroy(()=>{++mt==ne&&this._onDestroy()}),qe.onStart(()=>{++We==ne&&this._onStart()})}),this.totalTime=this.players.reduce((qe,we)=>Math.max(qe,we.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}init(){this.players.forEach(Me=>Me.init())}onStart(Me){this._onStartFns.push(Me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Me=>Me()),this._onStartFns=[])}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Me=>Me.play())}pause(){this.players.forEach(Me=>Me.pause())}restart(){this.players.forEach(Me=>Me.restart())}finish(){this._onFinish(),this.players.forEach(Me=>Me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Me=>Me.destroy()),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this.players.forEach(Me=>Me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Me){const Qe=Me*this.totalTime;this.players.forEach(mt=>{const We=mt.totalTime?Math.min(1,Qe/mt.totalTime):1;mt.setPosition(We)})}getPosition(){const Me=this.players.reduce((Qe,mt)=>null===Qe||mt.totalTime>Qe.totalTime?mt:Qe,null);return null!=Me?Me.getPosition():0}beforeDestroy(){this.players.forEach(Me=>{Me.beforeDestroy&&Me.beforeDestroy()})}triggerCallback(Me){const Qe="start"==Me?this._onStartFns:this._onDoneFns;Qe.forEach(mt=>mt()),Qe.length=0}}const Q="!"},6895:(an,lt,L)=>{"use strict";L.d(lt,{Do:()=>ce,EM:()=>ro,HT:()=>oe,JF:()=>Ao,K0:()=>xe,Mx:()=>xi,NF:()=>ys,O5:()=>Ae,PM:()=>Cs,RF:()=>ot,S$:()=>nt,V_:()=>Fe,Ye:()=>Q,b0:()=>Ce,bD:()=>Vo,ez:()=>na,mk:()=>cr,n9:()=>Rt,q:()=>q,sg:()=>gi,tP:()=>ir,w_:()=>Re});var y=L(4650);let g=null;function q(){return g}function oe(F){g||(g=F)}class Re{}const xe=new y.OlP("DocumentToken");let De=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=y.Yz7({token:F,factory:function(){return function ye(){return(0,y.LFG)(Te)}()},providedIn:"platform"}),F})();const Fe=new y.OlP("Location Initialized");let Te=(()=>{class F extends De{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(j){const ae=q().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",j,!1),()=>ae.removeEventListener("popstate",j)}onHashChange(j){const ae=q().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",j,!1),()=>ae.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ae,Ne){me()?this._history.pushState(j,ae,Ne):this._location.hash=Ne}replaceState(j,ae,Ne){me()?this._history.replaceState(j,ae,Ne):this._location.hash=Ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return F.\u0275fac=function(j){return new(j||F)(y.LFG(xe))},F.\u0275prov=y.Yz7({token:F,factory:function(){return function Se(){return new Te((0,y.LFG)(xe))}()},providedIn:"platform"}),F})();function me(){return!!window.history.pushState}function Be(F,J){if(0==F.length)return J;if(0==J.length)return F;let j=0;return F.endsWith("/")&&j++,J.startsWith("/")&&j++,2==j?F+J.substring(1):1==j?F+J:F+"/"+J}function $e(F){const J=F.match(/#|\?|$/),j=J&&J.index||F.length;return F.slice(0,j-("/"===F[j-1]?1:0))+F.slice(j)}function Ye(F){return F&&"?"!==F[0]?"?"+F:F}let nt=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=y.Yz7({token:F,factory:function(){return(0,y.f3M)(Ce)},providedIn:"root"}),F})();const Pe=new y.OlP("appBaseHref");let Ce=(()=>{class F extends nt{constructor(j,ae){var Ne,Lt,Qt;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(Ne=null!==(Lt=null!=ae?ae:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Lt?Lt:null===(Qt=(0,y.f3M)(xe).location)||void 0===Qt?void 0:Qt.origin)&&void 0!==Ne?Ne:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return Be(this._baseHref,j)}path(j=!1){const ae=this._platformLocation.pathname+Ye(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&j?`${ae}${Ne}`:ae}pushState(j,ae,Ne,Lt){const Qt=this.prepareExternalUrl(Ne+Ye(Lt));this._platformLocation.pushState(j,ae,Qt)}replaceState(j,ae,Ne,Lt){const Qt=this.prepareExternalUrl(Ne+Ye(Lt));this._platformLocation.replaceState(j,ae,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ae,Ne;null===(ae=(Ne=this._platformLocation).historyGo)||void 0===ae||ae.call(Ne,j)}}return F.\u0275fac=function(j){return new(j||F)(y.LFG(De),y.LFG(Pe,8))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),ce=(()=>{class F extends nt{constructor(j,ae){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(j){const ae=Be(this._baseHref,j);return ae.length>0?"#"+ae:ae}pushState(j,ae,Ne,Lt){let Qt=this.prepareExternalUrl(Ne+Ye(Lt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.pushState(j,ae,Qt)}replaceState(j,ae,Ne,Lt){let Qt=this.prepareExternalUrl(Ne+Ye(Lt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ae,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ae,Ne;null===(ae=(Ne=this._platformLocation).historyGo)||void 0===ae||ae.call(Ne,j)}}return F.\u0275fac=function(j){return new(j||F)(y.LFG(De),y.LFG(Pe,8))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),Q=(()=>{class F{constructor(j){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ae=this._locationStrategy.getBaseHref();this._basePath=function mt(F){if(new RegExp("^(https?:)?//").test(F)){const[,j]=F.split(/\/\/[^\/]+/);return j}return F}($e(Qe(ae))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ae=""){return this.path()==this.normalize(j+Ye(ae))}normalize(j){return F.stripTrailingSlash(function Me(F,J){if(!F||!J.startsWith(F))return J;const j=J.substring(F.length);return""===j||["/",";","?","#"].includes(j[0])?j:J}(this._basePath,Qe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ae="",Ne=null){this._locationStrategy.pushState(Ne,"",j,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ye(ae)),Ne)}replaceState(j,ae="",Ne=null){this._locationStrategy.replaceState(Ne,"",j,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ye(ae)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var ae,Ne;null===(ae=(Ne=this._locationStrategy).historyGo)||void 0===ae||ae.call(Ne,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)})),()=>{const ae=this._urlChangeListeners.indexOf(j);var Ne;this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(null===(Ne=this._urlChangeSubscription)||void 0===Ne||Ne.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ae){this._urlChangeListeners.forEach(Ne=>Ne(j,ae))}subscribe(j,ae,Ne){return this._subject.subscribe({next:j,error:ae,complete:Ne})}}return F.normalizeQueryParams=Ye,F.joinWithSlash=Be,F.stripTrailingSlash=$e,F.\u0275fac=function(j){return new(j||F)(y.LFG(nt))},F.\u0275prov=y.Yz7({token:F,factory:function(){return function He(){return new Q((0,y.LFG)(nt))}()},providedIn:"root"}),F})();function Qe(F){return F.replace(/\/index.html$/,"")}function xi(F,J){J=encodeURIComponent(J);for(const j of F.split(";")){const ae=j.indexOf("="),[Ne,Lt]=-1==ae?[j,""]:[j.slice(0,ae),j.slice(ae+1)];if(Ne.trim()===J)return decodeURIComponent(Lt)}return null}const Oi=/\s+/,An=[];let cr=(()=>{class F{constructor(j,ae,Ne,Lt){this._iterableDiffers=j,this._keyValueDiffers=ae,this._ngEl=Ne,this._renderer=Lt,this.initialClasses=An,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Oi):An}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Oi):j}ngDoCheck(){for(const ae of this.initialClasses)this._updateState(ae,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ae of j)this._updateState(ae,!0);else if(null!=j)for(const ae of Object.keys(j))this._updateState(ae,Boolean(j[ae]));this._applyStateDiff()}_updateState(j,ae){const Ne=this.stateMap.get(j);void 0!==Ne?(Ne.enabled!==ae&&(Ne.changed=!0,Ne.enabled=ae),Ne.touched=!0):this.stateMap.set(j,{enabled:ae,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ae=j[0],Ne=j[1];Ne.changed?(this._toggleClass(ae,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(ae,!1),this.stateMap.delete(ae)),Ne.touched=!1}}_toggleClass(j,ae){(j=j.trim()).length>0&&j.split(Oi).forEach(Ne=>{ae?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}}return F.\u0275fac=function(j){return new(j||F)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class qr{constructor(J,j,ae,Ne){this.$implicit=J,this.ngForOf=j,this.index=ae,this.count=Ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gi=(()=>{class F{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ae,Ne){this._viewContainer=j,this._template=ae,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ae=this._viewContainer;j.forEachOperation((Ne,Lt,Qt)=>{if(null==Ne.previousIndex)ae.createEmbeddedView(this._template,new qr(Ne.item,this._ngForOf,-1,-1),null===Qt?void 0:Qt);else if(null==Qt)ae.remove(null===Lt?void 0:Lt);else if(null!==Lt){const $n=ae.get(Lt);ae.move($n,Qt),Nr($n,Ne)}});for(let Ne=0,Lt=ae.length;Ne<Lt;Ne++){const $n=ae.get(Ne).context;$n.index=Ne,$n.count=Lt,$n.ngForOf=this._ngForOf}j.forEachIdentityChange(Ne=>{Nr(ae.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard(j,ae){return!0}}return F.\u0275fac=function(j){return new(j||F)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function Nr(F,J){F.context.$implicit=J.item}let Ae=(()=>{class F{constructor(j,ae){this._viewContainer=j,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){be("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){be("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ae){return!0}}return F.\u0275fac=function(j){return new(j||F)(y.Y36(y.s_b),y.Y36(y.Rgc))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class tt{constructor(){this.$implicit=null,this.ngIf=null}}function be(F,J){if(J&&!J.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,y.AaK)(J)}'.`)}class it{constructor(J,j){this._viewContainerRef=J,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let ot=(()=>{class F{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const ae=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ae,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ae}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const ae of this._defaultViews)ae.enforceState(j)}}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275dir=y.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),F})(),Rt=(()=>{class F{constructor(j,ae,Ne){this.ngSwitch=Ne,Ne._addCase(),this._view=new it(j,ae)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(j){return new(j||F)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(ot,9))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),F})(),ir=(()=>{class F{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ne,ngTemplateOutletContext:Lt,ngTemplateOutletInjector:Qt}=this;this._viewRef=ae.createEmbeddedView(Ne,Lt,Qt?{injector:Qt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(j){return new(j||F)(y.Y36(y.s_b))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),F})(),na=(()=>{class F{}return F.\u0275fac=function(j){return new(j||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({}),F})();const Vo="browser",zs="server";function ys(F){return F===Vo}function Cs(F){return F===zs}let ro=(()=>{class F{}return F.\u0275prov=(0,y.Yz7)({token:F,providedIn:"root",factory:()=>new ra((0,y.LFG)(xe),window)}),F})();class ra{constructor(J,j){this.document=J,this.window=j,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const j=function So(F,J){const j=F.getElementById(J)||F.getElementsByName(J)[0];if(j)return j;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ae=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let Ne=ae.currentNode;for(;Ne;){const Lt=Ne.shadowRoot;if(Lt){const Qt=Lt.getElementById(J)||Lt.querySelector(`[name="${J}"]`);if(Qt)return Qt}Ne=ae.nextNode()}}return null}(this.document,J);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=J)}}scrollToElement(J){const j=J.getBoundingClientRect(),ae=j.left+this.window.pageXOffset,Ne=j.top+this.window.pageYOffset,Lt=this.offset();this.window.scrollTo(ae-Lt[0],Ne-Lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=ga(this.window.history)||ga(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ga(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Ao{}},4650:(an,lt,L)=>{"use strict";L.d(lt,{$8M:()=>Nl,$WT:()=>br,$Z:()=>Zp,AFp:()=>_E,AaK:()=>ye,BQk:()=>Zm,CHM:()=>ia,CRH:()=>Y0,CZH:()=>qv,CqO:()=>Kf,D6c:()=>Rw,EJc:()=>GI,EiD:()=>im,EpF:()=>Xm,F$t:()=>Uh,F4k:()=>Eg,FYo:()=>Op,FiY:()=>Va,G48:()=>fw,Gf:()=>K0,GfV:()=>Cf,GkF:()=>Qm,Gpc:()=>me,Hsn:()=>Yf,Ikx:()=>wu,JOm:()=>Ia,JVY:()=>j_,JZr:()=>nt,KtG:()=>Aa,L6k:()=>H_,LAX:()=>Fi,LFG:()=>Jn,LMc:()=>Pw,Lbi:()=>VI,Lck:()=>u0,MAs:()=>Fh,MMx:()=>h,MR2:()=>vf,NdJ:()=>Kd,O4$:()=>Pa,OlP:()=>ci,Oqu:()=>vu,P3R:()=>_f,PXZ:()=>ow,Q6J:()=>Lh,QGY:()=>vg,QbO:()=>jI,Qsj:()=>Eh,R0b:()=>sd,RDi:()=>V_,RIp:()=>Tp,Rgc:()=>kv,SBq:()=>uc,Sil:()=>KI,Suo:()=>q0,TTD:()=>no,TgZ:()=>Gf,Tol:()=>iy,Udp:()=>Rs,W1O:()=>J0,X6Q:()=>hw,XFs:()=>dn,Xpm:()=>yn,Xts:()=>Dp,Y36:()=>Wu,YKP:()=>Pv,YNc:()=>hl,Yjl:()=>gs,Yz7:()=>St,Z0I:()=>bn,ZZ4:()=>N0,_Bn:()=>jv,_UZ:()=>fl,_Vd:()=>Rd,_uU:()=>ay,aQg:()=>k0,c2e:()=>HI,cJS:()=>At,cg1:()=>Lg,dDg:()=>nw,dqk:()=>mr,eBb:()=>Io,eJc:()=>_0,ekj:()=>Mg,eoX:()=>SE,f3M:()=>Ht,g9A:()=>EE,h0i:()=>fp,hGG:()=>Mw,hij:()=>Wh,iGM:()=>W0,iPO:()=>cw,ifc:()=>ge,ip1:()=>yE,jDz:()=>b,kL8:()=>Bg,kcU:()=>yi,lG2:()=>ds,lqb:()=>$c,lri:()=>DE,mCW:()=>Sd,n5z:()=>Ba,n_E:()=>Hv,oAB:()=>ji,oxw:()=>qd,pB0:()=>Cy,q3G:()=>Qs,q4F:()=>bl,qLn:()=>qo,qOj:()=>Um,qZA:()=>Wf,qzn:()=>$u,rWj:()=>TE,sBO:()=>pw,s_b:()=>Gv,soG:()=>Yv,tBr:()=>Ua,tb:()=>ME,tp0:()=>Ll,uIk:()=>Km,vHH:()=>Pe,vpe:()=>rf,wAp:()=>Sr,xp6:()=>Sf,ynx:()=>Wd,z2F:()=>Zv,z3N:()=>jl,zSh:()=>If,zs3:()=>Wl});var y=L(7579),g=L(727),q=L(9751),oe=L(6451),Re=L(3099);function xe(n){for(let i in n)if(n[i]===xe)return i;throw Error("Could not find renamed property on target object.")}function De(n,i){for(const l in i)i.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=i[l])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const l=i.indexOf("\n");return-1===l?i:i.substring(0,l)}function Fe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Te=xe({__forward_ref__:xe});function me(n){return n.__forward_ref__=me,n.toString=function(){return ye(this())},n}function Se(n){return Be(n)?n():n}function Be(n){return"function"==typeof n&&n.hasOwnProperty(Te)&&n.__forward_ref__===me}function $e(n){return n&&!!n.\u0275providers}const nt="https://g.co/ng/security#xss";class Pe extends Error{constructor(i,l){super(Ce(i,l)),this.code=i}}function Ce(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Q(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}function mt(n,i){throw new Pe(-201,!1)}function Et(n,i){null==n&&function yt(n,i,l,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${l} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function St(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jt(n){return Fn(n,In)||Fn(n,Or)}function bn(n){return null!==Jt(n)}function Fn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Kt(n){return n&&(n.hasOwnProperty(jt)||n.hasOwnProperty(jn))?n[jt]:null}const In=xe({\u0275prov:xe}),jt=xe({\u0275inj:xe}),Or=xe({ngInjectableDef:xe}),jn=xe({ngInjectorDef:xe});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let ar;function Er(n){const i=ar;return ar=n,i}function Ci(n,i,l){const d=Jt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&dn.Optional?null:void 0!==i?i:void mt(ye(n))}const mr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xr={},Wr="__NG_DI_FLAG__",dr="ngTempTokenPath",ii="ngTokenPath",Kr=/\n/gm,Ri="\u0275",_r="__source";let Qr;function rr(n){const i=Qr;return Qr=n,i}function Ii(n,i=dn.Default){if(void 0===Qr)throw new Pe(-203,!1);return null===Qr?Ci(n,void 0,i):Qr.get(n,i&dn.Optional?null:void 0,i)}function Jn(n,i=dn.Default){return(function Zr(){return ar}()||Ii)(Se(n),i)}function Ht(n,i=dn.Default){return Jn(n,En(i))}function En(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vn(n){const i=[];for(let l=0;l<n.length;l++){const d=Se(n[l]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,!1);let f,v=dn.Default;for(let C=0;C<d.length;C++){const O=d[C],$=fr(O);"number"==typeof $?-1===$?f=O.token:v|=$:f=O}i.push(Jn(f,v))}else i.push(Jn(d))}return i}function Gn(n,i){return n[Wr]=i,n.prototype[Wr]=i,n}function fr(n){return n[Wr]}function Ve(n){return{toString:n}.toString()}var he=(()=>((he=he||{})[he.OnPush=0]="OnPush",he[he.Default=1]="Default",he))(),ge=(()=>{return(n=ge||(ge={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ge;var n})();const de={},ht=[],Oe=xe({\u0275cmp:xe}),Le=xe({\u0275dir:xe}),Ie=xe({\u0275pipe:xe}),et=xe({\u0275mod:xe}),Mt=xe({\u0275fac:xe}),Yt=xe({__NG_ELEMENT_ID__:xe});let Pn=0;function yn(n){return Ve(()=>{const i=ms(n),l={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ge.Emulated,id:"c"+Pn++,styles:n.styles||ht,_:null,schemas:n.schemas||null,tView:null};Gr(l);const d=n.dependencies;return l.directiveDefs=xi(d,!1),l.pipeDefs=xi(d,!0),l})}function di(n){return Xn(n)||Lr(n)}function Pi(n){return null!==n}function ji(n){return Ve(()=>({type:n.type,bootstrap:n.bootstrap||ht,declarations:n.declarations||ht,imports:n.imports||ht,exports:n.exports||ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bi(n,i){if(null==n)return de;const l={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),l[f]=d,i&&(i[f]=v)}return l}function ds(n){return Ve(()=>{const i=ms(n);return Gr(i),i})}function gs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xn(n){return n[Oe]||null}function Lr(n){return n[Le]||null}function Vr(n){return n[Ie]||null}function br(n){const i=Xn(n)||Lr(n)||Vr(n);return null!==i&&i.standalone}function vr(n,i){const l=n[et]||null;if(!l&&!0===i)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return l}function ms(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bi(n.inputs,i),outputs:Bi(n.outputs)}}function Gr(n){var i;null===(i=n.features)||void 0===i||i.forEach(l=>l(n))}function xi(n,i){if(!n)return null;const l=i?Vr:di;return()=>("function"==typeof n?n():n).map(d=>l(d)).filter(Pi)}const Oi=0,An=1,cr=2,pr=3,hi=4,ti=5,qr=6,gi=7,Nr=8,ue=9,Ae=10,tt=11,be=12,it=13,ot=14,Rt=15,$t=16,zt=17,qt=18,pn=19,Yn=20,ir=21,Ze=22,wt=1,Wt=2,on=7,Ln=8,er=9,sr=10;function Xr(n){return Array.isArray(n)&&"object"==typeof n[wt]}function mi(n){return Array.isArray(n)&&!0===n[wt]}function rs(n){return 0!=(4&n.flags)}function Hs(n){return n.componentOffset>-1}function Ls(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function Do(n){return 0!=(256&n[cr])}function si(n,i){return n.hasOwnProperty(Mt)?n[Mt]:null}class Ds{constructor(i,l,d){this.previousValue=i,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function no(){return ro}function ro(n){return n.type.prototype.ngOnChanges&&(n.setInput=ga),ra}function ra(){const n=Sa(this),i=null==n?void 0:n.current;if(i){const l=n.previous;if(l===de)n.previous=i;else for(let d in i)l[d]=i[d];n.current=null,this.ngOnChanges(i)}}function ga(n,i,l,d){const f=this.declaredInputs[l],v=Sa(n)||function Ao(n,i){return n[So]=i}(n,{previous:de,current:null}),C=v.current||(v.current={}),O=v.previous,$=O[f];C[f]=new Ds($&&$.currentValue,i,O===de),n[d]=i}no.ngInherit=!0;const So="__ngSimpleChanges__";function Sa(n){return n[So]||null}const Hi=function(n,i,l){},Ui="svg";function Di(n){for(;Array.isArray(n);)n=n[Oi];return n}function _s(n,i){return Di(i[n])}function ss(n,i){return Di(i[n.index])}function D(n,i){return n.data[i]}function T(n,i){const l=i[n];return Xr(l)?l:l[Oi]}function Ee(n){return 64==(64&n[cr])}function Bn(n,i){return null==i?null:n[i]}function Kn(n){n[qt]=0}function Cr(n,i){n[ti]+=i;let l=n,d=n[pr];for(;null!==d&&(1===i&&1===l[ti]||-1===i&&0===l[ti]);)d[ti]+=i,l=d,d=d[pr]}const On={lFrame:Ec(null),bindingsEnabled:!0};function Ot(){return On.bindingsEnabled}function Vt(){return On.lFrame.lView}function Zn(){return On.lFrame.tView}function ia(n){return On.lFrame.contextLView=n,n[Nr]}function Aa(n){return On.lFrame.contextLView=null,n}function vs(){let n=ml();for(;null!==n&&64===n.type;)n=n.parent;return n}function ml(){return On.lFrame.currentTNode}function Ts(n,i){const l=On.lFrame;l.currentTNode=n,l.isParent=i}function yl(){return On.lFrame.isParent}function Ma(){On.lFrame.isParent=!1}function fo(){return On.lFrame.bindingIndex++}function Ro(n){const i=On.lFrame,l=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,l}function Ml(n,i){const l=On.lFrame;l.bindingIndex=l.bindingRootIndex=n,Qa(i)}function Qa(n){On.lFrame.currentDirectiveIndex=n}function xa(){return On.lFrame.currentQueryIndex}function Gs(n){On.lFrame.currentQueryIndex=n}function Xa(n){const i=n[An];return 2===i.type?i.declTNode:1===i.type?n[qr]:null}function Ho(n,i,l){if(l&dn.SkipSelf){let f=i,v=n;for(;!(f=f.parent,null!==f||l&dn.Host||(f=Xa(v),null===f||(v=v[Rt],10&f.type))););if(null===f)return!1;i=f,n=v}const d=On.lFrame=po();return d.currentTNode=i,d.lView=n,!0}function zo(n){const i=po(),l=n[An];On.lFrame=i,i.currentTNode=l.firstChild,i.lView=n,i.tView=l,i.contextLView=n,i.bindingIndex=l.bindingStartIndex,i.inI18n=!1}function po(){const n=On.lFrame,i=null===n?null:n.child;return null===i?Ec(n):i}function Ec(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Rl(){const n=On.lFrame;return On.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ni=Rl;function ma(){const n=Rl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fi(){return On.lFrame.selectedIndex}function go(n){On.lFrame.selectedIndex=n}function Yr(){const n=On.lFrame;return D(n.tView,n.selectedIndex)}function Pa(){On.lFrame.currentNamespace=Ui}function yi(){!function Oa(){On.lFrame.currentNamespace=null}()}function ka(n,i){for(let X=i.directiveStart,pe=i.directiveEnd;X<pe;X++){const pt=n.data[X].type.prototype,{ngAfterContentInit:Pt,ngAfterContentChecked:rn,ngAfterViewInit:Tn,ngAfterViewChecked:qn,ngOnDestroy:wr}=pt;var l,d,f,v,C,O,$;Pt&&(null!==(l=n.contentHooks)&&void 0!==l?l:n.contentHooks=[]).push(-X,Pt),rn&&((null!==(d=n.contentHooks)&&void 0!==d?d:n.contentHooks=[]).push(X,rn),(null!==(f=n.contentCheckHooks)&&void 0!==f?f:n.contentCheckHooks=[]).push(X,rn)),Tn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-X,Tn),qn&&((null!==(C=n.viewHooks)&&void 0!==C?C:n.viewHooks=[]).push(X,qn),(null!==(O=n.viewCheckHooks)&&void 0!==O?O:n.viewCheckHooks=[]).push(X,qn)),null!=wr&&(null!==($=n.destroyHooks)&&void 0!==$?$:n.destroyHooks=[]).push(X,wr)}}function Ic(n,i,l){J(n,i,3,l)}function Ji(n,i,l,d){(3&n[cr])===l&&J(n,i,l,d)}function F(n,i){let l=n[cr];(3&l)===i&&(l&=2047,l+=1,n[cr]=l)}function J(n,i,l,d){const v=null!=d?d:-1,C=i.length-1;let O=0;for(let $=void 0!==d?65535&n[qt]:0;$<C;$++)if("number"==typeof i[$+1]){if(O=i[$],null!=d&&O>=d)break}else i[$]<0&&(n[qt]+=65536),(O<v||-1==v)&&(j(n,l,i,$),n[qt]=(4294901760&n[qt])+$+2),$++}function j(n,i,l,d){const f=l[d]<0,v=l[d+1],O=n[f?-l[d]:l[d]];if(f){if(n[cr]>>11<n[qt]>>16&&(3&n[cr])===i){n[cr]+=2048,Hi(4,O,v);try{v.call(O)}finally{Hi(5,O,v)}}}else{Hi(4,O,v);try{v.call(O)}finally{Hi(5,O,v)}}}const ae=-1;class Ne{constructor(i,l,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function fn(n,i,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const v=l[d++],C=l[d++],O=l[d++];n.setAttribute(i,C,O,v)}else{const v=f,C=l[++d];mo(v)?n.setProperty(i,v,C):n.setAttribute(i,v,C),d++}}return d}function Rn(n){return 3===n||4===n||6===n}function mo(n){return 64===n.charCodeAt(0)}function gn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let l=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?l=f:0===l||kt(n,l,f,null,-1===l||2===l?i[++d]:null)}}return n}function kt(n,i,l,d,f){let v=0,C=n.length;if(-1===i)C=-1;else for(;v<n.length;){const O=n[v++];if("number"==typeof O){if(O===i){C=-1;break}if(O>i){C=v-1;break}}}for(;v<n.length;){const O=n[v];if("number"==typeof O)break;if(O===l){if(null===d)return void(null!==f&&(n[v+1]=f));if(d===n[v+1])return void(n[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==C&&(n.splice(C,0,i),v=C+1),n.splice(v++,0,l),null!==d&&n.splice(v++,0,d),null!==f&&n.splice(v++,0,f)}function tn(n){return n!==ae}function wi(n){return 32767&n}function el(n,i){let l=function Ja(n){return n>>16}(n),d=i;for(;l>0;)d=d[Rt],l--;return d}let vl=!0;function tl(n){const i=vl;return vl=n,i}const Jl=255,Pl=5;let wc=0;const oa={};function Po(n,i){const l=ki(n,i);if(-1!==l)return l;const d=i[An];d.firstCreatePass&&(n.injectorIndex=i.length,or(d.data,n),or(i,null),or(d.blueprint,null));const f=Fa(n,i),v=n.injectorIndex;if(tn(f)){const C=wi(f),O=el(f,i),$=O[An].data;for(let X=0;X<8;X++)i[v+X]=O[C+X]|$[C+X]}return i[v+8]=f,v}function or(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ki(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Fa(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,d=null,f=i;for(;null!==f;){if(d=la(f),null===d)return ae;if(l++,f=f[Rt],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return ae}function Ti(n,i,l){!function qc(n,i,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Yt)&&(d=l[Yt]),null==d&&(d=l[Yt]=wc++);const f=d&Jl;i.data[n+(f>>Pl)]|=1<<f}(n,i,l)}function La(n,i,l){if(l&dn.Optional||void 0!==n)return n;mt()}function oi(n,i,l,d){if(l&dn.Optional&&void 0===d&&(d=null),!(l&(dn.Self|dn.Host))){const f=n[ue],v=Er(void 0);try{return f?f.get(i,d,l&dn.Optional):Ci(i,d,l&dn.Optional)}finally{Er(v)}}return La(d,0,l)}function Cu(n,i,l,d=dn.Default,f){if(null!==n){if(1024&i[cr]){const C=function yo(n,i,l,d,f){let v=n,C=i;for(;null!==v&&null!==C&&1024&C[cr]&&!(256&C[cr]);){const O=$i(v,C,l,d|dn.Self,oa);if(O!==oa)return O;let $=v.parent;if(!$){const X=C[ir];if(X){const pe=X.get(l,oa,d);if(pe!==oa)return pe}$=la(C),C=C[Rt]}v=$}return f}(n,i,l,d,oa);if(C!==oa)return C}const v=$i(n,i,l,d,oa);if(v!==oa)return v}return oi(i,l,d,f)}function $i(n,i,l,d,f){const v=function Go(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Yt)?n[Yt]:void 0;return"number"==typeof i?i>=0?i&Jl:os:i}(l);if("function"==typeof v){if(!Ho(i,n,d))return d&dn.Host?La(f,0,d):oi(i,l,d,f);try{const C=v(d);if(null!=C||d&dn.Optional)return C;mt()}finally{Ni()}}else if("number"==typeof v){let C=null,O=ki(n,i),$=ae,X=d&dn.Host?i[$t][qr]:null;for((-1===O||d&dn.SkipSelf)&&($=-1===O?Fa(n,i):i[O+8],$!==ae&&Ol(d,!1)?(C=i[An],O=wi($),i=el($,i)):O=-1);-1!==O;){const pe=i[An];if(Oo(v,O,pe.data)){const ke=Nn(O,i,l,C,d,X);if(ke!==oa)return ke}$=i[O+8],$!==ae&&Ol(d,i[An].data[O+8]===X)&&Oo(v,O,i)?(C=pe,O=wi($),i=el($,i)):O=-1}}return f}function Nn(n,i,l,d,f,v){const C=i[An],O=C.data[n+8],pe=Is(O,C,l,null==d?Hs(O)&&vl:d!=C&&0!=(3&O.type),f&dn.Host&&v===O);return null!==pe?es(i,C,pe,O):oa}function Is(n,i,l,d,f){const v=n.providerIndexes,C=i.data,O=1048575&v,$=n.directiveStart,pe=v>>20,pt=f?O+pe:n.directiveEnd;for(let Pt=d?O:O+pe;Pt<pt;Pt++){const rn=C[Pt];if(Pt<$&&l===rn||Pt>=$&&rn.type===l)return Pt}if(f){const Pt=C[$];if(Pt&&jr(Pt)&&Pt.type===l)return $}return null}function es(n,i,l,d){let f=n[l];const v=i.data;if(function Lt(n){return n instanceof Ne}(f)){const C=f;C.resolving&&function He(n,i){const l=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${n}${l}`)}(Q(v[l]));const O=tl(C.canSeeViewProviders);C.resolving=!0;const $=C.injectImpl?Er(C.injectImpl):null;Ho(n,d,dn.Default);try{f=n[l]=C.factory(void 0,v,n,d),i.firstCreatePass&&l>=d.directiveStart&&function Na(n,i,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=i.type.prototype;if(d){var C,O;const ke=ro(i);(null!==(C=l.preOrderHooks)&&void 0!==C?C:l.preOrderHooks=[]).push(n,ke),(null!==(O=l.preOrderCheckHooks)&&void 0!==O?O:l.preOrderCheckHooks=[]).push(n,ke)}var $,X,pe;f&&(null!==($=l.preOrderHooks)&&void 0!==$?$:l.preOrderHooks=[]).push(0-n,f),v&&((null!==(X=l.preOrderHooks)&&void 0!==X?X:l.preOrderHooks=[]).push(n,v),(null!==(pe=l.preOrderCheckHooks)&&void 0!==pe?pe:l.preOrderCheckHooks=[]).push(n,v))}(l,v[l],i)}finally{null!==$&&Er($),tl(O),C.resolving=!1,Ni()}}return f}function Oo(n,i,l){return!!(l[i+(n>>Pl)]&1<<n)}function Ol(n,i){return!(n&dn.Self||n&dn.Host&&i)}class aa{constructor(i,l){this._tNode=i,this._lView=l}get(i,l,d){return Cu(this._tNode,this._lView,i,En(d),l)}}function os(){return new aa(vs(),Vt())}function Ba(n){return Ve(()=>{const i=n.prototype.constructor,l=i[Mt]||Yc(i),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const v=f[Mt]||Yc(f);if(v&&v!==l)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function Yc(n){return Be(n)?()=>{const i=Yc(Se(n));return i&&i()}:si(n)}function la(n){const i=n[An],l=i.type;return 2===l?i.declTNode:1===l?n[qr]:null}function Nl(n){return function gr(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const l=n.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const v=l[f];if(Rn(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(v===i)return l[f+1];f+=2}}}return null}(vs(),n)}const _o="__parameters__";function Ws(n,i,l){return Ve(()=>{const d=function kl(n){return function(...l){if(n){const d=n(...l);for(const f in d)this[f]=d[f]}}}(i);function f(...v){if(this instanceof f)return d.apply(this,v),this;const C=new f(...v);return O.annotation=C,O;function O($,X,pe){const ke=$.hasOwnProperty(_o)?$[_o]:Object.defineProperty($,_o,{value:[]})[_o];for(;ke.length<=pe;)ke.push(null);return(ke[pe]=ke[pe]||[]).push(C),$}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class ci{constructor(i,l){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=St({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function S(n,i){n.forEach(l=>Array.isArray(l)?S(l,i):i(l))}function R(n,i,l){i>=n.length?n.push(l):n.splice(i,0,l)}function w(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function x(n,i){const l=[];for(let d=0;d<n;d++)l.push(i);return l}function Nt(n,i,l){let d=mn(n,i);return d>=0?n[1|d]=l:(d=~d,function fe(n,i,l,d){let f=n.length;if(f==i)n.push(l,d);else if(1===f)n.push(d,n[0]),n[0]=l;else{for(f--,n.push(n[f-1],n[f]);f>i;)n[f]=n[f-2],f--;n[i]=l,n[i+1]=d}}(n,d,i,l)),d}function wn(n,i){const l=mn(n,i);if(l>=0)return n[1|l]}function mn(n,i){return function Rr(n,i,l){let d=0,f=n.length>>l;for(;f!==d;){const v=d+(f-d>>1),C=n[v<<l];if(i===C)return v<<l;C>i?f=v:d=v+1}return~(f<<l)}(n,i,1)}const Ua=Gn(Ws("Inject",n=>({token:n})),-1),Va=Gn(Ws("Optional"),8),Ll=Gn(Ws("SkipSelf"),4);var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();const Sc=new Map;let mp=0;const gd="__ngContext__";function Ys(n,i){Xr(i)?(n[gd]=i[Yn],function hd(n){Sc.set(n[Yn],n)}(i)):n[gd]=i}let yd;function xu(n,i){return yd(n,i)}function wl(n){const i=n[pr];return mi(i)?i[pr]:i}function eu(n){return il(n[it])}function tu(n){return il(n[hi])}function il(n){for(;null!==n&&!mi(n);)n=n[hi];return n}function Ul(n,i,l,d,f){if(null!=d){let v,C=!1;mi(d)?v=d:Xr(d)&&(C=!0,d=d[Oi]);const O=Di(d);0===n&&null!==l?null==f?ol(i,l,O):_i(i,l,O,f||null,!0):1===n&&null!==l?_i(i,l,O,f||null,!0):2===n?function Wg(n,i,l){const d=nu(n,i);d&&function vd(n,i,l,d){n.removeChild(i,l,d)}(n,d,i,l)}(i,O,C):3===n&&i.destroyNode(O),null!=v&&function wy(n,i,l,d,f){const v=l[on];v!==Di(l)&&Ul(i,n,d,v,f);for(let O=sr;O<l.length;O++){const $=l[O];Id($[An],$,n,i,d,v)}}(i,n,v,l,f)}}function wa(n,i,l){return n.createElement(i,l)}function te(n,i){const l=n[er],d=l.indexOf(i),f=i[pr];512&i[cr]&&(i[cr]&=-513,Cr(f,-1)),l.splice(d,1)}function ve(n,i){if(n.length<=sr)return;const l=sr+i,d=n[l];if(d){const f=d[zt];null!==f&&f!==n&&te(f,d),i>0&&(n[l-1][hi]=d[hi]);const v=w(n,sr+i);!function cf(n,i){Id(n,i,i[tt],2,null,null),i[Oi]=null,i[qr]=null}(d[An],d);const C=v[pn];null!==C&&C.detachView(v[An]),d[pr]=null,d[hi]=null,d[cr]&=-65}return d}function It(n,i){if(!(128&i[cr])){const l=i[tt];l.destroyNode&&Id(n,i,l,3,null,null),function _(n){let i=n[it];if(!i)return Bt(n[An],n);for(;i;){let l=null;if(Xr(i))l=i[it];else{const d=i[sr];d&&(l=d)}if(!l){for(;i&&!i[hi]&&i!==n;)Xr(i)&&Bt(i[An],i),i=i[pr];null===i&&(i=n),Xr(i)&&Bt(i[An],i),l=i&&i[hi]}i=l}}(i)}}function Bt(n,i){if(!(128&i[cr])){i[cr]&=-65,i[cr]|=128,function zn(n,i){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let d=0;d<l.length;d+=2){const f=i[l[d]];if(!(f instanceof Ne)){const v=l[d+1];if(Array.isArray(v))for(let C=0;C<v.length;C+=2){const O=f[v[C]],$=v[C+1];Hi(4,O,$);try{$.call(O)}finally{Hi(5,O,$)}}else{Hi(4,f,v);try{v.call(f)}finally{Hi(5,f,v)}}}}}(n,i),function Mn(n,i){const l=n.cleanup,d=i[gi];let f=-1;if(null!==l)for(let v=0;v<l.length-1;v+=2)if("string"==typeof l[v]){const C=l[v+3];C>=0?d[f=C]():d[f=-C].unsubscribe(),v+=2}else{const C=d[f=l[v+1]];l[v].call(C)}if(null!==d){for(let v=f+1;v<d.length;v++)(0,d[v])();i[gi]=null}}(n,i),1===i[An].type&&i[tt].destroy();const l=i[zt];if(null!==l&&mi(i[pr])){l!==i[pr]&&te(l,i);const d=i[pn];null!==d&&d.detachView(n)}!function ui(n){Sc.delete(n[Yn])}(i)}}function Sn(n,i,l){return function Pr(n,i,l){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return l[Oi];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=n.data[d.directiveStart+f];if(v===ge.None||v===ge.Emulated)return null}return ss(d,l)}}(n,i.parent,l)}function _i(n,i,l,d,f){n.insertBefore(i,l,d,f)}function ol(n,i,l){n.appendChild(i,l)}function Vl(n,i,l,d,f){null!==d?_i(n,i,l,d,f):ol(n,i,l)}function nu(n,i){return n.parentNode(i)}function Nu(n,i,l){return Hr(n,i,l)}let Pc,Lu,ff,pf,Hr=function xc(n,i,l){return 40&n.type?ss(n,l):null};function Ed(n,i,l,d){const f=Sn(n,d,i),v=i[tt],O=Nu(d.parent||i[qr],d,i);if(null!=f)if(Array.isArray(l))for(let $=0;$<l.length;$++)Vl(v,f,l[$],O,!1);else Vl(v,f,l,O,!1);void 0!==Pc&&Pc(v,d,i,l,f)}function ru(n,i){if(null!==i){const l=i.type;if(3&l)return ss(i,n);if(4&l)return lh(-1,n[i.index]);if(8&l){const d=i.child;if(null!==d)return ru(n,d);{const f=n[i.index];return mi(f)?lh(-1,f):Di(f)}}if(32&l)return xu(i,n)()||Di(n[i.index]);{const d=uf(n,i);return null!==d?Array.isArray(d)?d[0]:ru(wl(n[$t]),d):ru(n,i.next)}}return null}function uf(n,i){return null!==i?n[$t][qr].projection[i.projection]:null}function lh(n,i){const l=sr+n+1;if(l<i.length){const d=i[l],f=d[An].firstChild;if(null!==f)return ru(d,f)}return i[on]}function Kg(n,i,l,d,f,v,C){for(;null!=l;){const O=d[l.index],$=l.type;if(C&&0===i&&(O&&Ys(Di(O),d),l.flags|=2),32!=(32&l.flags))if(8&$)Kg(n,i,l.child,d,f,v,!1),Ul(i,n,f,O,v);else if(32&$){const X=xu(l,d);let pe;for(;pe=X();)Ul(i,n,f,pe,v);Ul(i,n,f,O,v)}else 16&$?Fu(n,i,d,l,f,v):Ul(i,n,f,O,v);l=C?l.projectionNext:l.next}}function Id(n,i,l,d,f,v){Kg(l,d,n.firstChild,i,f,v,!1)}function Fu(n,i,l,d,f,v){const C=l[$t],$=C[qr].projection[d.projection];if(Array.isArray($))for(let X=0;X<$.length;X++)Ul(i,n,f,$[X],v);else Kg(n,i,$,C[pr],f,v,!0)}function Cd(n,i,l){""===l?n.removeAttribute(i,"class"):n.setAttribute(i,"class",l)}function qg(n,i,l){const{mergedAttrs:d,classes:f,styles:v}=l;null!==d&&fn(n,i,d),null!==f&&Cd(n,i,f),null!==v&&function by(n,i,l){n.setAttribute(i,"style",l)}(n,i,v)}function Dd(n){var i;return(null===(i=function iu(){if(void 0===Lu&&(Lu=null,mr.trustedTypes))try{Lu=mr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lu}())||void 0===i?void 0:i.createHTML(n))||n}function V_(n){ff=n}function Yg(n){var i;return(null===(i=function uh(){if(void 0===pf&&(pf=null,mr.trustedTypes))try{pf=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pf}())||void 0===i?void 0:i.createScriptURL(n))||n}class Bu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}class Zg extends Bu{getTypeName(){return"HTML"}}class su extends Bu{getTypeName(){return"Style"}}class gf extends Bu{getTypeName(){return"Script"}}class vp extends Bu{getTypeName(){return"URL"}}class Qg extends Bu{getTypeName(){return"ResourceURL"}}function jl(n){return n instanceof Bu?n.changingThisBreaksApplicationSecurity:n}function $u(n,i){const l=function Xg(n){return n instanceof Bu&&n.getTypeName()||null}(n);if(null!=l&&l!==i){if("ResourceURL"===l&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${l} (see ${nt})`)}return l===i}function j_(n){return new Zg(n)}function H_(n){return new su(n)}function Io(n){return new gf(n)}function Fi(n){return new vp(n)}function Cy(n){return new Qg(n)}class Ep{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const l=(new window.DOMParser).parseFromString(Dd(i),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(i):(l.removeChild(l.firstChild),l)}catch{return null}}}class Ip{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const l=this.inertDocument.createElement("template");return l.innerHTML=Dd(i),l}}const hh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sd(n){return(n=String(n)).match(hh)?n:"unsafe:"+n}function sc(n){const i={};for(const l of n.split(","))i[l]=!0;return i}function ou(...n){const i={};for(const l of n)for(const d in l)l.hasOwnProperty(d)&&(i[d]=!0);return i}const wp=sc("area,br,col,hr,img,wbr"),Dy=sc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),em=sc("rp,rt"),tm=ou(wp,ou(Dy,sc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ou(em,sc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ou(em,Dy)),nm=sc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rm=ou(nm,sc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zs=sc("script,style,template");class Nc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let l=i.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(i){const l=i.nodeName.toLowerCase();if(!tm.hasOwnProperty(l))return this.sanitizedSomething=!0,!Zs.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=i.attributes;for(let f=0;f<d.length;f++){const v=d.item(f),C=v.name,O=C.toLowerCase();if(!rm.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let $=v.value;nm[O]&&($=Sd($)),this.buf.push(" ",C,'="',oc($),'"')}return this.buf.push(">"),!0}endElement(i){const l=i.nodeName.toLowerCase();tm.hasOwnProperty(l)&&!wp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(i){this.buf.push(oc(i))}checkClobberedElement(i,l){if(l&&(i.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return l}}const mf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vu=/([^\#-~ |!])/g;function oc(n){return n.replace(/&/g,"&amp;").replace(mf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Vu,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ph;function im(n,i){let l=null;try{ph=ph||function Jg(n){const i=new Ip(n);return function dh(){try{return!!(new window.DOMParser).parseFromString(Dd(""),"text/html")}catch{return!1}}()?new Ep(i):i}(n);let d=i?String(i):"";l=ph.getInertBodyElement(d);let f=5,v=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=v,v=l.innerHTML,l=ph.getInertBodyElement(d)}while(d!==v);return Dd((new Nc).sanitizeChildren(ju(l)||l))}finally{if(l){const d=ju(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ju(n){return"content"in n&&function bp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Qs=(()=>((Qs=Qs||{})[Qs.NONE=0]="NONE",Qs[Qs.HTML=1]="HTML",Qs[Qs.STYLE=2]="STYLE",Qs[Qs.SCRIPT=3]="SCRIPT",Qs[Qs.URL=4]="URL",Qs[Qs.RESOURCE_URL=5]="RESOURCE_URL",Qs))();function Sy(n){const i=kc();return i?i.sanitize(Qs.URL,n)||"":$u(n,"URL")?jl(n):Sd(ce(n))}function gh(n){const i=kc();if(i)return Yg(i.sanitize(Qs.RESOURCE_URL,n)||"");if($u(n,"ResourceURL"))return Yg(jl(n));throw new Pe(904,!1)}function _f(n,i,l){return function am(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?gh:Sy}(i,l)(n)}function kc(){const n=Vt();return n&&n[be]}const Dp=new ci("ENVIRONMENT_INITIALIZER"),cm=new ci("INJECTOR",-1),Fc=new ci("INJECTOR_DEF_TYPES");class ac{get(i,l=xr){if(l===xr){const d=new Error(`NullInjectorError: No provider for ${ye(i)}!`);throw d.name="NullInjectorError",d}return l}}function vf(n){return{\u0275providers:n}}function Tp(...n){return{\u0275providers:Ef(0,n),\u0275fromNgModule:!0}}function Ef(n,...i){const l=[],d=new Set;let f;return S(i,v=>{const C=v;Sp(C,l,[],d)&&(f||(f=[]),f.push(C))}),void 0!==f&&lc(f,l),l}function lc(n,i){for(let l=0;l<n.length;l++){const{providers:f}=n[l];Mp(f,v=>{i.push(v)})}}function Sp(n,i,l,d){if(!(n=Se(n)))return!1;let f=null,v=Kt(n);const C=!v&&Xn(n);if(v||C){if(C&&!C.standalone)return!1;f=n}else{const $=n.ngModule;if(v=Kt($),!v)return!1;f=$}const O=d.has(f);if(C){if(O)return!1;if(d.add(f),C.dependencies){const $="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const X of $)Sp(X,i,l,d)}}else{if(!v)return!1;{if(null!=v.imports&&!O){let X;d.add(f);try{S(v.imports,pe=>{Sp(pe,i,l,d)&&(X||(X=[]),X.push(pe))})}finally{}void 0!==X&&lc(X,i)}if(!O){const X=si(f)||(()=>new f);i.push({provide:f,useFactory:X,deps:ht},{provide:Fc,useValue:f,multi:!0},{provide:Dp,useValue:()=>Jn(f),multi:!0})}const $=v.providers;null==$||O||Mp($,pe=>{i.push(pe)})}}return f!==n&&void 0!==n.providers}function Mp(n,i){for(let l of n)$e(l)&&(l=l.\u0275providers),Array.isArray(l)?Mp(l,i):i(l)}const Rp=xe({provide:String,useValue:xe});function lu(n){return null!==n&&"object"==typeof n&&Rp in n}function cc(n){return"function"==typeof n}const If=new ci("Set Injector scope."),mh={},dm={};let yh;function _h(){return void 0===yh&&(yh=new ac),yh}class $c{}class vh extends $c{get destroyed(){return this._destroyed}constructor(i,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cu(i,C=>this.processProvider(C)),this.records.set(cm,Uc(void 0,this)),f.has("environment")&&this.records.set($c,Uc(void 0,this));const v=this.records.get(If);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Fc.multi,ht,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const l=rr(this),d=Er(void 0);try{return i()}finally{rr(l),Er(d)}}get(i,l=xr,d=dn.Default){this.assertNotDestroyed(),d=En(d);const f=rr(this),v=Er(void 0);try{if(!(d&dn.SkipSelf)){let O=this.records.get(i);if(void 0===O){const $=function wf(n){return"function"==typeof n||"object"==typeof n&&n instanceof ci}(i)&&Jt(i);O=$&&this.injectableDefInScope($)?Uc(Hl(i),mh):null,this.records.set(i,O)}if(null!=O)return this.hydrate(i,O)}return(d&dn.Self?_h():this.parent).get(i,l=d&dn.Optional&&l===xr?null:l)}catch(C){if("NullInjectorError"===C.name){if((C[dr]=C[dr]||[]).unshift(ye(i)),f)throw C;return function Ar(n,i,l,d){const f=n[dr];throw i[_r]&&f.unshift(i[_r]),n.message=function Je(n,i,l,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ri?n.slice(2):n;let f=ye(i);if(Array.isArray(i))f=i.map(ye).join(" -> ");else if("object"==typeof i){let v=[];for(let C in i)if(i.hasOwnProperty(C)){let O=i[C];v.push(C+":"+("string"==typeof O?JSON.stringify(O):ye(O)))}f=`{${v.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${n.replace(Kr,"\n  ")}`}("\n"+n.message,f,l,d),n[ii]=f,n[dr]=null,n}(C,i,"R3InjectorError",this.source)}throw C}finally{Er(v),rr(f)}}resolveInjectorInitializers(){const i=rr(this),l=Er(void 0);try{const d=this.get(Dp.multi,ht,dn.Self);for(const f of d)f()}finally{rr(i),Er(l)}}toString(){const i=[],l=this.records;for(const d of l.keys())i.push(ye(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(i){let l=cc(i=Se(i))?i:Se(i&&i.provide);const d=function Hu(n){return lu(n)?Uc(void 0,n.useValue):Uc(Ay(n),mh)}(i);if(cc(i)||!0!==i.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Uc(void 0,mh,!0),f.factory=()=>Vn(f.multi),this.records.set(l,f)),l=i,f.multi.push(i)}this.records.set(l,d)}hydrate(i,l){return l.value===mh&&(l.value=dm,l.value=l.factory()),"object"==typeof l.value&&l.value&&function K_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(i){if(!i.providedIn)return!1;const l=Se(i.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Hl(n){const i=Jt(n),l=null!==i?i.factory:si(n);if(null!==l)return l;if(n instanceof ci)throw new Pe(204,!1);if(n instanceof Function)return function Ad(n){const i=n.length;if(i>0)throw x(i,"?"),new Pe(204,!1);const l=function hn(n){return n&&(n[In]||n[Or])||null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new Pe(204,!1)}function Ay(n,i,l){let d;if(cc(n)){const f=Se(n);return si(f)||Hl(f)}if(lu(n))d=()=>Se(n.useValue);else if(function Bc(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Vn(n.deps||[]));else if(function Lc(n){return!(!n||!n.useExisting)}(n))d=()=>Jn(Se(n.useExisting));else{const f=Se(n&&(n.useClass||n.provide));if(!function My(n){return!!n.deps}(n))return si(f)||Hl(f);d=()=>new f(...Vn(n.deps))}return d}function Uc(n,i,l=!1){return{factory:n,value:i,multi:l?[]:void 0}}function cu(n,i){for(const l of n)Array.isArray(l)?cu(l,i):l&&$e(l)?cu(l.\u0275providers,i):i(l)}class Md{}class uu{}class xy{resolveComponentFactory(i){throw function Ry(n){const i=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Rd=(()=>{class n{}return n.NULL=new xy,n})();function xd(){return ba(vs(),Vt())}function ba(n,i){return new uc(ss(n,i))}let uc=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=xd,n})();function hm(n){return n instanceof uc?n.nativeElement:n}class Op{}let Eh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bf(){const n=Vt(),l=T(vs().index,n);return(Xr(l)?l:n)[tt]}(),n})(),Pd=(()=>{class n{}return n.\u0275prov=St({token:n,providedIn:"root",factory:()=>null}),n})();class Cf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const bl=new Cf("15.2.8"),Df={},Od="ngOriginalError";function zu(n){return n[Od]}class qo{constructor(){this._console=console}handleError(i){const l=this._findOriginalError(i);this._console.error("ERROR",i),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(i){let l=i&&zu(i);for(;l&&zu(l);)l=zu(l);return l||null}}function dc(n){return n instanceof Function?n():n}function Oy(n,i,l){let d=n.length;for(;;){const f=n.indexOf(i,l);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=i.length;if(f+v===d||n.charCodeAt(f+v)<=32)return f}l=f+1}}const Ny="ng-template";function Y_(n,i,l){let d=0,f=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&f){const C=n[d++];if(l&&"class"===v&&-1!==Oy(C.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function mm(n){return 4===n.type&&n.value!==Ny}function Lp(n,i,l){return i===(4!==n.type||l?n.value:Ny)}function ky(n,i,l){let d=4;const f=n.attrs||[],v=function zl(n){for(let i=0;i<n.length;i++)if(Rn(n[i]))return i;return n.length}(f);let C=!1;for(let O=0;O<i.length;O++){const $=i[O];if("number"!=typeof $){if(!C)if(4&d){if(d=2|1&d,""!==$&&!Lp(n,$,l)||""===$&&1===i.length){if(hc(d))return!1;C=!0}}else{const X=8&d?$:i[++O];if(8&d&&null!==n.attrs){if(!Y_(n.attrs,X,l)){if(hc(d))return!1;C=!0}continue}const ke=Bp(8&d?"class":$,f,mm(n),l);if(-1===ke){if(hc(d))return!1;C=!0;continue}if(""!==X){let pt;pt=ke>v?"":f[ke+1].toLowerCase();const Pt=8&d?pt:null;if(Pt&&-1!==Oy(Pt,X,0)||2&d&&X!==pt){if(hc(d))return!1;C=!0}}}}else{if(!C&&!hc(d)&&!hc($))return!1;if(C&&hc($))continue;C=!1,d=$|1&d}}return hc(d)||C}function hc(n){return 0==(1&n)}function Bp(n,i,l,d){if(null===i)return-1;let f=0;if(d||!l){let v=!1;for(;f<i.length;){const C=i[f];if(C===n)return f;if(3===C||6===C)v=!0;else{if(1===C||2===C){let O=i[++f];for(;"string"==typeof O;)O=i[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=v?1:2}return-1}return function Gl(n,i){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const d=n[l];if("number"==typeof d)return-1;if(d===i)return l;l++}return-1}(i,n)}function ym(n,i,l=!1){for(let d=0;d<i.length;d++)if(ky(n,i[d],l))return!0;return!1}function Ly(n,i){e:for(let l=0;l<i.length;l++){const d=i[l];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function Tf(n,i){return n?":not("+i.trim()+")":i}function $p(n){let i=n[0],l=1,d=2,f="",v=!1;for(;l<n.length;){let C=n[l];if("string"==typeof C)if(2&d){const O=n[++l];f+="["+C+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?f+="."+C:4&d&&(f+=" "+C);else""!==f&&!hc(C)&&(i+=Tf(v,f),f=""),d=C,v=v||!hc(d);l++}return""!==f&&(i+=Tf(v,f)),i}const Jr={};function Sf(n){wo(Zn(),Vt(),fi()+n,!1)}function wo(n,i,l,d){if(!d)if(3==(3&i[cr])){const v=n.preOrderCheckHooks;null!==v&&Ic(i,v,l)}else{const v=n.preOrderHooks;null!==v&&Ji(i,v,0,l)}go(l)}function jp(n,i=null,l=null,d){const f=Af(n,i,l,d);return f.resolveInjectorInitializers(),f}function Af(n,i=null,l=null,d,f=new Set){const v=[l||ht,Tp(n)];return d=d||("object"==typeof n?void 0:ye(n)),new vh(v,i||_h(),d||null,f)}let Wl=(()=>{class n{static create(l,d){if(Array.isArray(l))return jp({name:""},d,l,"");{var f;const v=null!==(f=l.name)&&void 0!==f?f:"";return jp({name:v},l.parent,l.providers,v)}}}return n.THROW_IF_NOT_FOUND=xr,n.NULL=new ac,n.\u0275prov=St({token:n,providedIn:"any",factory:()=>Jn(cm)}),n.__NG_ELEMENT_ID__=-1,n})();function Wu(n,i=dn.Default){const l=Vt();return null===l?Jn(n,i):Cu(vs(),l,Se(n),i)}function Zp(){throw new Error("invalid")}function Wy(n,i){const l=n.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const v=l[d+1];if(-1!==v){const C=n.data[v];Gs(l[d]),C.contentQueries(2,i[v],v)}}}function Ah(n,i,l,d,f,v,C,O,$,X,pe){const ke=i.blueprint.slice();return ke[Oi]=f,ke[cr]=76|d,(null!==pe||n&&1024&n[cr])&&(ke[cr]|=1024),Kn(ke),ke[pr]=ke[Rt]=n,ke[Nr]=l,ke[Ae]=C||n&&n[Ae],ke[tt]=O||n&&n[tt],ke[be]=$||n&&n[be]||null,ke[ue]=X||n&&n[ue]||null,ke[qr]=v,ke[Yn]=function Ac(){return mp++}(),ke[ir]=pe,ke[$t]=2==i.type?n[$t]:ke,ke}function Mh(n,i,l,d,f){let v=n.data[i];if(null===v)v=function bm(n,i,l,d,f){const v=ml(),C=yl(),$=n.data[i]=function ev(n,i,l,d,f,v){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?v:v&&v.parent,l,i,d,f);return null===n.firstChild&&(n.firstChild=$),null!==v&&(C?null==v.child&&null!==$.parent&&(v.child=$):null===v.next&&(v.next=$,$.prev=v)),$}(n,i,l,d,f),function sa(){return On.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=l,v.value=d,v.attrs=f;const C=function Ya(){const n=On.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===C?-1:C.injectorIndex}return Ts(v,!0),v}function bo(n,i,l,d){if(0===l)return-1;const f=i.length;for(let v=0;v<l;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return f}function Cm(n,i,l){zo(i);try{const d=n.viewQuery;null!==d&&Bf(1,d,l);const f=n.template;null!==f&&Of(n,i,f,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Wy(n,i),n.staticViewQueries&&Bf(2,n.viewQuery,l);const v=n.components;null!==v&&function Qp(n,i){for(let l=0;l<i.length;l++)Fm(n,i[l])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[cr]&=-5,ma()}}function Pf(n,i,l,d){const f=i[cr];if(128!=(128&f)){zo(i);try{Kn(i),function Ss(n){return On.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&Of(n,i,l,2,d);const C=3==(3&f);if(C){const X=n.preOrderCheckHooks;null!==X&&Ic(i,X,null)}else{const X=n.preOrderHooks;null!==X&&Ji(i,X,0,null),F(i,0)}if(function sv(n){for(let i=eu(n);null!==i;i=tu(i)){if(!i[Wt])continue;const l=i[er];for(let d=0;d<l.length;d++){const f=l[d];512&f[cr]||Cr(f[pr],1),f[cr]|=512}}}(i),function Om(n){for(let i=eu(n);null!==i;i=tu(i))for(let l=sr;l<i.length;l++){const d=i[l],f=d[An];Ee(d)&&Pf(f,d,f.template,d[Nr])}}(i),null!==n.contentQueries&&Wy(n,i),C){const X=n.contentCheckHooks;null!==X&&Ic(i,X)}else{const X=n.contentHooks;null!==X&&Ji(i,X,1),F(i,1)}!function wm(n,i){const l=n.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)go(~f);else{const v=f,C=l[++d],O=l[++d];Ml(C,v),O(2,i[v])}}}finally{go(-1)}}(n,i);const O=n.components;null!==O&&function Ky(n,i){for(let l=0;l<i.length;l++)Nm(n,i[l])}(i,O);const $=n.viewQuery;if(null!==$&&Bf(2,$,d),C){const X=n.viewCheckHooks;null!==X&&Ic(i,X)}else{const X=n.viewHooks;null!==X&&Ji(i,X,2),F(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[cr]&=-41,512&i[cr]&&(i[cr]&=-513,Cr(i[pr],-1))}finally{ma()}}}function Of(n,i,l,d,f){const v=fi(),C=2&d;try{go(-1),C&&i.length>Ze&&wo(n,i,Ze,!1),Hi(C?2:0,f),l(d,f)}finally{go(v),Hi(C?3:1,f)}}function Ud(n,i,l){if(rs(i)){const f=i.directiveEnd;for(let v=i.directiveStart;v<f;v++){const C=n.data[v];C.contentQueries&&C.contentQueries(1,l[v],v)}}}function Nf(n,i,l){Ot()&&(function Am(n,i,l,d){const f=l.directiveStart,v=l.directiveEnd;Hs(l)&&function Qy(n,i,l){const d=ss(i,n),f=qy(l),v=n[Ae],C=Xs(n,Ah(n,f,null,l.onPush?32:16,d,i,v,v.createRenderer(d,l),null,null,null));n[i.index]=C}(i,l,n.data[f+l.componentOffset]),n.firstCreatePass||Po(l,i),Ys(d,i);const C=l.initialInputs;for(let O=f;O<v;O++){const $=n.data[O],X=es(i,n,O,l);Ys(X,i),null!==C&&rv(0,O-f,X,$,0,C),jr($)&&(T(l.index,i)[Nr]=es(i,n,O,l))}}(n,i,l,ss(l,i)),64==(64&l.flags)&&Zy(n,i,l))}function Xp(n,i,l=ss){const d=i.localNames;if(null!==d){let f=i.index+1;for(let v=0;v<d.length;v+=2){const C=d[v+1],O=-1===C?l(i,n):n[C];n[f++]=O}}}function qy(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Dm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Dm(n,i,l,d,f,v,C,O,$,X){const pe=Ze+d,ke=pe+f,pt=function X_(n,i){const l=[];for(let d=0;d<i;d++)l.push(d<n?null:Jr);return l}(pe,ke),Pt="function"==typeof X?X():X;return pt[An]={type:n,blueprint:pt,template:l,queries:null,viewQuery:O,declTNode:i,data:pt.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:$,consts:Pt,incompleteFirstPass:!1}}function ll(n,i,l,d){const f=ig(i);null===l?f.push(d):(f.push(l),n.firstCreatePass&&zd(n).push(d,f.length-1))}function Jp(n,i,l,d){for(let f in n)if(n.hasOwnProperty(f)){l=null===l?{}:l;const v=n[f];null===d?Vd(l,i,f,v):d.hasOwnProperty(f)&&Vd(l,i,d[f],v)}return l}function Vd(n,i,l,d){n.hasOwnProperty(l)?n[l].push(i,d):n[l]=[i,d]}function Ka(n,i,l,d,f,v,C,O){const $=ss(i,l);let pe,X=i.inputs;!O&&null!=X&&(pe=X[d])?(gu(n,l,pe,d,f),Hs(i)&&function eg(n,i){const l=T(i,n);16&l[cr]||(l[cr]|=32)}(l,i.index)):3&i.type&&(d=function jd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=C?C(f,i.value||"",d):f,v.setProperty($,d,f))}function Ff(n,i,l,d){if(Ot()){const f=null===d?null:{"":-1},v=function tv(n,i){const l=n.directiveRegistry;let d=null,f=null;if(l)for(let C=0;C<l.length;C++){const O=l[C];if(ym(i,O.selectors,!1))if(d||(d=[]),jr(O))if(null!==O.findHostDirectiveDefs){const $=[];f=f||new Map,O.findHostDirectiveDefs(O,$,f),d.unshift(...$,O),Lf(n,i,$.length)}else d.unshift(O),Lf(n,i,0);else{var v;f=f||new Map,null===(v=O.findHostDirectiveDefs)||void 0===v||v.call(O,O,d,f),d.push(O)}}return null===d?null:[d,f]}(n,l);let C,O;null===v?C=O=null:[C,O]=v,null!==C&&tg(n,i,l,C,f,O),f&&function nv(n,i,l){if(i){const d=n.localNames=[];for(let f=0;f<i.length;f+=2){const v=l[i[f+1]];if(null==v)throw new Pe(-301,!1);d.push(i[f],v)}}}(l,d,f)}l.mergedAttrs=gn(l.mergedAttrs,l.attrs)}function tg(n,i,l,d,f,v){for(let ke=0;ke<d.length;ke++)Ti(Po(l,i),n,d[ke].type);!function ng(n,i,l){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+l,n.providerIndexes=i}(l,n.data.length,d.length);for(let ke=0;ke<d.length;ke++){const pt=d[ke];pt.providersResolver&&pt.providersResolver(pt)}let C=!1,O=!1,$=bo(n,i,d.length,null);for(let ke=0;ke<d.length;ke++){const pt=d[ke];l.mergedAttrs=gn(l.mergedAttrs,pt.hostAttrs),xm(n,l,i,$,pt),Rm($,pt,f),null!==pt.contentQueries&&(l.flags|=4),(null!==pt.hostBindings||null!==pt.hostAttrs||0!==pt.hostVars)&&(l.flags|=64);const Pt=pt.type.prototype;var X,pe;!C&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((null!==(X=n.preOrderHooks)&&void 0!==X?X:n.preOrderHooks=[]).push(l.index),C=!0),O||!Pt.ngOnChanges&&!Pt.ngDoCheck||((null!==(pe=n.preOrderCheckHooks)&&void 0!==pe?pe:n.preOrderCheckHooks=[]).push(l.index),O=!0),$++}!function Tm(n,i,l){const f=i.directiveEnd,v=n.data,C=i.attrs,O=[];let $=null,X=null;for(let pe=i.directiveStart;pe<f;pe++){const ke=v[pe],pt=l?l.get(ke):null,rn=pt?pt.outputs:null;$=Jp(ke.inputs,pe,$,pt?pt.inputs:null),X=Jp(ke.outputs,pe,X,rn);const Tn=null===$||null===C||mm(i)?null:iv($,pe,C);O.push(Tn)}null!==$&&($.hasOwnProperty("class")&&(i.flags|=8),$.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=O,i.inputs=$,i.outputs=X}(n,l,v)}function Zy(n,i,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,C=function Za(){return On.lFrame.currentDirectiveIndex}();try{go(v);for(let O=d;O<f;O++){const $=n.data[O],X=i[O];Qa(O),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&Mm($,X)}}finally{go(-1),Qa(C)}}function Mm(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Lf(n,i,l){var d;i.componentOffset=l,(null!==(d=n.components)&&void 0!==d?d:n.components=[]).push(i.index)}function Rm(n,i,l){if(l){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)l[i.exportAs[d]]=n;jr(i)&&(l[""]=n)}}function xm(n,i,l,d,f){n.data[d]=f;const v=f.factory||(f.factory=si(f.type)),C=new Ne(v,jr(f),Wu);n.blueprint[d]=C,l[d]=C,function Sm(n,i,l,d,f){const v=f.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const O=~i.index;(function Hd(n){let i=n.length;for(;i>0;){const l=n[--i];if("number"==typeof l&&l<0)return l}return 0})(C)!=O&&C.push(O),C.push(l,d,v)}}(n,i,d,bo(n,l,f.hostVars,Jr),f)}function cl(n,i,l,d,f,v){const C=ss(n,i);!function rg(n,i,l,d,f,v,C){if(null==v)n.removeAttribute(i,f,l);else{const O=null==C?ce(v):C(v,d||"",f);n.setAttribute(i,f,O,l)}}(i[tt],C,v,n.value,l,d,f)}function rv(n,i,l,d,f,v){const C=v[i];if(null!==C){const O=d.setInput;for(let $=0;$<C.length;){const X=C[$++],pe=C[$++],ke=C[$++];null!==O?d.setInput(l,ke,X,pe):l[pe]=ke}}}function iv(n,i,l){let d=null,f=0;for(;f<l.length;){const v=l[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const C=n[v];for(let O=0;O<C.length;O+=2)if(C[O]===i){d.push(v,C[O+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Pm(n,i,l,d){return[n,!0,!1,i,null,0,d,l,null,null]}function Nm(n,i){const l=T(i,n);if(Ee(l)){const d=l[An];48&l[cr]?Pf(d,l,d.template,l[Nr]):l[ti]>0&&km(l)}}function km(n){for(let d=eu(n);null!==d;d=tu(d))for(let f=sr;f<d.length;f++){const v=d[f];if(Ee(v))if(512&v[cr]){const C=v[An];Pf(C,v,C.template,v[Nr])}else v[ti]>0&&km(v)}const l=n[An].components;if(null!==l)for(let d=0;d<l.length;d++){const f=T(l[d],n);Ee(f)&&f[ti]>0&&km(f)}}function Fm(n,i){const l=T(i,n),d=l[An];(function Ku(n,i){for(let l=i.length;l<n.blueprint.length;l++)i.push(n.blueprint[l])})(d,l),Cm(d,l,l[Nr])}function Xs(n,i){return n[it]?n[ot][hi]=i:n[it]=i,n[ot]=i,i}function Ca(n){for(;n;){n[cr]|=32;const i=wl(n);if(Do(n)&&!i)return n;n=i}return null}function Vc(n,i,l,d=!0){const f=i[Ae];f.begin&&f.begin();try{Pf(n,i,n.template,l)}catch(C){throw d&&$f(i,C),C}finally{f.end&&f.end()}}function Bf(n,i,l){Gs(0),i(n,l)}function ig(n){return n[gi]||(n[gi]=[])}function zd(n){return n.cleanup||(n.cleanup=[])}function $f(n,i){const l=n[ue],d=l?l.get(qo,null):null;d&&d.handleError(i)}function gu(n,i,l,d,f){for(let v=0;v<l.length;){const C=l[v++],O=l[v++],$=i[C],X=n.data[C];null!==X.setInput?X.setInput($,f,d,O):$[O]=f}}function Rh(n,i,l){let d=l?n.styles:null,f=l?n.classes:null,v=0;if(null!==i)for(let C=0;C<i.length;C++){const O=i[C];"number"==typeof O?v=O:1==v?f=Fe(f,O):2==v&&(d=Fe(d,O+": "+i[++C]+";"))}l?n.styles=d:n.stylesWithoutHost=d,l?n.classes=f:n.classesWithoutHost=f}function Cl(n,i,l,d,f=!1){for(;null!==l;){const v=i[l.index];if(null!==v&&d.push(Di(v)),mi(v))for(let O=sr;O<v.length;O++){const $=v[O],X=$[An].firstChild;null!==X&&Cl($[An],$,X,d)}const C=l.type;if(8&C)Cl(n,i,l.child,d);else if(32&C){const O=xu(l,i);let $;for(;$=O();)d.push($)}else if(16&C){const O=uf(i,l);if(Array.isArray(O))d.push(...O);else{const $=wl(i[$t]);Cl($[An],$,O,d,!0)}}l=f?l.projectionNext:l.next}return d}class Uf{get rootNodes(){const i=this._lView,l=i[An];return Cl(l,i,l.firstChild,[])}constructor(i,l){this._lView=i,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(i){this._lView[Nr]=i}get destroyed(){return 128==(128&this._lView[cr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[pr];if(mi(i)){const l=i[Ln],d=l?l.indexOf(this):-1;d>-1&&(ve(i,d),w(l,d))}this._attachedToViewContainer=!1}It(this._lView[An],this._lView)}onDestroy(i){ll(this._lView[An],this._lView,null,i)}markForCheck(){Ca(this._cdRefInjectingView||this._lView)}detach(){this._lView[cr]&=-65}reattach(){this._lView[cr]|=64}detectChanges(){Vc(this._lView[An],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M(n,i){Id(n,i,i[tt],2,null,null)}(this._lView[An],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=i}}class Jy extends Uf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Vc(i[An],i,i[Nr],!1)}checkNoChanges(){}get context(){return null}}class sg extends Rd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const l=Xn(i);return new xh(l,this.ngModule)}}function og(n){const i=[];for(let l in n)n.hasOwnProperty(l)&&i.push({propName:n[l],templateName:l});return i}class lg{constructor(i,l){this.injector=i,this.parentInjector=l}get(i,l,d){d=En(d);const f=this.injector.get(i,Df,d);return f!==Df||l===Df?f:this.parentInjector.get(i,l,d)}}class xh extends uu{get inputs(){return og(this.componentDef.inputs)}get outputs(){return og(this.componentDef.outputs)}constructor(i,l){super(),this.componentDef=i,this.ngModule=l,this.componentType=i.type,this.selector=function By(n){return n.map($p).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!l}create(i,l,d,f){var v;let C=(f=f||this.ngModule)instanceof $c?f:null===(v=f)||void 0===v?void 0:v.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const O=C?new lg(i,C):i,$=O.get(Op,null);if(null===$)throw new Pe(407,!1);const X=O.get(Pd,null),pe=$.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",pt=d?function J_(n,i,l){return n.selectRootElement(i,l===ge.ShadowDom)}(pe,d,this.componentDef.encapsulation):wa(pe,ke,function ag(n){const i=n.toLowerCase();return"svg"===i?Ui:"math"===i?"math":null}(ke)),Pt=this.componentDef.onPush?288:272,rn=Dm(0,null,null,1,0,null,null,null,null,null),Tn=Ah(null,rn,null,Pt,null,null,$,pe,X,O,null);let qn,wr;zo(Tn);try{const $r=this.componentDef;let _n,ri=null;$r.findHostDirectiveDefs?(_n=[],ri=new Map,$r.findHostDirectiveDefs($r,_n,ri),_n.push($r)):_n=[$r];const js=function Lm(n,i){const l=n[An],d=Ze;return n[d]=i,Mh(l,d,2,"#host",null)}(Tn,pt),Bo=function t_(n,i,l,d,f,v,C,O){const $=f[An];!function n_(n,i,l,d){for(const f of n)i.mergedAttrs=gn(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(Rh(i,i.mergedAttrs,!0),null!==l&&qg(d,l,i))}(d,n,i,C);const X=v.createRenderer(i,l),pe=Ah(f,qy(l),null,l.onPush?32:16,f[n.index],n,v,X,O||null,null,null);return $.firstCreatePass&&Lf($,n,d.length-1),Xs(f,pe),f[n.index]=pe}(js,pt,$r,_n,Tn,$,pe);wr=D(rn,Ze),pt&&function Bm(n,i,l,d){if(d)fn(n,l,["ng-version",bl.full]);else{const{attrs:f,classes:v}=function Ih(n){const i=[],l=[];let d=1,f=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===f?""!==v&&i.push(v,n[++d]):8===f&&l.push(v);else{if(!hc(f))break;f=v}d++}return{attrs:i,classes:l}}(i.selectors[0]);f&&fn(n,l,f),v&&v.length>0&&Cd(n,l,v.join(" "))}}(pe,$r,pt,d),void 0!==l&&function r_(n,i,l){const d=n.projection=[];for(let f=0;f<i.length;f++){const v=l[f];d.push(null!=v?Array.from(v):null)}}(wr,this.ngContentSelectors,l),qn=function lv(n,i,l,d,f,v){const C=vs(),O=f[An],$=ss(C,f);tg(O,f,C,l,null,d);for(let pe=0;pe<l.length;pe++)Ys(es(f,O,C.directiveStart+pe,C),f);Zy(O,f,C),$&&Ys($,f);const X=es(f,O,C.directiveStart+C.componentOffset,C);if(n[Nr]=f[Nr]=X,null!==v)for(const pe of v)pe(X,i);return Ud(O,C,n),X}(Bo,$r,_n,ri,Tn,[i_]),Cm(rn,Tn,null)}finally{ma()}return new av(this.componentType,qn,ba(wr,Tn),Tn,wr)}}class av extends Md{constructor(i,l,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.instance=l,this.hostView=this.changeDetectorRef=new Jy(f),this.componentType=i}setInput(i,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){const v=this._rootLView;gu(v[An],v,f,i,l),Ca(T(this._tNode.index,v))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function i_(){const n=vs();ka(Vt()[An],n)}function Um(n){let i=function $m(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const d=[n];for(;i;){let f;if(jr(n))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Pe(903,!1);f=i.\u0275dir}if(f){if(l){d.push(f);const C=n;C.inputs=ls(n.inputs),C.declaredInputs=ls(n.declaredInputs),C.outputs=ls(n.outputs);const O=f.hostBindings;O&&Vm(n,O);const $=f.viewQuery,X=f.contentQueries;if($&&Lv(n,$),X&&cg(n,X),De(n.inputs,f.inputs),De(n.declaredInputs,f.declaredInputs),De(n.outputs,f.outputs),jr(f)&&f.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let C=0;C<v.length;C++){const O=v[C];O&&O.ngInherit&&O(n),O===Um&&(l=!1)}}i=Object.getPrototypeOf(i)}!function cv(n){let i=0,l=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=i+=f.hostVars,f.hostAttrs=gn(f.hostAttrs,l=gn(l,f.hostAttrs))}}(d)}function ls(n){return n===de?{}:n===ht?[]:n}function Lv(n,i){const l=n.viewQuery;n.viewQuery=l?(d,f)=>{i(d,f),l(d,f)}:i}function cg(n,i){const l=n.contentQueries;n.contentQueries=l?(d,f,v)=>{i(d,f,v),l(d,f,v)}:i}function Vm(n,i){const l=n.hostBindings;n.hostBindings=l?(d,f)=>{i(d,f),l(d,f)}:i}function dg(n){return!!Vf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Vf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zo(n,i,l){return!Object.is(n[i],l)&&(n[i]=l,!0)}function Km(n,i,l,d){const f=Vt();return Zo(f,fo(),i)&&(Zn(),cl(Yr(),f,n,i,l,d)),Km}function hl(n,i,l,d,f,v,C,O){const $=Vt(),X=Zn(),pe=n+Ze,ke=X.firstCreatePass?function zf(n,i,l,d,f,v,C,O,$){const X=i.consts,pe=Mh(i,n,4,C||null,Bn(X,O));Ff(i,l,pe,Bn(X,$)),ka(i,pe);const ke=pe.tView=Dm(2,pe,d,f,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,X);return null!==i.queries&&(i.queries.template(i,pe),ke.queries=i.queries.embeddedTView(pe)),pe}(pe,X,$,i,l,d,f,v,C):X.data[pe];Ts(ke,!1);const pt=$[tt].createComment("");Ed(X,$,pt,ke),Ys(pt,$),Xs($,$[pe]=Pm(pt,$,pt,ke)),Ls(ke)&&Nf(X,$,ke),null!=C&&Xp($,ke,O)}function Fh(n){return function Z(n,i){return n[i]}(function Al(){return On.lFrame.contextLView}(),Ze+n)}function Lh(n,i,l){const d=Vt();return Zo(d,fo(),i)&&Ka(Zn(),Yr(),d,n,i,d[tt],l,!1),Lh}function _g(n,i,l,d,f){const C=f?"class":"style";gu(n,l,i.inputs[C],C,d)}function Gf(n,i,l,d){const f=Vt(),v=Zn(),C=Ze+n,O=f[tt],$=v.firstCreatePass?function Bh(n,i,l,d,f,v){const C=i.consts,$=Mh(i,n,2,d,Bn(C,f));return Ff(i,l,$,Bn(C,v)),null!==$.attrs&&Rh($,$.attrs,!1),null!==$.mergedAttrs&&Rh($,$.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,$),$}(C,v,f,i,l,d):v.data[C],X=f[C]=wa(O,i,function so(){return On.lFrame.currentNamespace}()),pe=Ls($);return Ts($,!0),qg(O,X,$),32!=(32&$.flags)&&Ed(v,f,X,$),0===function V(){return On.lFrame.elementDepthCount}()&&Ys(X,f),function k(){On.lFrame.elementDepthCount++}(),pe&&(Nf(v,f,$),Ud(v,$,f)),null!==d&&Xp(f,$),Gf}function Wf(){let n=vs();yl()?Ma():(n=n.parent,Ts(n,!1));const i=n;!function le(){On.lFrame.elementDepthCount--}();const l=Zn();return l.firstCreatePass&&(ka(l,n),rs(n)&&l.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Gt(n){return 0!=(8&n.flags)}(i)&&_g(l,i,Vt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function tr(n){return 0!=(16&n.flags)}(i)&&_g(l,i,Vt(),i.stylesWithoutHost,!1),Wf}function fl(n,i,l,d){return Gf(n,i,l,d),Wf(),fl}function Wd(n,i,l){const d=Vt(),f=Zn(),v=n+Ze,C=f.firstCreatePass?function Ym(n,i,l,d,f){const v=i.consts,C=Bn(v,d),O=Mh(i,n,8,"ng-container",C);return null!==C&&Rh(O,C,!0),Ff(i,l,O,Bn(v,f)),null!==i.queries&&i.queries.elementStart(i,O),O}(v,f,d,i,l):f.data[v];Ts(C,!0);const O=d[v]=d[tt].createComment("");return Ed(f,d,O,C),Ys(O,d),Ls(C)&&(Nf(f,d,C),Ud(f,C,d)),null!=l&&Xp(d,C),Wd}function Zm(){let n=vs();const i=Zn();return yl()?Ma():(n=n.parent,Ts(n,!1)),i.firstCreatePass&&(ka(i,n),rs(n)&&i.queries.elementEnd(n)),Zm}function Qm(n,i,l){return Wd(n,i,l),Zm(),Qm}function Xm(){return Vt()}function vg(n){return!!n&&"function"==typeof n.then}function Eg(n){return!!n&&"function"==typeof n.subscribe}const Kf=Eg;function Kd(n,i,l,d){const f=Vt(),v=Zn(),C=vs();return function wg(n,i,l,d,f,v,C){const O=Ls(d),X=n.firstCreatePass&&zd(n),pe=i[Nr],ke=ig(i);let pt=!0;if(3&d.type||C){const Tn=ss(d,i),qn=C?C(Tn):Tn,wr=ke.length,$r=C?ri=>C(Di(ri[d.index])):d.index;let _n=null;if(!C&&O&&(_n=function Jm(n,i,l,d){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const C=f[v];if(C===l&&f[v+1]===d){const O=i[gi],$=f[v+2];return O.length>$?O[$]:null}"string"==typeof C&&(v+=2)}return null}(n,i,f,d.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=v,_n.__ngLastListenerFn__=v,pt=!1;else{v=Xu(d,i,pe,v,!1);const ri=l.listen(qn,f,v);ke.push(v,ri),X&&X.push(f,$r,wr,wr+1)}}else v=Xu(d,i,pe,v,!1);const Pt=d.outputs;let rn;if(pt&&null!==Pt&&(rn=Pt[f])){const Tn=rn.length;if(Tn)for(let qn=0;qn<Tn;qn+=2){const js=i[rn[qn]][rn[qn+1]].subscribe(v),Bo=ke.length;ke.push(v,js),X&&X.push(f,d.index,Bo,-(Bo+1))}}}(v,f,f[tt],C,n,i,d),Kd}function $h(n,i,l,d){try{return Hi(6,i,l),!1!==l(d)}catch(f){return $f(n,f),!1}finally{Hi(7,i,l)}}function Xu(n,i,l,d,f){return function v(C){if(C===Function)return d;Ca(n.componentOffset>-1?T(n.index,i):i);let $=$h(i,l,d,C),X=v.__ngNextListenerFn__;for(;X;)$=$h(i,l,X,C)&&$,X=X.__ngNextListenerFn__;return f&&!1===$&&(C.preventDefault(),C.returnValue=!1),$}}function qd(n=1){return function xl(n){return(On.lFrame.contextLView=function io(n,i){for(;n>0;)i=i[Rt],n--;return i}(n,On.lFrame.contextLView))[Nr]}(n)}function qf(n,i){let l=null;const d=function Fy(n){const i=n.attrs;if(null!=i){const l=i.indexOf(5);if(!(1&l))return i[l+1]}return null}(n);for(let f=0;f<i.length;f++){const v=i[f];if("*"!==v){if(null===d?ym(n,v,!0):Ly(d,v))return f}else l=f}return l}function Uh(n){const i=Vt()[$t][qr];if(!i.projection){const d=i.projection=x(n?n.length:1,null),f=d.slice();let v=i.child;for(;null!==v;){const C=n?qf(v,n):0;null!==C&&(f[C]?f[C].projectionNext=v:d[C]=v,f[C]=v),v=v.next}}}function Yf(n,i=0,l){const d=Vt(),f=Zn(),v=Mh(f,Ze+n,16,null,l||null);null===v.projection&&(v.projection=i),Ma(),32!=(32&v.flags)&&function wd(n,i,l){Fu(i[tt],0,i,l,Sn(n,l,i),Nu(l.parent||i[qr],l,i))}(f,d,v)}function Zf(n,i){return n<<17|i<<2}function da(n){return n>>17&32767}function Tg(n){return 2|n}function gc(n){return(131068&n)>>2}function Xf(n,i){return-131069&n|i<<2}function Zd(n){return 1|n}function zh(n,i,l,d,f){const v=n[l+1],C=null===i;let O=d?da(v):gc(v),$=!1;for(;0!==O&&(!1===$||C);){const pe=n[O+1];pl(n[O],i)&&($=!0,n[O+1]=d?Zd(pe):Tg(pe)),O=d?da(pe):gc(pe)}$&&(n[l+1]=d?Tg(v):Zd(v))}function pl(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&mn(n,i)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lo(n){return n.substring(ei.key,ei.keyEnd)}function d_(n,i){const l=ei.textEnd;return l===i?-1:(i=ei.keyEnd=function ry(n,i,l){for(;i<l&&n.charCodeAt(i)>32;)i++;return i}(n,ei.key=i,l),yu(n,i,l))}function yu(n,i,l){for(;i<l&&n.charCodeAt(i)<=32;)i++;return i}function Rs(n,i,l){return mc(n,i,l,!1),Rs}function Mg(n,i){return mc(n,i,null,!0),Mg}function iy(n){!function yc(n,i,l,d){const f=Zn(),v=Ro(2);f.firstUpdatePass&&_v(f,null,v,d);const C=Vt();if(l!==Jr&&Zo(C,v,l)){const O=f.data[fi()];if(tp(O,d)&&!g_(f,v)){let $=d?O.classesWithoutHost:O.stylesWithoutHost;null!==$&&(l=Fe($,l||"")),_g(f,O,C,l,d)}else!function Gh(n,i,l,d,f,v,C,O){f===Jr&&(f=ht);let $=0,X=0,pe=0<f.length?f[0]:null,ke=0<v.length?v[0]:null;for(;null!==pe||null!==ke;){const pt=$<f.length?f[$+1]:void 0,Pt=X<v.length?v[X+1]:void 0;let Tn,rn=null;pe===ke?($+=2,X+=2,pt!==Pt&&(rn=ke,Tn=Pt)):null===ke||null!==pe&&pe<ke?($+=2,rn=pe):(X+=2,rn=ke,Tn=Pt),null!==rn&&m_(n,i,l,d,rn,Tn,C,O),pe=$<f.length?f[$]:null,ke=X<v.length?v[X]:null}}(f,O,C,C[tt],C[v+1],C[v+1]=function _u(n,i,l){if(null==l||""===l)return ht;const d=[],f=jl(l);if(Array.isArray(f))for(let v=0;v<f.length;v++)n(d,f[v],!0);else if("object"==typeof f)for(const v in f)f.hasOwnProperty(v)&&n(d,v,f[v]);else"string"==typeof f&&i(d,f);return d}(n,i,l),d,v)}}(Xd,Hc,n,!0)}function Hc(n,i){for(let l=function u_(n){return function ny(n){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=n.length}(n),d_(n,yu(n,0,ei.textEnd))}(i);l>=0;l=d_(i,l))Nt(n,lo(i),!0)}function mc(n,i,l,d){const f=Vt(),v=Zn(),C=Ro(2);v.firstUpdatePass&&_v(v,n,C,d),i!==Jr&&Zo(f,C,i)&&m_(v,v.data[fi()],f,f[tt],n,f[C+1]=function ep(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ye(jl(n)))),n}(i,l),d,C)}function g_(n,i){return i>=n.expandoStartIndex}function _v(n,i,l,d){const f=n.data;if(null===f[l+1]){const v=f[fi()],C=g_(n,l);tp(v,d)&&null===i&&!C&&(i=!1),i=function Qd(n,i,l,d){const f=function Es(n){const i=On.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(l=gl(l=oy(null,n,i,l,d),i.attrs,d),v=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==f)if(l=oy(f,n,i,l,d),null===v){let $=function sy(n,i,l){const d=l?i.classBindings:i.styleBindings;if(0!==gc(d))return n[da(d)]}(n,i,d);void 0!==$&&Array.isArray($)&&($=oy(null,n,i,$[1],d),$=gl($,i.attrs,d),function Rg(n,i,l,d){n[da(l?i.classBindings:i.styleBindings)]=d}(n,i,d,$))}else v=function Ju(n,i,l){let d;const f=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<f;v++)d=gl(d,n[v].hostAttrs,l);return gl(d,i.attrs,l)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),l}(f,v,i,d),function l_(n,i,l,d,f,v){let C=v?i.classBindings:i.styleBindings,O=da(C),$=gc(C);n[d]=l;let pe,X=!1;if(Array.isArray(l)?(pe=l[1],(null===pe||mn(l,pe)>0)&&(X=!0)):pe=l,f)if(0!==$){const pt=da(n[O+1]);n[d+1]=Zf(pt,O),0!==pt&&(n[pt+1]=Xf(n[pt+1],d)),n[O+1]=function Qf(n,i){return 131071&n|i<<17}(n[O+1],d)}else n[d+1]=Zf(O,0),0!==O&&(n[O+1]=Xf(n[O+1],d)),O=d;else n[d+1]=Zf($,0),0===O?O=d:n[$+1]=Xf(n[$+1],d),$=d;X&&(n[d+1]=Tg(n[d+1])),zh(n,pe,d,!0),zh(n,pe,d,!1),function c_(n,i,l,d,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&mn(v,i)>=0&&(l[d+1]=Zd(l[d+1]))}(i,pe,n,d,v),C=Zf(O,$),v?i.classBindings=C:i.styleBindings=C}(f,v,i,l,C,d)}}function oy(n,i,l,d,f){let v=null;const C=l.directiveEnd;let O=l.directiveStylingLast;for(-1===O?O=l.directiveStart:O++;O<C&&(v=i[O],d=gl(d,v.hostAttrs,f),v!==n);)O++;return null!==n&&(l.directiveStylingLast=O),d}function gl(n,i,l){const d=l?1:2;let f=-1;if(null!==i)for(let v=0;v<i.length;v++){const C=i[v];"number"==typeof C?f=C:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nt(n,C,!!l||i[++v]))}return void 0===n?null:n}function Xd(n,i,l){const d=String(i);""!==d&&!d.includes(" ")&&Nt(n,d,l)}function m_(n,i,l,d,f,v,C,O){if(!(3&i.type))return;const $=n.data,X=$[O+1],pe=function Hh(n){return 1==(1&n)}(X)?Jf($,i,l,f,gc(X),C):void 0;Jd(pe)||(Jd(v)||function Yd(n){return 2==(2&n)}(X)&&(v=Jf($,null,l,f,O,C)),function bd(n,i,l,d,f){if(i)f?n.addClass(l,d):n.removeClass(l,d);else{let v=-1===d.indexOf("-")?void 0:Ia.DashCase;null==f?n.removeStyle(l,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Ia.Important),n.setStyle(l,d,f,v))}}(d,C,_s(fi(),l),f,v))}function Jf(n,i,l,d,f,v){const C=null===i;let O;for(;f>0;){const $=n[f],X=Array.isArray($),pe=X?$[1]:$,ke=null===pe;let pt=l[f+1];pt===Jr&&(pt=ke?ht:void 0);let Pt=ke?wn(pt,d):pe===d?pt:void 0;if(X&&!Jd(Pt)&&(Pt=wn($,d)),Jd(Pt)&&(O=Pt,C))return O;const rn=n[f+1];f=C?da(rn):gc(rn)}if(null!==i){let $=v?i.residualClasses:i.residualStyles;null!=$&&(O=wn($,d))}return O}function Jd(n){return void 0!==n}function tp(n,i){return 0!=(n.flags&(i?8:16))}function ay(n,i=""){const l=Vt(),d=Zn(),f=n+Ze,v=d.firstCreatePass?Mh(d,f,1,i,null):d.data[f],C=l[f]=function sl(n,i){return n.createText(i)}(l[tt],i);Ed(d,l,C,v),Ts(v,!1)}function vu(n){return Wh("",n,""),vu}function Wh(n,i,l){const d=Vt(),f=function dl(n,i,l,d){return Zo(n,fo(),l)?i+ce(l)+d:Jr}(d,n,i,l);return f!==Jr&&function qa(n,i,l){const d=_s(i,n);!function ic(n,i,l){n.setValue(i,l)}(n[tt],d,l)}(d,fi(),f),Wh}function wu(n,i,l){const d=Vt();return Zo(d,fo(),i)&&Ka(Zn(),Yr(),d,n,i,d[tt],l,!0),wu}const td=void 0;var A_=["en",[["a","p"],["AM","PM"],td],[["AM","PM"],td,td],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],td,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],td,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",td,"{1} 'at' {0}",td],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lp(n){const l=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let ha={};function Lg(n){const i=function $g(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=gy(i);if(l)return l;const d=i.split("-")[0];if(l=gy(d),l)return l;if("en"===d)return A_;throw new Pe(701,!1)}function Bg(n){return Lg(n)[Sr.PluralCase]}function gy(n){return n in ha||(ha[n]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[n]),ha[n]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const cp="en-US";let qh=cp;function Rv(n,i,l,d,f){if(n=Se(n),Array.isArray(n))for(let v=0;v<n.length;v++)Rv(n[v],i,l,d,f);else{const v=Zn(),C=Vt();let O=cc(n)?n:Se(n.provide),$=Ay(n);const X=vs(),pe=1048575&X.providerIndexes,ke=X.directiveStart,pt=X.providerIndexes>>20;if(cc(n)||!n.multi){const Pt=new Ne($,f,Wu),rn=L_(O,i,f?pe:pe+pt,ke);-1===rn?(Ti(Po(X,C),v,O),F_(v,n,i.length),i.push(O),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),l.push(Pt),C.push(Pt)):(l[rn]=Pt,C[rn]=Pt)}else{const Pt=L_(O,i,pe+pt,ke),rn=L_(O,i,pe,pe+pt),qn=rn>=0&&l[rn];if(f&&!qn||!f&&!(Pt>=0&&l[Pt])){Ti(Po(X,C),v,O);const wr=function c0(n,i,l,d,f){const v=new Ne(n,l,Wu);return v.multi=[],v.index=i,v.componentProviders=0,xv(v,f,d&&!l),v}(f?Vv:l0,l.length,f,d,$);!f&&qn&&(l[rn].providerFactory=wr),F_(v,n,i.length,0),i.push(O),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),l.push(wr),C.push(wr)}else F_(v,n,Pt>-1?Pt:rn,xv(l[f?rn:Pt],$,!f&&d));!f&&d&&qn&&l[rn].componentProviders++}}}function F_(n,i,l,d){const f=cc(i),v=function um(n){return!!n.useClass}(i);if(f||v){const $=(v?Se(i.useClass):i).prototype.ngOnDestroy;if($){const X=n.destroyHooks||(n.destroyHooks=[]);if(!f&&i.multi){const pe=X.indexOf(l);-1===pe?X.push(l,[d,$]):X[pe+1].push(d,$)}else X.push(l,$)}}}function xv(n,i,l){return l&&n.componentProviders++,n.multi.push(i)-1}function L_(n,i,l,d){for(let f=l;f<d;f++)if(i[f]===n)return f;return-1}function l0(n,i,l,d){return B_(this.multi,[])}function Vv(n,i,l,d){const f=this.multi;let v;if(this.providerFactory){const C=this.providerFactory.componentProviders,O=es(l,l[An],this.providerFactory.index,d);v=O.slice(0,C),B_(f,v);for(let $=C;$<O.length;$++)v.push(O[$])}else v=[],B_(f,v);return v}function B_(n,i){for(let l=0;l<n.length;l++)i.push((0,n[l])());return i}function jv(n,i=[]){return l=>{l.providersResolver=(d,f)=>function Mv(n,i,l){const d=Zn();if(d.firstCreatePass){const f=jr(n);Rv(l,d.data,d.blueprint,f,!0),Rv(i,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,i)}}class fp{}class Pv{}function u0(n,i){return new e(n,null!=i?i:null)}class e extends fp{constructor(i,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sg(this);const d=vr(i);this._bootstrapComponents=dc(d.bootstrap),this._r3Injector=Af(i,l,[{provide:fp,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],ye(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class t extends Pv{constructor(i){super(),this.moduleType=i}create(i){return new e(this.moduleType,i)}}class a extends fp{constructor(i,l,d){super(),this.componentFactoryResolver=new sg(this),this.instance=null;const f=new vh([...i,{provide:fp,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],l||_h(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function h(n,i,l=null){return new a(n,i,l).injector}let m=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Ef(0,l.type),f=d.length>0?h([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=St({token:n,providedIn:"environment",factory:()=>new n(Jn($c))}),n})();function b(n){n.getStandaloneInjector=i=>i.get(m).getOrCreateStandaloneInjector(n)}function d0(n){return i=>{setTimeout(n,void 0,i)}}const rf=class cI extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,l,d){let f=i,v=l||(()=>null),C=d;if(i&&"object"==typeof i){var O,$,X;const ke=i;f=null===(O=ke.next)||void 0===O?void 0:O.bind(ke),v=null===($=ke.error)||void 0===$?void 0:$.bind(ke),C=null===(X=ke.complete)||void 0===X?void 0:X.bind(ke)}this.__isAsync&&(v=d0(v),f&&(f=d0(f)),C&&(C=d0(C)));const pe=super.subscribe({next:f,error:v,complete:C});return i instanceof g.w0&&i.add(pe),pe}};function uI(){return this._results[Symbol.iterator]()}class Hv{get changes(){return this._changes||(this._changes=new rf)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Hv.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=uI)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,l){return this._results.reduce(i,l)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,l){const d=this;d.dirty=!1;const f=function ko(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function oo(n,i,l){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],v=i[d];if(l&&(f=l(f),v=l(v)),v!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kv=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();const dI=kv,hI=class extends dI{constructor(i,l,d){super(),this._declarationLView=i,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(i,l){const d=this._declarationTContainer.tView,f=Ah(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,l||null);f[zt]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[pn];return null!==C&&(f[pn]=C.createEmbeddedView(d)),Cm(d,f,i),new Uf(f)}};function fI(){return zv(vs(),Vt())}function zv(n,i){return 4&n.type?new hI(i,n,ba(n,i)):null}let Gv=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(){return H0(vs(),Vt())}const gI=Gv,V0=class extends gI{constructor(i,l,d){super(),this._lContainer=i,this._hostTNode=l,this._hostLView=d}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Fa(this._hostTNode,this._hostLView);if(tn(i)){const l=el(i,this._hostLView),d=wi(i);return new aa(l[An].data[d+8],l)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const l=j0(this._lContainer);return null!==l&&l[i]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(i,l,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const C=i.createEmbeddedView(l||{},v);return this.insert(C,f),C}createComponent(i,l,d,f,v){const C=i&&!function $a(n){return"function"==typeof n}(i);let O;if(C)O=l;else{const ke=l||{};O=ke.index,d=ke.injector,f=ke.projectableNodes,v=ke.environmentInjector||ke.ngModuleRef}const $=C?i:new xh(Xn(i)),X=d||this.parentInjector;if(!v&&null==$.ngModule){const pt=(C?X:this.parentInjector).get($c,null);pt&&(v=pt)}const pe=$.create(X,f,void 0,v);return this.insert(pe.hostView,O),pe}insert(i,l){const d=i._lView,f=d[An];if(function Xt(n){return mi(n[pr])}(d)){const pe=this.indexOf(i);if(-1!==pe)this.detach(pe);else{const ke=d[pr],pt=new V0(ke,ke[qr],ke[pr]);pt.detach(pt.indexOf(i))}}const v=this._adjustIndex(l),C=this._lContainer;!function I(n,i,l,d){const f=sr+d,v=l.length;d>0&&(l[f-1][hi]=i),d<v-sr?(i[hi]=l[f],R(l,sr+d,i)):(l.push(i),i[hi]=null),i[pr]=l;const C=i[zt];null!==C&&l!==C&&function P(n,i){const l=n[er];i[$t]!==i[pr][pr][$t]&&(n[Wt]=!0),null===l?n[er]=[i]:l.push(i)}(C,i);const O=i[pn];null!==O&&O.insertView(n),i[cr]|=64}(f,d,C,v);const O=lh(v,C),$=d[tt],X=nu($,C[on]);return null!==X&&function Ou(n,i,l,d,f,v){d[Oi]=f,d[qr]=i,Id(n,d,l,1,f,v)}(f,C[qr],$,d,X,O),i.attachToViewContainerRef(),R(h0(C),v,i),i}move(i,l){return this.insert(i,l)}indexOf(i){const l=j0(this._lContainer);return null!==l?l.indexOf(i):-1}remove(i){const l=this._adjustIndex(i,-1),d=ve(this._lContainer,l);d&&(w(h0(this._lContainer),l),It(d[An],d))}detach(i){const l=this._adjustIndex(i,-1),d=ve(this._lContainer,l);return d&&null!=w(h0(this._lContainer),l)?new Uf(d):null}_adjustIndex(i,l=0){return null==i?this.length+l:i}};function j0(n){return n[Ln]}function h0(n){return n[Ln]||(n[Ln]=[])}function H0(n,i){let l;const d=i[n.index];if(mi(d))l=d;else{let f;if(8&n.type)f=Di(d);else{const v=i[tt];f=v.createComment("");const C=ss(n,i);_i(v,nu(v,C),f,function Ga(n,i){return n.nextSibling(i)}(v,C),!1)}i[n.index]=l=Pm(d,i,f,n),Xs(i,l)}return new V0(l,n,i)}class f0{constructor(i){this.queryList=i,this.matches=null}clone(){return new f0(this.queryList)}setDirty(){this.queryList.setDirty()}}class p0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const l=i.queries;if(null!==l){const d=null!==i.contentQueries?i.contentQueries[0]:l.length,f=[];for(let v=0;v<d;v++){const C=l.getByIndex(v);f.push(this.queries[C.indexInDeclarationView].clone())}return new p0(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let l=0;l<this.queries.length;l++)null!==X0(i,l).matches&&this.queries[l].setDirty()}}class z0{constructor(i,l,d=null){this.predicate=i,this.flags=l,this.read=d}}class g0{constructor(i=[]){this.queries=i}elementStart(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,l)}elementEnd(i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(i)}embeddedTView(i){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,v=this.getByIndex(d).embeddedTView(i,f);v&&(v.indexInDeclarationView=d,null!==l?l.push(v):l=[v])}return null!==l?new g0(l):null}template(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,l)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class m0{constructor(i,l=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(i,l){this.isApplyingToNode(l)&&this.matchTNode(i,l)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,l){this.elementStart(i,l)}embeddedTView(i,l){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,l),new m0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(i,l,mI(l,v)),this.matchTNodeWithReadOption(i,l,Is(l,i,v,!1,!1))}else d===kv?4&l.type&&this.matchTNodeWithReadOption(i,l,-1):this.matchTNodeWithReadOption(i,l,Is(l,i,d,!1,!1))}matchTNodeWithReadOption(i,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===uc||f===Gv||f===kv&&4&l.type)this.addMatch(l.index,-2);else{const v=Is(l,i,f,!1,!1);null!==v&&this.addMatch(l.index,v)}else this.addMatch(l.index,d)}}addMatch(i,l){null===this.matches?this.matches=[i,l]:this.matches.push(i,l)}}function mI(n,i){const l=n.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===i)return l[d+1];return null}function _I(n,i,l,d){return-1===l?function yI(n,i){return 11&n.type?ba(n,i):4&n.type?zv(n,i):null}(i,n):-2===l?function vI(n,i,l){return l===uc?ba(i,n):l===kv?zv(i,n):l===Gv?H0(i,n):void 0}(n,i,d):es(n,n[An],l,i)}function G0(n,i,l,d){const f=i[pn].queries[d];if(null===f.matches){const v=n.data,C=l.matches,O=[];for(let $=0;$<C.length;$+=2){const X=C[$];O.push(X<0?null:_I(i,v[X],C[$+1],l.metadata.read))}f.matches=O}return f.matches}function y0(n,i,l,d){const f=n.queries.getByIndex(l),v=f.matches;if(null!==v){const C=G0(n,i,f,l);for(let O=0;O<v.length;O+=2){const $=v[O];if($>0)d.push(C[O/2]);else{const X=v[O+1],pe=i[-$];for(let ke=sr;ke<pe.length;ke++){const pt=pe[ke];pt[zt]===pt[pr]&&y0(pt[An],pt,X,d)}if(null!==pe[er]){const ke=pe[er];for(let pt=0;pt<ke.length;pt++){const Pt=ke[pt];y0(Pt[An],Pt,X,d)}}}}}return d}function W0(n){const i=Vt(),l=Zn(),d=xa();Gs(d+1);const f=X0(l,d);if(n.dirty&&function K(n){return 4==(4&n[cr])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?y0(l,i,d,[]):G0(l,i,f,d);n.reset(v,hm),n.notifyOnChanges()}return!0}return!1}function K0(n,i,l){const d=Zn();d.firstCreatePass&&(Q0(d,new z0(n,i,l),-1),2==(2&i)&&(d.staticViewQueries=!0)),Z0(d,Vt(),i)}function q0(n,i,l,d){const f=Zn();if(f.firstCreatePass){const v=vs();Q0(f,new z0(i,l,d),v.index),function II(n,i){const l=n.contentQueries||(n.contentQueries=[]);i!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,i)}(f,n),2==(2&l)&&(f.staticContentQueries=!0)}Z0(f,Vt(),l)}function Y0(){return function EI(n,i){return n[pn].queries[i].queryList}(Vt(),xa())}function Z0(n,i,l){const d=new Hv(4==(4&l));ll(n,i,d,d.destroy),null===i[pn]&&(i[pn]=new p0),i[pn].queries.push(new f0(d))}function Q0(n,i,l){null===n.queries&&(n.queries=new g0),n.queries.track(new m0(i,l))}function X0(n,i){return n.queries.getByIndex(i)}function J0(n,i){return zv(n,i)}function _0(n){return!!vr(n)}function Kv(...n){}const yE=new ci("Application Initializer");let qv=(()=>{class n{constructor(l){this.appInits=l,this.resolve=Kv,this.reject=Kv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const v=this.appInits[f]();if(vg(v))l.push(v);else if(Kf(v)){const C=new Promise((O,$)=>{v.subscribe({complete:O,error:$})});l.push(C)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(Jn(yE,8))},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _E=new ci("AppId",{providedIn:"root",factory:function vE(){return`${b0()}${b0()}${b0()}`}});function b0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const EE=new ci("Platform Initializer"),VI=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jI=new ci("AnimationModuleType");let HI=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yv=new ci("LocaleId",{providedIn:"root",factory:()=>Ht(Yv,dn.Optional|dn.SkipSelf)||function zI(){return typeof $localize<"u"&&$localize.locale||cp}()}),GI=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(i,l){this.ngModuleFactory=i,this.componentFactories=l}}let KI=(()=>{class n{compileModuleSync(l){return new t(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),v=dc(vr(l).declarations).reduce((C,O)=>{const $=Xn(O);return $&&C.push(new xh($)),C},[]);return new WI(d,v)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZI=(()=>Promise.resolve(0))();function C0(n){typeof Zone>"u"?ZI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class sd{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rf(!1),this.onMicrotaskEmpty=new rf(!1),this.onStable=new rf(!1),this.onError=new rf(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function QI(){let n=mr.requestAnimationFrame,i=mr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ew(n){const i=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,T0(n),n.isCheckStableRunning=!0,D0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),T0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,v,C,O)=>{try{return bE(n),l.invokeTask(f,v,C,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),CE(n)}},onInvoke:(l,d,f,v,C,O,$)=>{try{return bE(n),l.invoke(f,v,C,O,$)}finally{n.shouldCoalesceRunChangeDetection&&i(),CE(n)}},onHasTask:(l,d,f,v)=>{l.hasTask(f,v),d===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,T0(n),D0(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,d,f,v)=>(l.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sd.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(sd.isInAngularZone())throw new Pe(909,!1)}run(i,l,d){return this._inner.run(i,l,d)}runTask(i,l,d,f){const v=this._inner,C=v.scheduleEventTask("NgZoneEvent: "+f,i,XI,Kv,Kv);try{return v.runTask(C,l,d)}finally{v.cancelTask(C)}}runGuarded(i,l,d){return this._inner.runGuarded(i,l,d)}runOutsideAngular(i){return this._outer.run(i)}}const XI={};function D0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CE(n){n._nesting--,D0(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rf,this.onMicrotaskEmpty=new rf,this.onStable=new rf,this.onError=new rf}run(i,l,d){return i.apply(l,d)}runGuarded(i,l,d){return i.apply(l,d)}runOutsideAngular(i){return i()}runTask(i,l,d,f){return i.apply(l,d)}}const DE=new ci(""),TE=new ci("");let S0,nw=(()=>{class n{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S0||(function rw(n){S0=n}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sd.assertNotInAngularZone(),C0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return n.\u0275fac=function(l){return new(l||n)(Jn(sd),Jn(SE),Jn(TE))},n.\u0275prov=St({token:n,factory:n.\u0275fac}),n})(),SE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){var f,v;return null!==(f=null===(v=S0)||void 0===v?void 0:v.findTestabilityInTree(this,l,d))&&void 0!==f?f:null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pp=!1;let zg=null;const A0=new ci("PlatformDestroyListeners"),ME=new ci("appBootstrapListener");class ow{constructor(i,l){this.name=i,this.token=l}}function cw(n){const{rootComponent:i,appProviders:l,platformProviders:d}=n;pp&&void 0!==i&&function Gu(n){if(function q_(n){if(!Xn(n))throw new Pe(906,`The ${Q(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!Xn(n).standalone)throw new Pe(907,`The ${Q(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Q(n)} component has the \`standalone: true\` flag in the decorator.`)}(i);const f=function lw(n=[]){if(zg)return zg;const i=function xE(n=[],i){return Wl.create({name:i,providers:[{provide:If,useValue:"platform"},{provide:A0,useValue:new Set([()=>zg=null])},...n]})}(n);return zg=i,function RE(n){const i=n.get(EE,null);i&&i.forEach(l=>l())}(i),i}(d),v=function NE(n,i){let l;return l="noop"===n?new tw:("zone.js"===n?void 0:n)||new sd(i),l}("zone.js",function OE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return v.run(()=>{const O=h([{provide:sd,useValue:v},...l||[]],f,"Environment Injector"),$=O.get(qo,null);if(pp&&!$)throw new Pe(402,"No `ErrorHandler` found in the Dependency Injection tree.");let X;v.runOutsideAngular(()=>{X=v.onError.subscribe({next:pt=>{$.handleError(pt)}})});const pe=()=>O.destroy(),ke=f.get(A0);return ke.add(pe),O.onDestroy(()=>{X.unsubscribe(),ke.delete(pe)}),function kE(n,i,l){try{const d=l();return vg(d)?d.catch(f=>{throw i.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}($,v,()=>{const pt=O.get(qv);return pt.runInitializers(),pt.donePromise.then(()=>{!function zc(n){Et(n,"Expected localeId to be defined"),"string"==typeof n&&(qh=n.toLowerCase().replace(/_/g,"-"))}(O.get(Yv,cp)||cp);const rn=O.get(Zv);return void 0!==i&&rn.bootstrap(i),rn})})})}let Zv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new q.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),C=new q.y(O=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{sd.assertNotInAngularZone(),C0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{sd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{$.unsubscribe(),X.unsubscribe()}});this.isStable=(0,oe.T)(v,C.pipe((0,Re.B)()))}bootstrap(l,d){pp&&this.warnIfDestroyed();const f=l instanceof uu;if(!this._injector.get(qv).done){const Pt="Cannot bootstrap as there are still asynchronous initializers running."+(!f&&br(l)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Pe(405,pp&&Pt)}let C;C=f?l:this._injector.get(Rd).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const O=function sw(n){return n.isBoundToModule}(C)?void 0:this._injector.get(fp),X=C.create(Wl.NULL,[],d||C.selector,O),pe=X.location.nativeElement,ke=X.injector.get(DE,null);return null==ke||ke.registerApplication(pe),X.onDestroy(()=>{this.detachView(X.hostView),Qv(this.components,X),null==ke||ke.unregisterApplication(pe)}),this._loadComponent(X),X}tick(){if(pp&&this.warnIfDestroyed(),this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){pp&&this.warnIfDestroyed();const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){pp&&this.warnIfDestroyed();const d=l;Qv(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(ME,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return pp&&this.warnIfDestroyed(),this._destroyListeners.push(l),()=>Qv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){pp&&this._destroyed&&console.warn(Ce(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(l){return new(l||n)(Jn(sd),Jn($c),Jn(qo))},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qv(n,i){const l=n.indexOf(i);l>-1&&n.splice(l,1)}function hw(){return!1}function fw(){}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(n){return function mw(n,i,l){if(Hs(n)&&!l){const d=T(n.index,i);return new Uf(d,d)}return 47&n.type?new Uf(i[$t],i):null}(vs(),Vt(),16==(16&n))}class VE{constructor(){}supports(i){return dg(i)}create(i){return new ww(i)}}const Iw=(n,i)=>i;class ww{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Iw}forEachItem(i){let l;for(l=this._itHead;null!==l;l=l._next)i(l)}forEachOperation(i){let l=this._itHead,d=this._removalsHead,f=0,v=null;for(;l||d;){const C=!d||l&&l.currentIndex<HE(d,f,v)?l:d,O=HE(C,f,v),$=C.currentIndex;if(C===d)f--,d=d._nextRemoved;else if(l=l._next,null==C.previousIndex)f++;else{v||(v=[]);const X=O-f,pe=$-f;if(X!=pe){for(let pt=0;pt<X;pt++){const Pt=pt<v.length?v[pt]:v[pt]=0,rn=Pt+pt;pe<=rn&&rn<X&&(v[pt]=Pt+1)}v[C.previousIndex]=pe-X}}O!==$&&i(C,O,$)}}forEachPreviousItem(i){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachMovedItem(i){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}forEachIdentityChange(i){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)i(l)}diff(i){if(null==i&&(i=[]),!dg(i))throw new Pe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,v,C,l=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let O=0;O<this.length;O++)v=i[O],C=this._trackByFn(O,v),null!==l&&Object.is(l.trackById,C)?(d&&(l=this._verifyReinsertion(l,v,C,O)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,C,O),d=!0),l=l._next}else f=0,function pv(n,i){if(Array.isArray(n))for(let l=0;l<n.length;l++)i(n[l]);else{const l=n[Symbol.iterator]();let d;for(;!(d=l.next()).done;)i(d.value)}}(i,O=>{C=this._trackByFn(f,O),null!==l&&Object.is(l.trackById,C)?(d&&(l=this._verifyReinsertion(l,O,C,f)),Object.is(l.item,O)||this._addIdentityChange(l,O)):(l=this._mismatch(l,O,C,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,l,d,f){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._reinsertAfter(i,v,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._moveAfter(i,v,f)):i=this._addAfter(new bw(l,d),v,f),i}_verifyReinsertion(i,l,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const l=i._next;this._addToRemovals(this._unlink(i)),i=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,v=i._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(i,l,d),this._addToMoves(i,d),i}_moveAfter(i,l,d){return this._unlink(i),this._insertAfter(i,l,d),this._addToMoves(i,d),i}_addAfter(i,l,d){return this._insertAfter(i,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,l,d){const f=null===l?this._itHead:l._next;return i._next=f,i._prev=l,null===f?this._itTail=i:f._prev=i,null===l?this._itHead=i:l._next=i,null===this._linkedRecords&&(this._linkedRecords=new jE),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const l=i._prev,d=i._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,i}_addToMoves(i,l){return i.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,l){return i.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class bw{constructor(i,l){this.item=i,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const l=i._prevDup,d=i._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class jE{constructor(){this.map=new Map}put(i){const l=i.trackById;let d=this.map.get(l);d||(d=new Cw,this.map.set(l,d)),d.add(i)}get(i,l){const f=this.map.get(i);return f?f.get(i,l):null}remove(i){const l=i.trackById;return this.map.get(l).remove(i)&&this.map.delete(l),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HE(n,i,l){const d=n.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+i+f}class zE{constructor(){}supports(i){return i instanceof Map||Vf(i)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let l;for(l=this._mapHead;null!==l;l=l._next)i(l)}forEachPreviousItem(i){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)i(l)}forEachChangedItem(i){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}diff(i){if(i){if(!(i instanceof Map||Vf(i)))throw new Pe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const v=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,v)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,l){if(i){const d=i._prev;return l._next=i,l._prev=d,i._prev=l,d&&(d._next=l),i===this._mapHead&&(this._mapHead=l),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(i,l){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,l);const v=f._prev,C=f._next;return v&&(v._next=C),C&&(C._prev=v),f._next=null,f._prev=null,f}const d=new Tw(i);return this._records.set(i,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,l){Object.is(l,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=l,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,l){i instanceof Map?i.forEach(l):Object.keys(i).forEach(d=>l(i[d],d))}}class Tw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GE(){return new N0([new VE])}let N0=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||GE()),deps:[[n,new Ll,new Va]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Pe(901,!1)}}return n.\u0275prov=St({token:n,providedIn:"root",factory:GE}),n})();function WE(){return new k0([new zE])}let k0=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||WE()),deps:[[n,new Ll,new Va]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Pe(901,!1)}}return n.\u0275prov=St({token:n,providedIn:"root",factory:WE}),n})(),Mw=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(Jn(Zv))},n.\u0275mod=ji({type:n}),n.\u0275inj=At({}),n})();function Rw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Pw(n,i){const l=Xn(n),d=i.elementInjector||_h();return new xh(l).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}},4006:(an,lt,L)=>{"use strict";L.d(lt,{Cf:()=>Ce,F:()=>qr,JJ:()=>jn,JL:()=>dn,JU:()=>ye,UX:()=>Gi,Zs:()=>Sa,_Y:()=>Ze,a5:()=>Kt,kI:()=>He,qu:()=>Xt,sg:()=>jr,u:()=>Js,u5:()=>On});var y=L(4650),g=L(6895),q=L(8996),oe=L(4128),Re=L(4004);let xe=(()=>{class z{constructor(k,le){this._renderer=k,this._elementRef=le,this.onChange=Ot=>{},this.onTouched=()=>{}}setProperty(k,le){this._renderer.setProperty(this._elementRef.nativeElement,k,le)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(y.Qsj),y.Y36(y.SBq))},z.\u0275dir=y.lG2({type:z}),z})(),De=(()=>{class z extends xe{}return z.\u0275fac=function(){let V;return function(le){return(V||(V=y.n5z(z)))(le||z)}}(),z.\u0275dir=y.lG2({type:z,features:[y.qOj]}),z})();const ye=new y.OlP("NgValueAccessor"),me={provide:ye,useExisting:(0,y.Gpc)(()=>$e),multi:!0},Be=new y.OlP("CompositionEventMode");let $e=(()=>{class z extends xe{constructor(k,le,Ot){super(k,le),this._compositionMode=Ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const z=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Be,8))},z.\u0275dir=y.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,le){1&k&&y.NdJ("input",function(kn){return le._handleInput(kn.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(kn){return le._compositionEnd(kn.target.value)})},features:[y._Bn([me]),y.qOj]}),z})();const Ye=!1;function nt(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Pe(z){return null!=z&&"number"==typeof z.length}const Ce=new y.OlP("NgValidators"),ce=new y.OlP("NgAsyncValidators"),Q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(V){return function Me(z){return V=>{if(nt(V.value)||nt(z))return null;const k=parseFloat(V.value);return!isNaN(k)&&k<z?{min:{min:z,actual:V.value}}:null}}(V)}static max(V){return function Qe(z){return V=>{if(nt(V.value)||nt(z))return null;const k=parseFloat(V.value);return!isNaN(k)&&k>z?{max:{max:z,actual:V.value}}:null}}(V)}static required(V){return mt(V)}static requiredTrue(V){return We(V)}static email(V){return function ne(z){return nt(z.value)||Q.test(z.value)?null:{email:!0}}(V)}static minLength(V){return function qe(z){return V=>nt(V.value)||!Pe(V.value)?null:V.value.length<z?{minlength:{requiredLength:z,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function we(z){return V=>Pe(V.value)&&V.value.length>z?{maxlength:{requiredLength:z,actualLength:V.value.length}}:null}(V)}static pattern(V){return function rt(z){if(!z)return bt;let V,k;return"string"==typeof z?(k="","^"!==z.charAt(0)&&(k+="^"),k+=z,"$"!==z.charAt(z.length-1)&&(k+="$"),V=new RegExp(k)):(k=z.toString(),V=z),le=>{if(nt(le.value))return null;const Ot=le.value;return V.test(Ot)?null:{pattern:{requiredPattern:k,actualValue:Ot}}}}(V)}static nullValidator(V){return null}static compose(V){return je(V)}static composeAsync(V){return yt(V)}}function mt(z){return nt(z.value)?{required:!0}:null}function We(z){return!0===z.value?null:{required:!0}}function bt(z){return null}function Ke(z){return null!=z}function dt(z){const V=(0,y.QGY)(z)?(0,q.D)(z):z;if(Ye&&!(0,y.CqO)(V)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof z&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new y.vHH(-1101,k)}return V}function Dt(z){let V={};return z.forEach(k=>{V=null!=k?{...V,...k}:V}),0===Object.keys(V).length?null:V}function _t(z,V){return V.map(k=>k(z))}function Ue(z){return z.map(V=>function ze(z){return!z.validate}(V)?V:k=>V.validate(k))}function je(z){if(!z)return null;const V=z.filter(Ke);return 0==V.length?null:function(k){return Dt(_t(k,V))}}function Et(z){return null!=z?je(Ue(z)):null}function yt(z){if(!z)return null;const V=z.filter(Ke);return 0==V.length?null:function(k){const le=_t(k,V).map(dt);return(0,oe.D)(le).pipe((0,Re.U)(Dt))}}function Tt(z){return null!=z?yt(Ue(z)):null}function Ut(z,V){return null===z?[V]:Array.isArray(z)?[...z,V]:[z,V]}function vn(z){return z._rawValidators}function St(z){return z._rawAsyncValidators}function ct(z){return z?Array.isArray(z)?z:[z]:[]}function At(z,V){return Array.isArray(z)?z.includes(V):z===V}function Jt(z,V){const k=ct(V);return ct(z).forEach(Ot=>{At(k,Ot)||k.push(Ot)}),k}function bn(z,V){return ct(V).filter(k=>!At(z,k))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Tt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,k){return!!this.control&&this.control.hasError(V,k)}getError(V,k){return this.control?this.control.getError(V,k):null}}class hn extends Fn{get formDirective(){return null}get path(){return null}}class Kt extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In{constructor(V){this._cd=V}get isTouched(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.touched)}get isUntouched(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.untouched)}get isPristine(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.pristine)}get isDirty(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.dirty)}get isValid(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.valid)}get isInvalid(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.invalid)}get isPending(){var V,k;return!(null===(V=this._cd)||void 0===V||null===(k=V.control)||void 0===k||!k.pending)}get isSubmitted(){var V;return!(null===(V=this._cd)||void 0===V||!V.submitted)}}let jn=(()=>{class z extends In{constructor(k){super(k)}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(Kt,2))},z.\u0275dir=y.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,le){2&k&&y.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[y.qOj]}),z})(),dn=(()=>{class z extends In{constructor(k){super(k)}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(hn,10))},z.\u0275dir=y.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,le){2&k&&y.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)("ng-submitted",le.isSubmitted)},features:[y.qOj]}),z})();function Kr(z,V){return z?`with name: '${V}'`:`at index: ${V}`}const rr=!1,Ii="VALID",Jn="INVALID",ln="PENDING",Ht="DISABLED";function En(z){return(Ar(z)?z.validators:z)||null}function Gn(z,V){return(Ar(V)?V.asyncValidators:z)||null}function Ar(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function Je(z,V,k){const le=z.controls;if(!(V?Object.keys(le):le).length)throw new y.vHH(1e3,rr?function Ri(z){return`\n    There are no form controls registered with this ${z?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(V):"");if(!le[k])throw new y.vHH(1001,rr?function _r(z,V){return`Cannot find form control ${Kr(z,V)}`}(V,k):"")}function Ve(z,V,k){z._forEachChild((le,Ot)=>{if(void 0===k[Ot])throw new y.vHH(1002,rr?function Qr(z,V){return`Must supply a value for form control ${Kr(z,V)}`}(V,Ot):"")})}class he{constructor(V,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Ii}get invalid(){return this.status===Jn}get pending(){return this.status==ln}get disabled(){return this.status===Ht}get enabled(){return this.status!==Ht}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Jt(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Jt(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(bn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(bn(V,this._rawAsyncValidators))}hasValidator(V){return At(this._rawValidators,V)}hasAsyncValidator(V){return At(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=ln,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const k=this._parentMarkedDirty(V.onlySelf);this.status=Ht,this.errors=null,this._forEachChild(le=>{le.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:k}),this._onDisabledChange.forEach(le=>le(!0))}enable(V={}){const k=this._parentMarkedDirty(V.onlySelf);this.status=Ii,this._forEachChild(le=>{le.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:k}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ii||this.status===ln)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ht:Ii}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator=!0;const k=dt(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,k={}){this.errors=V,this._updateControlsErrors(!1!==k.emitEvent)}get(V){let k=V;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((le,Ot)=>le&&le._find(Ot),this)}getError(V,k){const le=k?this.get(k):this;return le&&le.errors?le.errors[V]:null}hasError(V,k){return!!this.getError(V,k)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Ht:this.errors?Jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(Jn)?Jn:Ii}_anyControlsHaveStatus(V){return this._anyControls(k=>k.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){Ar(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function Vn(z){return Array.isArray(z)?Et(z):z||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function fr(z){return Array.isArray(z)?Tt(z):z||null}(this._rawAsyncValidators)}}class ge extends he{constructor(V,k,le){super(En(k),Gn(le,k)),this.controls=V,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,k){return this.controls[V]?this.controls[V]:(this.controls[V]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(V,k,le={}){this.registerControl(V,k),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(V,k={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(V,k,le={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],k&&this.registerControl(V,k),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,k={}){Ve(this,!0,V),Object.keys(V).forEach(le=>{Je(this,!0,le),this.controls[le].setValue(V[le],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(V,k={}){null!=V&&(Object.keys(V).forEach(le=>{const Ot=this.controls[le];Ot&&Ot.patchValue(V[le],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(V={},k={}){this._forEachChild((le,Ot)=>{le.reset(V[Ot],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(V,k,le)=>(V[le]=k.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(k,le)=>!!le._syncPendingControls()||k);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(k=>{const le=this.controls[k];le&&V(le,k)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[k,le]of Object.entries(this.controls))if(this.contains(k)&&V(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,le,Ot)=>((le.enabled||this.disabled)&&(k[Ot]=le.value),k))}_reduceChildren(V,k){let le=V;return this._forEachChild((Ot,kn)=>{le=k(le,Ot,kn)}),le}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class Oe extends ge{}const Ie=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>et}),et="always";function Yt(z,V,k=et){var le,Ot;di(z,V),V.valueAccessor.writeValue(z.value),(z.disabled||"always"===k)&&(null===(le=(Ot=V.valueAccessor).setDisabledState)||void 0===le||le.call(Ot,z.disabled)),function ji(z,V){V.valueAccessor.registerOnChange(k=>{z._pendingValue=k,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Bi(z,V)})}(z,V),function ds(z,V){const k=(le,Ot)=>{V.valueAccessor.writeValue(le),Ot&&V.viewToModelUpdate(le)};z.registerOnChange(k),V._registerOnDestroy(()=>{z._unregisterOnChange(k)})}(z,V),function Li(z,V){V.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Bi(z,V),"submit"!==z.updateOn&&z.markAsTouched()})}(z,V),function lr(z,V){if(V.valueAccessor.setDisabledState){const k=le=>{V.valueAccessor.setDisabledState(le)};z.registerOnDisabledChange(k),V._registerOnDestroy(()=>{z._unregisterOnDisabledChange(k)})}}(z,V)}function Pn(z,V,k=!0){const le=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(le),V.valueAccessor.registerOnTouched(le)),Pi(z,V),z&&(V._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function yn(z,V){z.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(V)})}function di(z,V){const k=vn(z);null!==V.validator?z.setValidators(Ut(k,V.validator)):"function"==typeof k&&z.setValidators([k]);const le=St(z);null!==V.asyncValidator?z.setAsyncValidators(Ut(le,V.asyncValidator)):"function"==typeof le&&z.setAsyncValidators([le]);const Ot=()=>z.updateValueAndValidity();yn(V._rawValidators,Ot),yn(V._rawAsyncValidators,Ot)}function Pi(z,V){let k=!1;if(null!==z){if(null!==V.validator){const Ot=vn(z);if(Array.isArray(Ot)&&Ot.length>0){const kn=Ot.filter(li=>li!==V.validator);kn.length!==Ot.length&&(k=!0,z.setValidators(kn))}}if(null!==V.asyncValidator){const Ot=St(z);if(Array.isArray(Ot)&&Ot.length>0){const kn=Ot.filter(li=>li!==V.asyncValidator);kn.length!==Ot.length&&(k=!0,z.setAsyncValidators(kn))}}}const le=()=>{};return yn(V._rawValidators,le),yn(V._rawAsyncValidators,le),k}function Bi(z,V){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function gs(z,V){di(z,V)}function Oi(z,V){z._syncPendingControls(),V.forEach(k=>{const le=k.control;"submit"===le.updateOn&&le._pendingChange&&(k.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}const hi={provide:hn,useExisting:(0,y.Gpc)(()=>qr)},ti=(()=>Promise.resolve())();let qr=(()=>{class z extends hn{constructor(k,le,Ot){super(),this.callSetDisabledState=Ot,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new ge({},Et(k),Tt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){ti.then(()=>{const le=this._findContainer(k.path);k.control=le.registerControl(k.name,k.control),Yt(k.control,k,this.callSetDisabledState),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){ti.then(()=>{const le=this._findContainer(k.path);le&&le.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){ti.then(()=>{const le=this._findContainer(k.path),Ot=new ge({});gs(Ot,k),le.registerControl(k.name,Ot),Ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){ti.then(()=>{const le=this._findContainer(k.path);le&&le.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,le){ti.then(()=>{this.form.get(k.path).setValue(le)})}setValue(k){this.control.setValue(k)}onSubmit(k){var le;return this.submitted=!0,Oi(this.form,this._directives),this.ngSubmit.emit(k),"dialog"===(null==k||null===(le=k.target)||void 0===le?void 0:le.method)}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(Ce,10),y.Y36(ce,10),y.Y36(Ie,8))},z.\u0275dir=y.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,le){1&k&&y.NdJ("submit",function(kn){return le.onSubmit(kn)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([hi]),y.qOj]}),z})();function gi(z,V){const k=z.indexOf(V);k>-1&&z.splice(k,1)}function Nr(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const ue=class extends he{constructor(V=null,k,le){super(En(k),Gn(le,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ar(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Nr(V)?V.value:V)}setValue(V,k={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(V,k={}){this.setValue(V,k)}reset(V=this.defaultValue,k={}){this._applyFormState(V),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){gi(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){gi(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Nr(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let Ze=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275dir=y.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Ln=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=y.oAB({type:z}),z.\u0275inj=y.cJS({}),z})();const mi=new y.OlP("NgModelWithFormControlWarning"),Ls={provide:hn,useExisting:(0,y.Gpc)(()=>jr)};let jr=(()=>{class z extends hn{constructor(k,le,Ot){super(),this.callSetDisabledState=Ot,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(k),this._setAsyncValidators(le)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const le=this.form.get(k.path);return Yt(le,k,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),le}getControl(k){return this.form.get(k.path)}removeControl(k){Pn(k.control||null,k,!1),function cr(z,V){const k=z.indexOf(V);k>-1&&z.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,le){this.form.get(k.path).setValue(le)}onSubmit(k){var le;return this.submitted=!0,Oi(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===(null==k||null===(le=k.target)||void 0===le?void 0:le.method)}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const le=k.control,Ot=this.form.get(k.path);le!==Ot&&(Pn(le||null,k),(z=>z instanceof ue)(Ot)&&(Yt(Ot,k,this.callSetDisabledState),k.control=Ot))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const le=this.form.get(k.path);gs(le,k),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const le=this.form.get(k.path);le&&function Xn(z,V){return Pi(z,V)}(le,k)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){di(this.form,this),this._oldForm&&Pi(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(k){return new(k||z)(y.Y36(Ce,10),y.Y36(ce,10),y.Y36(Ie,8))},z.\u0275dir=y.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(k,le){1&k&&y.NdJ("submit",function(kn){return le.onSubmit(kn)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Ls]),y.qOj,y.TTD]}),z})();const uo={provide:Kt,useExisting:(0,y.Gpc)(()=>Js)};let Js=(()=>{class z extends Kt{set isDisabled(k){}constructor(k,le,Ot,kn,li){super(),this._ngModelWarningConfig=li,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(le),this._setAsyncValidators(Ot),this.valueAccessor=function An(z,V){if(!V)return null;let k,le,Ot;return Array.isArray(V),V.forEach(kn=>{kn.constructor===$e?k=kn:function xi(z){return Object.getPrototypeOf(z.constructor)===De}(kn)?le=kn:Ot=kn}),Ot||le||k||null}(0,kn)}ngOnChanges(k){this._added||this._setUpControl(),function Gr(z,V){if(!z.hasOwnProperty("model"))return!1;const k=z.model;return!!k.isFirstChange()||!Object.is(V,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function Mt(z,V){return[...V.path,z]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(k){return new(k||z)(y.Y36(hn,13),y.Y36(Ce,10),y.Y36(ce,10),y.Y36(ye,10),y.Y36(mi,8))},z.\u0275dir=y.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([uo]),y.qOj,y.TTD]}),z})(),Cs=(()=>{class z{constructor(){this._validator=bt}ngOnChanges(k){if(this.inputName in k){const le=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):bt,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275dir=y.lG2({type:z,features:[y.TTD]}),z})();const ra={provide:Ce,useExisting:(0,y.Gpc)(()=>So),multi:!0},ga={provide:Ce,useExisting:(0,y.Gpc)(()=>Sa),multi:!0};let So=(()=>{class z extends Cs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=k=>mt}enabled(k){return k}}return z.\u0275fac=function(){let V;return function(le){return(V||(V=y.n5z(z)))(le||z)}}(),z.\u0275dir=y.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,le){2&k&&y.uIk("required",le._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([ra]),y.qOj]}),z})(),Sa=(()=>{class z extends So{constructor(){super(...arguments),this.createValidator=k=>We}}return z.\u0275fac=function(){let V;return function(le){return(V||(V=y.n5z(z)))(le||z)}}(),z.\u0275dir=y.lG2({type:z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(k,le){2&k&&y.uIk("required",le._enabled?"":null)},features:[y._Bn([ga]),y.qOj]}),z})(),D=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=y.oAB({type:z}),z.\u0275inj=y.cJS({imports:[Ln]}),z})();class Z extends he{constructor(V,k,le){super(En(k),Gn(le,k)),this.controls=V,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,k={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(V,k,le={}){this.controls.splice(V,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(V,k={}){let le=this._adjustIndex(V);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(V,k,le={}){let Ot=this._adjustIndex(V);Ot<0&&(Ot=0),this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),this.controls.splice(Ot,1),k&&(this.controls.splice(Ot,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,k={}){Ve(this,!1,V),V.forEach((le,Ot)=>{Je(this,!1,Ot),this.at(Ot).setValue(le,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(V,k={}){null!=V&&(V.forEach((le,Ot)=>{this.at(Ot)&&this.at(Ot).patchValue(le,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(V=[],k={}){this._forEachChild((le,Ot)=>{le.reset(V[Ot],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((k,le)=>!!le._syncPendingControls()||k,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((k,le)=>{V(k,le)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(k=>k.enabled&&V(k))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){var k;return null!==(k=this.at(V))&&void 0!==k?k:null}}function Ee(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Xt=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const k=new z;return k.useNonNullable=!0,k}group(k,le=null){const Ot=this._reduceControls(k);let kn={};return Ee(le)?kn=le:null!==le&&(kn.validators=le.validator,kn.asyncValidators=le.asyncValidator),new ge(Ot,kn)}record(k,le=null){const Ot=this._reduceControls(k);return new Oe(Ot,le)}control(k,le,Ot){let kn={};return this.useNonNullable?(Ee(le)?kn=le:(kn.validators=le,kn.asyncValidators=Ot),new ue(k,{...kn,nonNullable:!0})):new ue(k,le,Ot)}array(k,le,Ot){const kn=k.map(li=>this._createControl(li));return new Z(kn,le,Ot)}_reduceControls(k){const le={};return Object.keys(k).forEach(Ot=>{le[Ot]=this._createControl(k[Ot])}),le}_createControl(k){return k instanceof ue||k instanceof he?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),On=(()=>{class z{static withConfig(k){var le;return{ngModule:z,providers:[{provide:Ie,useValue:null!==(le=k.callSetDisabledState)&&void 0!==le?le:et}]}}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=y.oAB({type:z}),z.\u0275inj=y.cJS({imports:[D]}),z})(),Gi=(()=>{class z{static withConfig(k){var le,Ot;return{ngModule:z,providers:[{provide:mi,useValue:null!==(le=k.warnOnNgModelWithFormControl)&&void 0!==le?le:"always"},{provide:Ie,useValue:null!==(Ot=k.callSetDisabledState)&&void 0!==Ot?Ot:et}]}}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=y.oAB({type:z}),z.\u0275inj=y.cJS({imports:[D]}),z})()},1481:(an,lt,L)=>{"use strict";L.d(lt,{Cg:()=>At,Dx:()=>hr,H7:()=>he,b2:()=>Zr,se:()=>Ke});var y=L(6895),g=L(4650);class q extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends q{static makeCurrent(){(0,y.HT)(new oe)}onAndCancel(Le,Ie,et){return Le.addEventListener(Ie,et,!1),()=>{Le.removeEventListener(Ie,et,!1)}}dispatchEvent(Le,Ie){Le.dispatchEvent(Ie)}remove(Le){Le.parentNode&&Le.parentNode.removeChild(Le)}createElement(Le,Ie){return(Ie=Ie||this.getDefaultDocument()).createElement(Le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Le){return Le.nodeType===Node.ELEMENT_NODE}isShadowRoot(Le){return Le instanceof DocumentFragment}getGlobalEventTarget(Le,Ie){return"window"===Ie?window:"document"===Ie?Le:"body"===Ie?Le.body:null}getBaseHref(Le){const Ie=function xe(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==Ie?null:function ye(Oe){De=De||document.createElement("a"),De.setAttribute("href",Oe);const Le=De.pathname;return"/"===Le.charAt(0)?Le:`/${Le}`}(Ie)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(Le){return(0,y.Mx)(document.cookie,Le)}}let De,Re=null;const Fe=new g.OlP("TRANSITION_ID"),me=[{provide:g.ip1,useFactory:function Te(Oe,Le,Ie){return()=>{Ie.get(g.CZH).donePromise.then(()=>{const et=(0,y.q)(),Mt=Le.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let Yt=0;Yt<Mt.length;Yt++)et.remove(Mt[Yt])})}},deps:[Fe,y.K0,g.zs3],multi:!0}];let Be=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const $e=new g.OlP("EventManagerPlugins");let Ye=(()=>{class Oe{constructor(Ie,et){this._zone=et,this._eventNameToPlugin=new Map,Ie.forEach(Mt=>{Mt.manager=this}),this._plugins=Ie.slice().reverse()}addEventListener(Ie,et,Mt){return this._findPluginFor(et).addEventListener(Ie,et,Mt)}addGlobalEventListener(Ie,et,Mt){return this._findPluginFor(et).addGlobalEventListener(Ie,et,Mt)}getZone(){return this._zone}_findPluginFor(Ie){const et=this._eventNameToPlugin.get(Ie);if(et)return et;const Mt=this._plugins;for(let Yt=0;Yt<Mt.length;Yt++){const Pn=Mt[Yt];if(Pn.supports(Ie))return this._eventNameToPlugin.set(Ie,Pn),Pn}throw new Error(`No event manager plugin found for event ${Ie}`)}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG($e),g.LFG(g.R0b))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class nt{constructor(Le){this._doc=Le}addGlobalEventListener(Le,Ie,et){const Mt=(0,y.q)().getGlobalEventTarget(this._doc,Le);if(!Mt)throw new Error(`Unsupported event target ${Mt} for event ${Ie}`);return this.addEventListener(Mt,Ie,et)}}let Pe=(()=>{class Oe{constructor(){this.usageCount=new Map}addStyles(Ie){for(const et of Ie)1===this.changeUsageCount(et,1)&&this.onStyleAdded(et)}removeStyles(Ie){for(const et of Ie)0===this.changeUsageCount(et,-1)&&this.onStyleRemoved(et)}onStyleRemoved(Ie){}onStyleAdded(Ie){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Ie,et){var Mt;const Yt=this.usageCount;let Pn=null!==(Mt=Yt.get(Ie))&&void 0!==Mt?Mt:0;return Pn+=et,Pn>0?Yt.set(Ie,Pn):Yt.delete(Ie),Pn}ngOnDestroy(){for(const Ie of this.getAllStyles())this.onStyleRemoved(Ie);this.usageCount.clear()}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Ce=(()=>{class Oe extends Pe{constructor(Ie){super(),this.doc=Ie,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Ie){for(const et of this.hostNodes)this.addStyleToHost(et,Ie)}onStyleRemoved(Ie){const et=this.styleRef,Mt=et.get(Ie);null==Mt||Mt.forEach(Yt=>Yt.remove()),et.delete(Ie)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Ie){this.hostNodes.add(Ie);for(const et of this.getAllStyles())this.addStyleToHost(Ie,et)}removeHost(Ie){this.hostNodes.delete(Ie)}addStyleToHost(Ie,et){const Mt=this.doc.createElement("style");Mt.textContent=et,Ie.appendChild(Mt);const Yt=this.styleRef.get(et);Yt?Yt.push(Mt):this.styleRef.set(et,[Mt])}resetHostNodes(){const Ie=this.hostNodes;Ie.clear(),Ie.add(this.doc.head)}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(y.K0))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Q=/%COMP%/g,ne=new g.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function rt(Oe,Le){return Le.flat(100).map(Ie=>Ie.replace(Q,Oe))}function bt(Oe){return Le=>{if("__ngUnwrap__"===Le)return Oe;!1===Oe(Le)&&(Le.preventDefault(),Le.returnValue=!1)}}let Ke=(()=>{class Oe{constructor(Ie,et,Mt,Yt){this.eventManager=Ie,this.sharedStylesHost=et,this.appId=Mt,this.removeStylesOnCompDestory=Yt,this.rendererByCompId=new Map,this.defaultRenderer=new dt(Ie)}createRenderer(Ie,et){if(!Ie||!et)return this.defaultRenderer;const Mt=this.getOrCreateRenderer(Ie,et);return Mt instanceof Et?Mt.applyToHost(Ie):Mt instanceof je&&Mt.applyStyles(),Mt}getOrCreateRenderer(Ie,et){const Mt=this.rendererByCompId;let Yt=Mt.get(et.id);if(!Yt){const Pn=this.eventManager,yn=this.sharedStylesHost,lr=this.removeStylesOnCompDestory;switch(et.encapsulation){case g.ifc.Emulated:Yt=new Et(Pn,yn,et,this.appId,lr);break;case g.ifc.ShadowDom:return new Ue(Pn,yn,Ie,et);default:Yt=new je(Pn,yn,et,lr)}Yt.onDestroy=()=>Mt.delete(et.id),Mt.set(et.id,Yt)}return Yt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(Ye),g.LFG(Ce),g.LFG(g.AFp),g.LFG(ne))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class dt{constructor(Le){this.eventManager=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Le,Ie){return Ie?document.createElementNS(ce[Ie]||Ie,Le):document.createElement(Le)}createComment(Le){return document.createComment(Le)}createText(Le){return document.createTextNode(Le)}appendChild(Le,Ie){(ze(Le)?Le.content:Le).appendChild(Ie)}insertBefore(Le,Ie,et){Le&&(ze(Le)?Le.content:Le).insertBefore(Ie,et)}removeChild(Le,Ie){Le&&Le.removeChild(Ie)}selectRootElement(Le,Ie){let et="string"==typeof Le?document.querySelector(Le):Le;if(!et)throw new Error(`The selector "${Le}" did not match any elements`);return Ie||(et.textContent=""),et}parentNode(Le){return Le.parentNode}nextSibling(Le){return Le.nextSibling}setAttribute(Le,Ie,et,Mt){if(Mt){Ie=Mt+":"+Ie;const Yt=ce[Mt];Yt?Le.setAttributeNS(Yt,Ie,et):Le.setAttribute(Ie,et)}else Le.setAttribute(Ie,et)}removeAttribute(Le,Ie,et){if(et){const Mt=ce[et];Mt?Le.removeAttributeNS(Mt,Ie):Le.removeAttribute(`${et}:${Ie}`)}else Le.removeAttribute(Ie)}addClass(Le,Ie){Le.classList.add(Ie)}removeClass(Le,Ie){Le.classList.remove(Ie)}setStyle(Le,Ie,et,Mt){Mt&(g.JOm.DashCase|g.JOm.Important)?Le.style.setProperty(Ie,et,Mt&g.JOm.Important?"important":""):Le.style[Ie]=et}removeStyle(Le,Ie,et){et&g.JOm.DashCase?Le.style.removeProperty(Ie):Le.style[Ie]=""}setProperty(Le,Ie,et){Le[Ie]=et}setValue(Le,Ie){Le.nodeValue=Ie}listen(Le,Ie,et){return"string"==typeof Le?this.eventManager.addGlobalEventListener(Le,Ie,bt(et)):this.eventManager.addEventListener(Le,Ie,bt(et))}}function ze(Oe){return"TEMPLATE"===Oe.tagName&&void 0!==Oe.content}class Ue extends dt{constructor(Le,Ie,et,Mt){super(Le),this.sharedStylesHost=Ie,this.hostEl=et,this.shadowRoot=et.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=rt(Mt.id,Mt.styles);for(const Pn of Yt){const yn=document.createElement("style");yn.textContent=Pn,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(Le){return Le===this.hostEl?this.shadowRoot:Le}appendChild(Le,Ie){return super.appendChild(this.nodeOrShadowRoot(Le),Ie)}insertBefore(Le,Ie,et){return super.insertBefore(this.nodeOrShadowRoot(Le),Ie,et)}removeChild(Le,Ie){return super.removeChild(this.nodeOrShadowRoot(Le),Ie)}parentNode(Le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class je extends dt{constructor(Le,Ie,et,Mt,Yt=et.id){super(Le),this.sharedStylesHost=Ie,this.removeStylesOnCompDestory=Mt,this.rendererUsageCount=0,this.styles=rt(Yt,et.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Le;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Le=this.onDestroy)||void 0===Le||Le.call(this))}}class Et extends je{constructor(Le,Ie,et,Mt,Yt){const Pn=Mt+"-"+et.id;super(Le,Ie,et,Yt,Pn),this.contentAttr=function qe(Oe){return"_ngcontent-%COMP%".replace(Q,Oe)}(Pn),this.hostAttr=function we(Oe){return"_nghost-%COMP%".replace(Q,Oe)}(Pn)}applyToHost(Le){this.applyStyles(),this.setAttribute(Le,this.hostAttr,"")}createElement(Le,Ie){const et=super.createElement(Le,Ie);return super.setAttribute(et,this.contentAttr,""),et}}let yt=(()=>{class Oe extends nt{constructor(Ie){super(Ie)}supports(Ie){return!0}addEventListener(Ie,et,Mt){return Ie.addEventListener(et,Mt,!1),()=>this.removeEventListener(Ie,et,Mt)}removeEventListener(Ie,et,Mt){return Ie.removeEventListener(et,Mt)}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(y.K0))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Tt=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let St=(()=>{class Oe extends nt{constructor(Ie){super(Ie)}supports(Ie){return null!=Oe.parseEventName(Ie)}addEventListener(Ie,et,Mt){const Yt=Oe.parseEventName(et),Pn=Oe.eventCallback(Yt.fullKey,Mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(Ie,Yt.domEventName,Pn))}static parseEventName(Ie){const et=Ie.toLowerCase().split("."),Mt=et.shift();if(0===et.length||"keydown"!==Mt&&"keyup"!==Mt)return null;const Yt=Oe._normalizeKey(et.pop());let Pn="",yn=et.indexOf("code");if(yn>-1&&(et.splice(yn,1),Pn="code."),Tt.forEach(di=>{const Pi=et.indexOf(di);Pi>-1&&(et.splice(Pi,1),Pn+=di+".")}),Pn+=Yt,0!=et.length||0===Yt.length)return null;const lr={};return lr.domEventName=Mt,lr.fullKey=Pn,lr}static matchEventFullKeyCode(Ie,et){let Mt=Ut[Ie.key]||Ie.key,Yt="";return et.indexOf("code.")>-1&&(Mt=Ie.code,Yt="code."),!(null==Mt||!Mt)&&(Mt=Mt.toLowerCase()," "===Mt?Mt="space":"."===Mt&&(Mt="dot"),Tt.forEach(Pn=>{Pn!==Mt&&(0,vn[Pn])(Ie)&&(Yt+=Pn+".")}),Yt+=Mt,Yt===et)}static eventCallback(Ie,et,Mt){return Yt=>{Oe.matchEventFullKeyCode(Yt,Ie)&&Mt.runGuarded(()=>et(Yt))}}static _normalizeKey(Ie){return"esc"===Ie?"escape":Ie}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(y.K0))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function At(Oe,Le){return(0,g.iPO)({rootComponent:Oe,...bn(Le)})}function bn(Oe){var Le;return{appProviders:[...ar,...null!==(Le=null==Oe?void 0:Oe.providers)&&void 0!==Le?Le:[]],platformProviders:jt}}const jt=[{provide:g.Lbi,useValue:y.bD},{provide:g.g9A,useValue:function hn(){oe.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function In(){return(0,g.RDi)(document),document},deps:[]}],jn=new g.OlP(""),dn=[{provide:g.rWj,useClass:class Se{addToWindow(Le){g.dqk.getAngularTestability=(et,Mt=!0)=>{const Yt=Le.findTestabilityInTree(et,Mt);if(null==Yt)throw new Error("Could not find testability for element.");return Yt},g.dqk.getAllAngularTestabilities=()=>Le.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>Le.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(et=>{const Mt=g.dqk.getAllAngularTestabilities();let Yt=Mt.length,Pn=!1;const yn=function(lr){Pn=Pn||lr,Yt--,0==Yt&&et(Pn)};Mt.forEach(function(lr){lr.whenStable(yn)})})}findTestabilityInTree(Le,Ie,et){if(null==Ie)return null;const Mt=Le.getTestability(Ie);return null!=Mt?Mt:et?(0,y.q)().isShadowRoot(Ie)?this.findTestabilityInTree(Le,Ie.host,!0):this.findTestabilityInTree(Le,Ie.parentElement,!0):null}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],ar=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Kt(){return new g.qLn},deps:[]},{provide:$e,useClass:yt,multi:!0,deps:[y.K0,g.R0b,g.Lbi]},{provide:$e,useClass:St,multi:!0,deps:[y.K0]},{provide:Ke,useClass:Ke,deps:[Ye,Ce,g.AFp,ne]},{provide:g.FYo,useExisting:Ke},{provide:Pe,useExisting:Ce},{provide:Ce,useClass:Ce,deps:[y.K0]},{provide:Ye,useClass:Ye,deps:[$e,g.R0b]},{provide:y.JF,useClass:Be,deps:[]},[]];let Zr=(()=>{class Oe{constructor(Ie){}static withServerTransition(Ie){return{ngModule:Oe,providers:[{provide:g.AFp,useValue:Ie.appId},{provide:Fe,useExisting:g.AFp},me]}}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(jn,12))},Oe.\u0275mod=g.oAB({type:Oe}),Oe.\u0275inj=g.cJS({providers:[...ar,...dn],imports:[y.ez,g.hGG]}),Oe})(),hr=(()=>{class Oe{constructor(Ie){this._doc=Ie}getTitle(){return this._doc.title}setTitle(Ie){this._doc.title=Ie||""}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(y.K0))},Oe.\u0275prov=g.Yz7({token:Oe,factory:function(Ie){let et=null;return et=Ie?new Ie:function mr(){return new hr((0,g.LFG)(y.K0))}(),et},providedIn:"root"}),Oe})();typeof window<"u"&&window;let he=(()=>{class Oe{}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)},Oe.\u0275prov=g.Yz7({token:Oe,factory:function(Ie){let et=null;return et=Ie?new(Ie||Oe):g.LFG(de),et},providedIn:"root"}),Oe})(),de=(()=>{class Oe extends he{constructor(Ie){super(),this._doc=Ie}sanitize(Ie,et){if(null==et)return null;switch(Ie){case g.q3G.NONE:return et;case g.q3G.HTML:return(0,g.qzn)(et,"HTML")?(0,g.z3N)(et):(0,g.EiD)(this._doc,String(et)).toString();case g.q3G.STYLE:return(0,g.qzn)(et,"Style")?(0,g.z3N)(et):et;case g.q3G.SCRIPT:if((0,g.qzn)(et,"Script"))return(0,g.z3N)(et);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.qzn)(et,"URL")?(0,g.z3N)(et):(0,g.mCW)(String(et));case g.q3G.RESOURCE_URL:if((0,g.qzn)(et,"ResourceURL"))return(0,g.z3N)(et);throw new Error(`unsafe value used in a resource URL context (see ${g.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Ie} (see ${g.JZr})`)}}bypassSecurityTrustHtml(Ie){return(0,g.JVY)(Ie)}bypassSecurityTrustStyle(Ie){return(0,g.L6k)(Ie)}bypassSecurityTrustScript(Ie){return(0,g.eBb)(Ie)}bypassSecurityTrustUrl(Ie){return(0,g.LAX)(Ie)}bypassSecurityTrustResourceUrl(Ie){return(0,g.pB0)(Ie)}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(g.LFG(y.K0))},Oe.\u0275prov=g.Yz7({token:Oe,factory:function(Ie){let et=null;return et=Ie?new Ie:function ge(Oe){return new de(Oe.get(y.K0))}(g.LFG(g.zs3)),et},providedIn:"root"}),Oe})()},6159:(an,lt,L)=>{"use strict";L.d(lt,{gz:()=>jr,y6:()=>Yi,OD:()=>qr,eC:()=>Tt,wN:()=>wi,F0:()=>or,rH:()=>Fa,Od:()=>Ti,Bz:()=>No,Hx:()=>Kr,bU:()=>Ol});var y=L(4650),g=L(8996),q=L(9646),oe=L(1135),Re=L(6805),xe=L(9841),De=L(7272),ye=L(9770),Fe=L(9635),Te=L(2843),me=L(9751),Se=L(515),Be=L(4033),$e=L(7579),Ye=L(6895),nt=L(4004),Pe=L(3900),Ce=L(5698),ce=L(8675),Q=L(9300),He=L(5577),Me=L(590),Qe=L(4351),mt=L(8505),We=L(262),ne=L(5026),qe=L(4482),we=L(5403);function rt(S){return S<=0?()=>Se.E:(0,qe.e)((R,w)=>{let x=[];R.subscribe((0,we.x)(w,H=>{x.push(H),S<x.length&&x.shift()},()=>{for(const H of x)w.next(H);w.complete()},void 0,()=>{x=null}))})}var bt=L(8068),Ke=L(6590),dt=L(4671);function Dt(S,R){const w=arguments.length>=2;return x=>x.pipe(S?(0,Q.h)((H,re)=>S(H,re,x)):dt.y,rt(1),w?(0,Ke.d)(R):(0,bt.T)(()=>new Re.K))}var ze=L(9718),Ue=L(8746),je=L(8343),Et=L(8189),yt=L(1481);const Tt="primary",Ut=Symbol("RouteTitle");class vn{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const w=this.params[R];return Array.isArray(w)?w[0]:w}return null}getAll(R){if(this.has(R)){const w=this.params[R];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function St(S){return new vn(S)}function ct(S,R,w){const x=w.path.split("/");if(x.length>S.length||"full"===w.pathMatch&&(R.hasChildren()||x.length<S.length))return null;const H={};for(let re=0;re<x.length;re++){const fe=x[re],gt=S[re];if(fe.startsWith(":"))H[fe.substring(1)]=gt;else if(fe!==gt.path)return null}return{consumed:S.slice(0,x.length),posParams:H}}function Jt(S,R){const w=S?Object.keys(S):void 0,x=R?Object.keys(R):void 0;if(!w||!x||w.length!=x.length)return!1;let H;for(let re=0;re<w.length;re++)if(H=w[re],!bn(S[H],R[H]))return!1;return!0}function bn(S,R){if(Array.isArray(S)&&Array.isArray(R)){if(S.length!==R.length)return!1;const w=[...S].sort(),x=[...R].sort();return w.every((H,re)=>x[re]===H)}return S===R}function Fn(S){return Array.prototype.concat.apply([],S)}function hn(S){return S.length>0?S[S.length-1]:null}function In(S,R){for(const w in S)S.hasOwnProperty(w)&&R(S[w],w)}function jt(S){return(0,y.CqO)(S)?S:(0,y.QGY)(S)?(0,g.D)(Promise.resolve(S)):(0,q.of)(S)}const Or=!1,jn={exact:function Er(S,R,w){if(!dr(S.segments,R.segments)||!hr(S.segments,R.segments,w)||S.numberOfChildren!==R.numberOfChildren)return!1;for(const x in R.children)if(!S.children[x]||!Er(S.children[x],R.children[x],w))return!1;return!0},subset:zr},dn={exact:function Zr(S,R){return Jt(S,R)},subset:function Ci(S,R){return Object.keys(R).length<=Object.keys(S).length&&Object.keys(R).every(w=>bn(S[w],R[w]))},ignored:()=>!0};function ar(S,R,w){return jn[w.paths](S.root,R.root,w.matrixParams)&&dn[w.queryParams](S.queryParams,R.queryParams)&&!("exact"===w.fragment&&S.fragment!==R.fragment)}function zr(S,R,w){return mr(S,R,R.segments,w)}function mr(S,R,w,x){if(S.segments.length>w.length){const H=S.segments.slice(0,w.length);return!(!dr(H,w)||R.hasChildren()||!hr(H,w,x))}if(S.segments.length===w.length){if(!dr(S.segments,w)||!hr(S.segments,w,x))return!1;for(const H in R.children)if(!S.children[H]||!zr(S.children[H],R.children[H],x))return!1;return!0}{const H=w.slice(0,S.segments.length),re=w.slice(S.segments.length);return!!(dr(S.segments,H)&&hr(S.segments,H,x)&&S.children[Tt])&&mr(S.children[Tt],R,re,x)}}function hr(S,R,w){return R.every((x,H)=>dn[w](S[H].parameters,x.parameters))}class Cn{constructor(R=new sn([],{}),w={},x=null){this.root=R,this.queryParams=w,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return _r.serialize(this)}}class sn{constructor(R,w){this.segments=R,this.children=w,this.parent=null,In(w,(x,H)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qr(this)}}class xr{constructor(R,w){this.path=R,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return Gn(this)}}function dr(S,R){return S.length===R.length&&S.every((w,x)=>w.path===R[x].path)}let Kr=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return new Ri},providedIn:"root"}),S})();class Ri{parse(R){const w=new Oe(R);return new Cn(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(R){const w=`/${rr(R.root,!0)}`,x=function Ar(S){const R=Object.keys(S).map(w=>{const x=S[w];return Array.isArray(x)?x.map(H=>`${Jn(w)}=${Jn(H)}`).join("&"):`${Jn(w)}=${Jn(x)}`}).filter(w=>!!w);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${w}${x}${"string"==typeof R.fragment?`#${function ln(S){return encodeURI(S)}(R.fragment)}`:""}`}}const _r=new Ri;function Qr(S){return S.segments.map(R=>Gn(R)).join("/")}function rr(S,R){if(!S.hasChildren())return Qr(S);if(R){const w=S.children[Tt]?rr(S.children[Tt],!1):"",x=[];return In(S.children,(H,re)=>{re!==Tt&&x.push(`${re}:${rr(H,!1)}`)}),x.length>0?`${w}(${x.join("//")})`:w}{const w=function ii(S,R){let w=[];return In(S.children,(x,H)=>{H===Tt&&(w=w.concat(R(x,H)))}),In(S.children,(x,H)=>{H!==Tt&&(w=w.concat(R(x,H)))}),w}(S,(x,H)=>H===Tt?[rr(S.children[Tt],!1)]:[`${H}:${rr(x,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Tt]?`${Qr(S)}/${w[0]}`:`${Qr(S)}/(${w.join("//")})`}}function Ii(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jn(S){return Ii(S).replace(/%3B/gi,";")}function Ht(S){return Ii(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function En(S){return decodeURIComponent(S)}function Vn(S){return En(S.replace(/\+/g,"%20"))}function Gn(S){return`${Ht(S.path)}${function fr(S){return Object.keys(S).map(R=>`;${Ht(R)}=${Ht(S[R])}`).join("")}(S.parameters)}`}const Je=/^[^\/()?;=#]+/;function Ve(S){const R=S.match(Je);return R?R[0]:""}const he=/^[^=?&#]+/,de=/^[^&#]+/;class Oe{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(R.length>0||Object.keys(w).length>0)&&(x[Tt]=new sn(R,w)),x}parseSegment(){const R=Ve(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new y.vHH(4009,Or);return this.capture(R),new xr(En(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const w=Ve(this.remaining);if(!w)return;this.capture(w);let x="";if(this.consumeOptional("=")){const H=Ve(this.remaining);H&&(x=H,this.capture(x))}R[En(w)]=En(x)}parseQueryParam(R){const w=function ge(S){const R=S.match(he);return R?R[0]:""}(this.remaining);if(!w)return;this.capture(w);let x="";if(this.consumeOptional("=")){const fe=function ht(S){const R=S.match(de);return R?R[0]:""}(this.remaining);fe&&(x=fe,this.capture(x))}const H=Vn(w),re=Vn(x);if(R.hasOwnProperty(H)){let fe=R[H];Array.isArray(fe)||(fe=[fe],R[H]=fe),fe.push(re)}else R[H]=re}parseParens(R){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=Ve(this.remaining),H=this.remaining[x.length];if("/"!==H&&")"!==H&&";"!==H)throw new y.vHH(4010,Or);let re;x.indexOf(":")>-1?(re=x.slice(0,x.indexOf(":")),this.capture(re),this.capture(":")):R&&(re=Tt);const fe=this.parseChildren();w[re]=1===Object.keys(fe).length?fe[Tt]:new sn([],fe),this.consumeOptional("//")}return w}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new y.vHH(4011,Or)}}function Le(S){return S.segments.length>0?new sn([],{[Tt]:S}):S}function Ie(S){const R={};for(const x of Object.keys(S.children)){const re=Ie(S.children[x]);(re.segments.length>0||re.hasChildren())&&(R[x]=re)}return function et(S){if(1===S.numberOfChildren&&S.children[Tt]){const R=S.children[Tt];return new sn(S.segments.concat(R.segments),R.children)}return S}(new sn(S.segments,R))}function Mt(S){return S instanceof Cn}const Yt=!1;function di(S,R,w,x,H){var re;if(0===w.length)return Li(R.root,R.root,R.root,x,H);const fe=function gs(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ds(!0,0,S);let R=0,w=!1;const x=S.reduce((H,re,fe)=>{if("object"==typeof re&&null!=re){if(re.outlets){const gt={};return In(re.outlets,(Nt,wn)=>{gt[wn]="string"==typeof Nt?Nt.split("/"):Nt}),[...H,{outlets:gt}]}if(re.segmentPath)return[...H,re.segmentPath]}return"string"!=typeof re?[...H,re]:0===fe?(re.split("/").forEach((gt,Nt)=>{0==Nt&&"."===gt||(0==Nt&&""===gt?w=!0:".."===gt?R++:""!=gt&&H.push(gt))}),H):[...H,re]},[]);return new ds(w,R,x)}(w);return fe.toRoot()?Li(R.root,R.root,new sn([],{}),x,H):function gt(wn){var mn;const cn=function Vr(S,R,w,x){if(S.isAbsolute)return new Xn(R.root,!0,0);if(-1===x)return new Xn(w,w===R.root,0);return function br(S,R,w){let x=S,H=R,re=w;for(;re>H;){if(re-=H,x=x.parent,!x)throw new y.vHH(4005,Yt&&"Invalid number of '../'");H=x.segments.length}return new Xn(x,!1,H-re)}(w,x+(Pi(S.commands[0])?0:1),S.numberOfDoubleDots)}(fe,R,null===(mn=S.snapshot)||void 0===mn?void 0:mn._urlSegment,wn),Rr=cn.processChildren?Gr(cn.segmentGroup,cn.index,fe.commands):ms(cn.segmentGroup,cn.index,fe.commands);return Li(R.root,cn.segmentGroup,Rr,x,H)}(null===(re=S.snapshot)||void 0===re?void 0:re._lastPathIndex)}function Pi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function ji(S){return"object"==typeof S&&null!=S&&S.outlets}function Li(S,R,w,x,H){let fe,re={};x&&In(x,(Nt,wn)=>{re[wn]=Array.isArray(Nt)?Nt.map(mn=>`${mn}`):`${Nt}`}),fe=S===R?w:Bi(S,R,w);const gt=Le(Ie(fe));return new Cn(gt,re,H)}function Bi(S,R,w){const x={};return In(S.children,(H,re)=>{x[re]=H===R?w:Bi(H,R,w)}),new sn(S.segments,x)}class ds{constructor(R,w,x){if(this.isAbsolute=R,this.numberOfDoubleDots=w,this.commands=x,R&&x.length>0&&Pi(x[0]))throw new y.vHH(4003,Yt&&"Root segment cannot have matrix parameters");const H=x.find(ji);if(H&&H!==hn(x))throw new y.vHH(4004,Yt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xn{constructor(R,w,x){this.segmentGroup=R,this.processChildren=w,this.index=x}}function ms(S,R,w){if(S||(S=new sn([],{})),0===S.segments.length&&S.hasChildren())return Gr(S,R,w);const x=function xi(S,R,w){let x=0,H=R;const re={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(x>=w.length)return re;const fe=S.segments[H],gt=w[x];if(ji(gt))break;const Nt=`${gt}`,wn=x<w.length-1?w[x+1]:null;if(H>0&&void 0===Nt)break;if(Nt&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!pr(Nt,wn,fe))return re;x+=2}else{if(!pr(Nt,{},fe))return re;x++}H++}return{match:!0,pathIndex:H,commandIndex:x}}(S,R,w),H=w.slice(x.commandIndex);if(x.match&&x.pathIndex<S.segments.length){const re=new sn(S.segments.slice(0,x.pathIndex),{});return re.children[Tt]=new sn(S.segments.slice(x.pathIndex),S.children),Gr(re,0,H)}return x.match&&0===H.length?new sn(S.segments,{}):x.match&&!S.hasChildren()?Oi(S,R,w):x.match?Gr(S,0,H):Oi(S,R,w)}function Gr(S,R,w){if(0===w.length)return new sn(S.segments,{});{const x=function vr(S){return ji(S[0])?S[0].outlets:{[Tt]:S}}(w),H={};if(!x[Tt]&&S.children[Tt]&&1===S.numberOfChildren&&0===S.children[Tt].segments.length){const re=Gr(S.children[Tt],R,w);return new sn(S.segments,re.children)}return In(x,(re,fe)=>{"string"==typeof re&&(re=[re]),null!==re&&(H[fe]=ms(S.children[fe],R,re))}),In(S.children,(re,fe)=>{void 0===x[fe]&&(H[fe]=re)}),new sn(S.segments,H)}}function Oi(S,R,w){const x=S.segments.slice(0,R);let H=0;for(;H<w.length;){const re=w[H];if(ji(re)){const Nt=An(re.outlets);return new sn(x,Nt)}if(0===H&&Pi(w[0])){x.push(new xr(S.segments[R].path,cr(w[0]))),H++;continue}const fe=ji(re)?re.outlets[Tt]:`${re}`,gt=H<w.length-1?w[H+1]:null;fe&&gt&&Pi(gt)?(x.push(new xr(fe,cr(gt))),H+=2):(x.push(new xr(fe,{})),H++)}return new sn(x,{})}function An(S){const R={};return In(S,(w,x)=>{"string"==typeof w&&(w=[w]),null!==w&&(R[x]=Oi(new sn([],{}),0,w))}),R}function cr(S){const R={};return In(S,(w,x)=>R[x]=`${w}`),R}function pr(S,R,w){return S==w.path&&Jt(R,w.parameters)}const hi="imperative";class ti{constructor(R,w){this.id=R,this.url=w}}class qr extends ti{constructor(R,w,x="imperative",H=null){super(R,w),this.type=0,this.navigationTrigger=x,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends ti{constructor(R,w,x){super(R,w),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nr extends ti{constructor(R,w,x,H){super(R,w),this.reason=x,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ue extends ti{constructor(R,w,x,H){super(R,w),this.reason=x,this.code=H,this.type=16}}class Ae extends ti{constructor(R,w,x,H){super(R,w),this.error=x,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tt extends ti{constructor(R,w,x,H){super(R,w),this.urlAfterRedirects=x,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class be extends ti{constructor(R,w,x,H){super(R,w),this.urlAfterRedirects=x,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends ti{constructor(R,w,x,H,re){super(R,w),this.urlAfterRedirects=x,this.state=H,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ot extends ti{constructor(R,w,x,H){super(R,w),this.urlAfterRedirects=x,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends ti{constructor(R,w,x,H){super(R,w),this.urlAfterRedirects=x,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zt{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qt{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yn{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(R,w,x){this.routerEvent=R,this.position=w,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Wt=(()=>{class S{createUrlTree(w,x,H,re,fe,gt){return di(w||x.root,H,re,fe,gt)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac}),S})(),Ln=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:function(R){return Wt.\u0275fac(R)},providedIn:"root"}),S})();class er{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const w=this.pathFromRoot(R);return w.length>1?w[w.length-2]:null}children(R){const w=sr(R,this._root);return w?w.children.map(x=>x.value):[]}firstChild(R){const w=sr(R,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(R){const w=Br(R,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==R)}pathFromRoot(R){return Br(R,this._root).map(w=>w.value)}}function sr(S,R){if(S===R.value)return R;for(const w of R.children){const x=sr(S,w);if(x)return x}return null}function Br(S,R){if(S===R.value)return[R];for(const w of R.children){const x=Br(S,w);if(x.length)return x.unshift(R),x}return[]}class Xr{constructor(R,w){this.value=R,this.children=w}toString(){return`TreeNode(${this.value})`}}function mi(S){const R={};return S&&S.children.forEach(w=>R[w.value.outlet]=w),R}class rs extends er{constructor(R,w){super(R),this.snapshot=w,$o(this,R)}toString(){return this.snapshot.toString()}}function Hs(S,R){const w=function Ls(S,R){const fe=new hs([],{},{},"",{},Tt,R,null,S.root,-1,{});return new ea("",new Xr(fe,[]))}(S,R),x=new oe.X([new xr("",{})]),H=new oe.X({}),re=new oe.X({}),fe=new oe.X({}),gt=new oe.X(""),Nt=new jr(x,H,fe,gt,re,Tt,R,w.root);return Nt.snapshot=w.root,new rs(new Xr(Nt,[]),w)}class jr{constructor(R,w,x,H,re,fe,gt,Nt){var wn,mn;this.url=R,this.params=w,this.queryParams=x,this.fragment=H,this.data=re,this.outlet=fe,this.component=gt,this.title=null!==(wn=null===(mn=this.data)||void 0===mn?void 0:mn.pipe((0,nt.U)(cn=>cn[Ut])))&&void 0!==wn?wn:(0,q.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(R=>St(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(R=>St(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Do(S,R="emptyOnly"){const w=S.pathFromRoot;let x=0;if("always"!==R)for(x=w.length-1;x>=1;){const H=w[x],re=w[x-1];if(H.routeConfig&&""===H.routeConfig.path)x--;else{if(re.component)break;x--}}return function Jo(S){return S.reduce((R,w)=>{var x;return{params:{...R.params,...w.params},data:{...R.data,...w.data},resolve:{...w.data,...R.resolve,...null===(x=w.routeConfig)||void 0===x?void 0:x.data,...w._resolvedData}}},{params:{},data:{},resolve:{}})}(w.slice(x))}class hs{get title(){var R;return null===(R=this.data)||void 0===R?void 0:R[Ut]}constructor(R,w,x,H,re,fe,gt,Nt,wn,mn,cn){this.url=R,this.params=w,this.queryParams=x,this.fragment=H,this.data=re,this.outlet=fe,this.component=gt,this.routeConfig=Nt,this._urlSegment=wn,this._lastPathIndex=mn,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ea extends er{constructor(R,w){super(w),this.url=R,$o(this,w)}toString(){return uo(this._root)}}function $o(S,R){R.value._routerState=S,R.children.forEach(w=>$o(S,w))}function uo(S){const R=S.children.length>0?` { ${S.children.map(uo).join(", ")} } `:"";return`${S.value}${R}`}function Js(S){if(S.snapshot){const R=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Jt(R.queryParams,w.queryParams)||S.queryParams.next(w.queryParams),R.fragment!==w.fragment&&S.fragment.next(w.fragment),Jt(R.params,w.params)||S.params.next(w.params),function At(S,R){if(S.length!==R.length)return!1;for(let w=0;w<S.length;++w)if(!Jt(S[w],R[w]))return!1;return!0}(R.url,w.url)||S.url.next(w.url),Jt(R.data,w.data)||S.data.next(w.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function ta(S,R){const w=Jt(S.params,R.params)&&function Wr(S,R){return dr(S,R)&&S.every((w,x)=>Jt(w.parameters,R[x].parameters))}(S.url,R.url);return w&&!(!S.parent!=!R.parent)&&(!S.parent||ta(S.parent,R.parent))}function Bs(S,R,w){if(w&&S.shouldReuseRoute(R.value,w.value.snapshot)){const x=w.value;x._futureSnapshot=R.value;const H=function Uo(S,R,w){return R.children.map(x=>{for(const H of w.children)if(S.shouldReuseRoute(x.value,H.value.snapshot))return Bs(S,x,H);return Bs(S,x)})}(S,R,w);return new Xr(x,H)}{if(S.shouldAttach(R.value)){const re=S.retrieve(R.value);if(null!==re){const fe=re.route;return fe.value._futureSnapshot=R.value,fe.children=R.children.map(gt=>Bs(S,gt)),fe}}const x=function to(S){return new jr(new oe.X(S.url),new oe.X(S.params),new oe.X(S.queryParams),new oe.X(S.fragment),new oe.X(S.data),S.outlet,S.component,S)}(R.value),H=R.children.map(re=>Bs(S,re));return new Xr(x,H)}}const qi="ngNavigationCancelingError";function To(S,R){const{redirectTo:w,navigationBehaviorOptions:x}=Mt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,H=na(!1,0,R);return H.url=w,H.navigationBehaviorOptions=x,H}function na(S,R,w){const x=new Error("NavigationCancelingError: "+(S||""));return x[qi]=!0,x.cancellationCode=R,w&&(x.url=w),x}function Vo(S){return zs(S)&&Mt(S.url)}function zs(S){return S&&S[qi]}class $s{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yi,this.attachRef=null}}let Yi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,x){const H=this.getOrCreateContext(w);H.outlet=x,this.contexts.set(w,H)}onChildOutletDestroyed(w){const x=this.getContext(w);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let x=this.getContext(w);return x||(x=new $s,this.contexts.set(w,x)),x}getContext(w){return this.contexts.get(w)||null}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ys=!1;let Cs=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Yi),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(w){if(w.name){const{firstChange:x,previousValue:H}=w.name;if(x)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){var x;return(null===(x=this.parentContexts.getContext(w))||void 0===x?void 0:x.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,ys);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,ys);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,ys);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,x){this.activated=w,this._activatedRoute=x,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,x){if(this.isActivated)throw new y.vHH(4013,ys);this._activatedRoute=w;const H=this.location,fe=w.snapshot.component,gt=this.parentContexts.getOrCreateContext(this.name).children,Nt=new si(w,gt,H.injector);if(x&&function Ds(S){return!!S.resolveComponentFactory}(x)){const wn=x.resolveComponentFactory(fe);this.activated=H.createComponent(wn,H.length,Nt)}else this.activated=H.createComponent(fe,{index:H.length,injector:Nt,environmentInjector:null!=x?x:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275dir=y.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),S})();class si{constructor(R,w,x){this.route=R,this.childContexts=w,this.parent=x}get(R,w){return R===jr?this.route:R===Yi?this.childContexts:this.parent.get(R,w)}}let no=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275cmp=y.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(w,x){1&w&&y._UZ(0,"router-outlet")},dependencies:[Cs],encapsulation:2}),S})();function ro(S,R){var w;return S.providers&&!S._injector&&(S._injector=(0,y.MMx)(S.providers,R,`Route: ${S.path}`)),null!==(w=S._injector)&&void 0!==w?w:R}function Ui(S){const R=S.children&&S.children.map(Ui),w=R?{...S,children:R}:{...S};return!w.component&&!w.loadComponent&&(R||w.loadChildren)&&w.outlet&&w.outlet!==Tt&&(w.component=no),w}function zi(S){return S.outlet||Tt}function Di(S,R){const w=S.filter(x=>zi(x)===R);return w.push(...S.filter(x=>zi(x)!==R)),w}function is(S){var R;if(!S)return null;if(null!==(R=S.routeConfig)&&void 0!==R&&R._injector)return S.routeConfig._injector;for(let w=S.parent;w;w=w.parent){const x=w.routeConfig;if(null!=x&&x._loadedInjector)return x._loadedInjector;if(null!=x&&x._injector)return x._injector}return null}class ss{constructor(R,w,x,H){this.routeReuseStrategy=R,this.futureState=w,this.currState=x,this.forwardEvent=H}activate(R){const w=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,x,R),Js(this.futureState.root),this.activateChildRoutes(w,x,R)}deactivateChildRoutes(R,w,x){const H=mi(w);R.children.forEach(re=>{const fe=re.value.outlet;this.deactivateRoutes(re,H[fe],x),delete H[fe]}),In(H,(re,fe)=>{this.deactivateRouteAndItsChildren(re,x)})}deactivateRoutes(R,w,x){const H=R.value,re=w?w.value:null;if(H===re)if(H.component){const fe=x.getContext(H.outlet);fe&&this.deactivateChildRoutes(R,w,fe.children)}else this.deactivateChildRoutes(R,w,x);else re&&this.deactivateRouteAndItsChildren(w,x)}deactivateRouteAndItsChildren(R,w){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,w):this.deactivateRouteAndOutlet(R,w)}detachAndStoreRouteSubtree(R,w){const x=w.getContext(R.value.outlet),H=x&&R.value.component?x.children:w,re=mi(R);for(const fe of Object.keys(re))this.deactivateRouteAndItsChildren(re[fe],H);if(x&&x.outlet){const fe=x.outlet.detach(),gt=x.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:fe,route:R,contexts:gt})}}deactivateRouteAndOutlet(R,w){const x=w.getContext(R.value.outlet),H=x&&R.value.component?x.children:w,re=mi(R);for(const fe of Object.keys(re))this.deactivateRouteAndItsChildren(re[fe],H);x&&(x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated()),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(R,w,x){const H=mi(w);R.children.forEach(re=>{this.activateRoutes(re,H[re.value.outlet],x),this.forwardEvent(new ir(re.value.snapshot))}),R.children.length&&this.forwardEvent(new pn(R.value.snapshot))}activateRoutes(R,w,x){const H=R.value,re=w?w.value:null;if(Js(H),H===re)if(H.component){const gt=x.getOrCreateContext(H.outlet);this.activateChildRoutes(R,w,gt.children)}else this.activateChildRoutes(R,w,x);else if(H.component){const gt=x.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Nt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),gt.children.onOutletReAttached(Nt.contexts),gt.attachRef=Nt.componentRef,gt.route=Nt.route.value,gt.outlet&&gt.outlet.attach(Nt.componentRef,Nt.route.value),Js(Nt.route.value),this.activateChildRoutes(R,null,gt.children)}else{var fe;const Nt=is(H.snapshot),wn=null!==(fe=null==Nt?void 0:Nt.get(y._Vd))&&void 0!==fe?fe:null;gt.attachRef=null,gt.route=H,gt.resolver=wn,gt.injector=Nt,gt.outlet&&gt.outlet.activateWith(H,gt.injector),this.activateChildRoutes(R,null,gt.children)}}else this.activateChildRoutes(R,null,x)}}class Mo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class D{constructor(R,w){this.component=R,this.route=w}}function Z(S,R,w){const x=S._root;return Ee(x,R?R._root:null,w,[x.value])}function K(S,R){const w=Symbol(),x=R.get(S,w);return x===w?"function"!=typeof S||(0,y.Z0I)(S)?R.get(S):S:x}function Ee(S,R,w,x,H={canDeactivateChecks:[],canActivateChecks:[]}){const re=mi(R);return S.children.forEach(fe=>{(function Xt(S,R,w,x,H={canDeactivateChecks:[],canActivateChecks:[]}){const re=S.value,fe=R?R.value:null,gt=w?w.getContext(S.value.outlet):null;if(fe&&re.routeConfig===fe.routeConfig){const Nt=function Bn(S,R,w){if("function"==typeof w)return w(S,R);switch(w){case"pathParamsChange":return!dr(S.url,R.url);case"pathParamsOrQueryParamsChange":return!dr(S.url,R.url)||!Jt(S.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ta(S,R)||!Jt(S.queryParams,R.queryParams);default:return!ta(S,R)}}(fe,re,re.routeConfig.runGuardsAndResolvers);Nt?H.canActivateChecks.push(new Mo(x)):(re.data=fe.data,re._resolvedData=fe._resolvedData),Ee(S,R,re.component?gt?gt.children:null:w,x,H),Nt&&gt&&gt.outlet&&gt.outlet.isActivated&&H.canDeactivateChecks.push(new D(gt.outlet.component,fe))}else fe&&Kn(R,gt,H),H.canActivateChecks.push(new Mo(x)),Ee(S,null,re.component?gt?gt.children:null:w,x,H)})(fe,re[fe.value.outlet],w,x.concat([fe.value]),H),delete re[fe.value.outlet]}),In(re,(fe,gt)=>Kn(fe,w.getContext(gt),H)),H}function Kn(S,R,w){const x=mi(S),H=S.value;In(x,(re,fe)=>{Kn(re,H.component?R?R.children.getContext(fe):null:R,w)}),w.canDeactivateChecks.push(new D(H.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,H))}function Cr(S){return"function"==typeof S}function li(S){return S instanceof Re.K||"EmptyError"===(null==S?void 0:S.name)}const Vt=Symbol("INITIAL_VALUE");function Zn(){return(0,Pe.w)(S=>(0,xe.a)(S.map(R=>R.pipe((0,Ce.q)(1),(0,ce.O)(Vt)))).pipe((0,nt.U)(R=>{for(const w of R)if(!0!==w){if(w===Vt)return Vt;if(!1===w||w instanceof Cn)return w}return!0}),(0,Q.h)(R=>R!==Vt),(0,Ce.q)(1)))}function ho(S){return(0,Fe.z)((0,mt.b)(R=>{if(Mt(R))throw To(0,R)}),(0,nt.U)(R=>!0===R))}const Xi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Us(S,R,w,x,H){const re=Ss(S,R,w);return re.matched?function _l(S,R,w,x){const H=R.canMatch;if(!H||0===H.length)return(0,q.of)(!0);const re=H.map(fe=>{const gt=K(fe,S);return jt(function le(S){return S&&Cr(S.canMatch)}(gt)?gt.canMatch(R,w):S.runInContext(()=>gt(R,w)))});return(0,q.of)(re).pipe(Zn(),ho())}(x=ro(R,x),R,w).pipe((0,nt.U)(fe=>!0===fe?re:{...Xi})):(0,q.of)(re)}function Ss(S,R,w){var x;if(""===R.path)return"full"===R.pathMatch&&(S.hasChildren()||w.length>0)?{...Xi}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const re=(R.matcher||ct)(w,S,R);if(!re)return{...Xi};const fe={};In(re.posParams,(Nt,wn)=>{fe[wn]=Nt.path});const gt=re.consumed.length>0?{...fe,...re.consumed[re.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:re.consumed,remainingSegments:w.slice(re.consumed.length),parameters:gt,positionalParamSegments:null!==(x=re.posParams)&&void 0!==x?x:{}}}function fo(S,R,w,x){if(w.length>0&&function Ra(S,R,w){return w.some(x=>Za(S,R,x)&&zi(x)!==Tt)}(S,w,x)){const re=new sn(R,function sa(S,R,w,x){const H={};H[Tt]=x,x._sourceSegment=S,x._segmentIndexShift=R.length;for(const re of w)if(""===re.path&&zi(re)!==Tt){const fe=new sn([],{});fe._sourceSegment=S,fe._segmentIndexShift=R.length,H[zi(re)]=fe}return H}(S,R,x,new sn(w,S.children)));return re._sourceSegment=S,re._segmentIndexShift=R.length,{segmentGroup:re,slicedSegments:[]}}if(0===w.length&&function Ml(S,R,w){return w.some(x=>Za(S,R,x))}(S,w,x)){const re=new sn(S.segments,function Ro(S,R,w,x,H){const re={};for(const fe of x)if(Za(S,w,fe)&&!H[zi(fe)]){const gt=new sn([],{});gt._sourceSegment=S,gt._segmentIndexShift=R.length,re[zi(fe)]=gt}return{...H,...re}}(S,R,w,x,S.children));return re._sourceSegment=S,re._segmentIndexShift=R.length,{segmentGroup:re,slicedSegments:w}}const H=new sn(S.segments,S.children);return H._sourceSegment=S,H._segmentIndexShift=R.length,{segmentGroup:H,slicedSegments:w}}function Za(S,R,w){return(!(S.hasChildren()||R.length>0)||"full"!==w.pathMatch)&&""===w.path}function Qa(S,R,w,x){return!!(zi(S)===x||x!==Tt&&Za(R,w,S))&&("**"===S.path||Ss(R,S,w).matched)}function Es(S,R,w){return 0===R.length&&!S.children[w]}const xa=!1;class Gs{constructor(R){this.segmentGroup=R||null}}class Xa{constructor(R){this.urlTree=R}}function Ho(S){return(0,Te._)(new Gs(S))}function zo(S){return(0,Te._)(new Xa(S))}class Ni{constructor(R,w,x,H,re){this.injector=R,this.configLoader=w,this.urlSerializer=x,this.urlTree=H,this.config=re,this.allowRedirects=!0}apply(){const R=fo(this.urlTree.root,[],[],this.config).segmentGroup,w=new sn(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,w,Tt).pipe((0,nt.U)(re=>this.createUrlTree(Ie(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,We.K)(re=>{if(re instanceof Xa)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof Gs?this.noMatchError(re):re}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,Tt).pipe((0,nt.U)(H=>this.createUrlTree(Ie(H),R.queryParams,R.fragment))).pipe((0,We.K)(H=>{throw H instanceof Gs?this.noMatchError(H):H}))}noMatchError(R){return new y.vHH(4002,xa)}createUrlTree(R,w,x){const H=Le(R);return new Cn(H,w,x)}expandSegmentGroup(R,w,x,H){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(R,w,x).pipe((0,nt.U)(re=>new sn([],re))):this.expandSegment(R,x,w,x.segments,H,!0)}expandChildren(R,w,x){const H=[];for(const re of Object.keys(x.children))"primary"===re?H.unshift(re):H.push(re);return(0,g.D)(H).pipe((0,Qe.b)(re=>{const fe=x.children[re],gt=Di(w,re);return this.expandSegmentGroup(R,gt,fe,re).pipe((0,nt.U)(Nt=>({segment:Nt,outlet:re})))}),(0,ne.R)((re,fe)=>(re[fe.outlet]=fe.segment,re),{}),Dt())}expandSegment(R,w,x,H,re,fe){return(0,g.D)(x).pipe((0,Qe.b)(gt=>this.expandSegmentAgainstRoute(R,w,x,gt,H,re,fe).pipe((0,We.K)(wn=>{if(wn instanceof Gs)return(0,q.of)(null);throw wn}))),(0,Me.P)(gt=>!!gt),(0,We.K)((gt,Nt)=>{if(li(gt))return Es(w,H,re)?(0,q.of)(new sn([],{})):Ho(w);throw gt}))}expandSegmentAgainstRoute(R,w,x,H,re,fe,gt){return Qa(H,w,re,fe)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(R,w,H,re,fe):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,w,x,H,re,fe):Ho(w):Ho(w)}expandSegmentAgainstRouteUsingRedirect(R,w,x,H,re,fe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,x,H,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(R,w,x,H,re,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,w,x,H){const re=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?zo(re):this.lineralizeSegments(x,re).pipe((0,He.z)(fe=>{const gt=new sn(fe,{});return this.expandSegment(R,gt,w,fe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,w,x,H,re,fe){const{matched:gt,consumedSegments:Nt,remainingSegments:wn,positionalParamSegments:mn}=Ss(w,H,re);if(!gt)return Ho(w);const cn=this.applyRedirectCommands(Nt,H.redirectTo,mn);return H.redirectTo.startsWith("/")?zo(cn):this.lineralizeSegments(H,cn).pipe((0,He.z)(Rr=>this.expandSegment(R,w,x,Rr.concat(wn),fe,!1)))}matchSegmentAgainstRoute(R,w,x,H,re){return"**"===x.path?(R=ro(x,R),x.loadChildren?(x._loadedRoutes?(0,q.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(R,x)).pipe((0,nt.U)(gt=>(x._loadedRoutes=gt.routes,x._loadedInjector=gt.injector,new sn(H,{})))):(0,q.of)(new sn(H,{}))):Us(w,x,H,R).pipe((0,Pe.w)(({matched:fe,consumedSegments:gt,remainingSegments:Nt})=>{var wn;return fe?(R=null!==(wn=x._injector)&&void 0!==wn?wn:R,this.getChildConfig(R,x,H).pipe((0,He.z)(cn=>{var Rr;const ws=null!==(Rr=cn.injector)&&void 0!==Rr?Rr:R,Ks=cn.routes,{segmentGroup:as,slicedSegments:As}=fo(w,gt,Nt,Ks),_a=new sn(as.segments,as.children);if(0===As.length&&_a.hasChildren())return this.expandChildren(ws,Ks,_a).pipe((0,nt.U)(Ua=>new sn(gt,Ua)));if(0===Ks.length&&0===As.length)return(0,q.of)(new sn(gt,{}));const ca=zi(x)===re;return this.expandSegment(ws,_a,Ks,As,ca?Tt:re,!0).pipe((0,nt.U)(ps=>new sn(gt.concat(ps.segments),ps.children)))}))):Ho(w)}))}getChildConfig(R,w,x){return w.children?(0,q.of)({routes:w.children,injector:R}):w.loadChildren?void 0!==w._loadedRoutes?(0,q.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Al(S,R,w,x){const H=R.canLoad;if(void 0===H||0===H.length)return(0,q.of)(!0);const re=H.map(fe=>{const gt=K(fe,S);return jt(function Gi(S){return S&&Cr(S.canLoad)}(gt)?gt.canLoad(R,w):S.runInContext(()=>gt(R,w)))});return(0,q.of)(re).pipe(Zn(),ho())}(R,w,x).pipe((0,He.z)(H=>H?this.configLoader.loadChildren(R,w).pipe((0,mt.b)(re=>{w._loadedRoutes=re.routes,w._loadedInjector=re.injector})):function Ec(S){return(0,Te._)(na(xa,3))}())):(0,q.of)({routes:[],injector:R})}lineralizeSegments(R,w){let x=[],H=w.root;for(;;){if(x=x.concat(H.segments),0===H.numberOfChildren)return(0,q.of)(x);if(H.numberOfChildren>1||!H.children[Tt])return R.redirectTo,(0,Te._)(new y.vHH(4e3,xa));H=H.children[Tt]}}applyRedirectCommands(R,w,x){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),R,x)}applyRedirectCreateUrlTree(R,w,x,H){const re=this.createSegmentGroup(R,w.root,x,H);return new Cn(re,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(R,w){const x={};return In(R,(H,re)=>{if("string"==typeof H&&H.startsWith(":")){const gt=H.substring(1);x[re]=w[gt]}else x[re]=H}),x}createSegmentGroup(R,w,x,H){const re=this.createSegments(R,w.segments,x,H);let fe={};return In(w.children,(gt,Nt)=>{fe[Nt]=this.createSegmentGroup(R,gt,x,H)}),new sn(re,fe)}createSegments(R,w,x,H){return w.map(re=>re.path.startsWith(":")?this.findPosParam(R,re,H):this.findOrReturn(re,x))}findPosParam(R,w,x){const H=x[w.path.substring(1)];if(!H)throw new y.vHH(4001,xa);return H}findOrReturn(R,w){let x=0;for(const H of w){if(H.path===R.path)return w.splice(x),H;x++}return R}}class io{}class Yr{constructor(R,w,x,H,re,fe,gt){this.injector=R,this.rootComponentType=w,this.config=x,this.urlTree=H,this.url=re,this.paramsInheritanceStrategy=fe,this.urlSerializer=gt}recognize(){const R=fo(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Tt).pipe((0,nt.U)(w=>{if(null===w)return null;const x=new hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new Xr(x,w),re=new ea(this.url,H);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(R){const w=R.value,x=Do(w,this.paramsInheritanceStrategy);w.params=Object.freeze(x.params),w.data=Object.freeze(x.data),R.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(R,w,x,H){return 0===x.segments.length&&x.hasChildren()?this.processChildren(R,w,x):this.processSegment(R,w,x,x.segments,H)}processChildren(R,w,x){return(0,g.D)(Object.keys(x.children)).pipe((0,Qe.b)(H=>{const re=x.children[H],fe=Di(w,H);return this.processSegmentGroup(R,fe,re,H)}),(0,ne.R)((H,re)=>H&&re?(H.push(...re),H):null),function _t(S,R=!1){return(0,qe.e)((w,x)=>{let H=0;w.subscribe((0,we.x)(x,re=>{const fe=S(re,H++);(fe||R)&&x.next(re),!fe&&x.complete()}))})}(H=>null!==H),(0,Ke.d)(null),Dt(),(0,nt.U)(H=>{if(null===H)return null;const re=Oa(H);return function Pa(S){S.sort((R,w)=>R.value.outlet===Tt?-1:w.value.outlet===Tt?1:R.value.outlet.localeCompare(w.value.outlet))}(re),re}))}processSegment(R,w,x,H,re){return(0,g.D)(w).pipe((0,Qe.b)(fe=>{var gt;return this.processSegmentAgainstRoute(null!==(gt=fe._injector)&&void 0!==gt?gt:R,fe,x,H,re)}),(0,Me.P)(fe=>!!fe),(0,We.K)(fe=>{if(li(fe))return Es(x,H,re)?(0,q.of)([]):(0,q.of)(null);throw fe}))}processSegmentAgainstRoute(R,w,x,H,re){if(w.redirectTo||!Qa(w,x,H,re))return(0,q.of)(null);let fe;if("**"===w.path){var gt,Nt;const wn=H.length>0?hn(H).parameters:{},mn=ka(x)+H.length,cn=new hs(H,wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ji(w),zi(w),null!==(gt=null!==(Nt=w.component)&&void 0!==Nt?Nt:w._loadedComponent)&&void 0!==gt?gt:null,w,Na(x),mn,F(w));fe=(0,q.of)({snapshot:cn,consumedSegments:[],remainingSegments:[]})}else fe=Us(x,w,H,R).pipe((0,nt.U)(({matched:wn,consumedSegments:mn,remainingSegments:cn,parameters:Rr})=>{var ws,Ks;if(!wn)return null;const as=ka(x)+mn.length;return{snapshot:new hs(mn,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ji(w),zi(w),null!==(ws=null!==(Ks=w.component)&&void 0!==Ks?Ks:w._loadedComponent)&&void 0!==ws?ws:null,w,Na(x),as,F(w)),consumedSegments:mn,remainingSegments:cn}}));return fe.pipe((0,Pe.w)(wn=>{var mn,cn;if(null===wn)return(0,q.of)(null);const{snapshot:Rr,consumedSegments:ws,remainingSegments:Ks}=wn;R=null!==(mn=w._injector)&&void 0!==mn?mn:R;const as=null!==(cn=w._loadedInjector)&&void 0!==cn?cn:R,As=function xo(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(w),{segmentGroup:_a,slicedSegments:ca}=fo(x,ws,Ks,As.filter(ps=>void 0===ps.redirectTo));if(0===ca.length&&_a.hasChildren())return this.processChildren(as,As,_a).pipe((0,nt.U)(ps=>null===ps?null:[new Xr(Rr,ps)]));if(0===As.length&&0===ca.length)return(0,q.of)([new Xr(Rr,[])]);const rl=zi(w)===re;return this.processSegment(as,As,_a,ca,rl?Tt:re).pipe((0,nt.U)(ps=>null===ps?null:[new Xr(Rr,ps)]))}))}}function yi(S){const R=S.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function Oa(S){const R=[],w=new Set;for(const x of S){if(!yi(x)){R.push(x);continue}const H=R.find(re=>x.value.routeConfig===re.value.routeConfig);void 0!==H?(H.children.push(...x.children),w.add(H)):R.push(x)}for(const x of w){const H=Oa(x.children);R.push(new Xr(x.value,H))}return R.filter(x=>!w.has(x))}function Na(S){let R=S;for(;R._sourceSegment;)R=R._sourceSegment;return R}function ka(S){var R;let w=S,x=null!==(R=w._segmentIndexShift)&&void 0!==R?R:0;for(;w._sourceSegment;){var H;w=w._sourceSegment,x+=null!==(H=w._segmentIndexShift)&&void 0!==H?H:0}return x-1}function Ji(S){return S.data||{}}function F(S){return S.resolve||{}}function $n(S){return"string"==typeof S.title||null===S.title}function Mr(S){return(0,Pe.w)(R=>{const w=S(R);return w?(0,g.D)(w).pipe((0,nt.U)(()=>R)):(0,q.of)(R)})}const tr=new y.OlP("ROUTES");let Tr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,q.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const x=jt(w.loadComponent()).pipe((0,nt.U)(fn),(0,mt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=re}),(0,Ue.x)(()=>{this.componentLoaders.delete(w)})),H=new Be.c(x,()=>new $e.x).pipe((0,je.x)());return this.componentLoaders.set(w,H),H}loadChildren(w,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,q.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const re=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,nt.U)(gt=>{this.onLoadEndListener&&this.onLoadEndListener(x);let Nt,wn,mn=!1;Array.isArray(gt)?wn=gt:(Nt=gt.create(w).injector,wn=Fn(Nt.get(tr,[],y.XFs.Self|y.XFs.Optional)));return{routes:wn.map(Ui),injector:Nt}}),(0,Ue.x)(()=>{this.childrenLoaders.delete(x)})),fe=new Be.c(re,()=>new $e.x).pipe((0,je.x)());return this.childrenLoaders.set(x,fe),fe}loadModuleFactoryOrRoutes(w){return jt(w()).pipe((0,nt.U)(fn),(0,He.z)(x=>x instanceof y.YKP||Array.isArray(x)?(0,q.of)(x):(0,g.D)(this.compiler.compileModuleAsync(x))))}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function fn(S){return function Qi(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let mo=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $e.x,this.configLoader=(0,y.f3M)(Tr),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Kr),this.rootContexts=(0,y.f3M)(Yi),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new zt(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new $t(H))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var x;const H=++this.navigationId;null===(x=this.transitions)||void 0===x||x.next({...this.transitions.value,...w,id:H})}setupNavigations(w){return this.transitions=new oe.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hi,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Q.h)(x=>0!==x.id),(0,nt.U)(x=>({...x,extractedUrl:w.urlHandlingStrategy.extract(x.rawUrl)})),(0,Pe.w)(x=>{let H=!1,re=!1;return(0,q.of)(x).pipe((0,mt.b)(fe=>{this.currentNavigation={id:fe.id,initialUrl:fe.rawUrl,extractedUrl:fe.extractedUrl,trigger:fe.source,extras:fe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(fe=>{var gt;const Nt=w.browserUrlTree.toString(),wn=!w.navigated||fe.extractedUrl.toString()!==Nt||Nt!==w.currentUrlTree.toString(),mn=null!==(gt=fe.extras.onSameUrlNavigation)&&void 0!==gt?gt:w.onSameUrlNavigation;if(!wn&&"reload"!==mn){const cn="";return this.events.next(new ue(fe.id,w.serializeUrl(x.rawUrl),cn,0)),w.rawUrlTree=fe.rawUrl,fe.resolve(null),Se.E}if(w.urlHandlingStrategy.shouldProcessUrl(fe.rawUrl))return gn(fe.source)&&(w.browserUrlTree=fe.extractedUrl),(0,q.of)(fe).pipe((0,Pe.w)(cn=>{var Rr,ws;const Ks=null===(Rr=this.transitions)||void 0===Rr?void 0:Rr.getValue();return this.events.next(new qr(cn.id,this.urlSerializer.serialize(cn.extractedUrl),cn.source,cn.restoredState)),Ks!==(null===(ws=this.transitions)||void 0===ws?void 0:ws.getValue())?Se.E:Promise.resolve(cn)}),function ma(S,R,w,x){return(0,Pe.w)(H=>function Rl(S,R,w,x,H){return new Ni(S,R,w,x,H).apply()}(S,R,w,H.extractedUrl,x).pipe((0,nt.U)(re=>({...H,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,mt.b)(cn=>{this.currentNavigation={...this.currentNavigation,finalUrl:cn.urlAfterRedirects},x.urlAfterRedirects=cn.urlAfterRedirects}),function J(S,R,w,x,H){return(0,He.z)(re=>function go(S,R,w,x,H,re,fe="emptyOnly"){return new Yr(S,R,w,x,H,fe,re).recognize().pipe((0,Pe.w)(gt=>null===gt?function fi(S){return new me.y(R=>R.error(S))}(new io):(0,q.of)(gt)))}(S,R,w,re.urlAfterRedirects,x.serialize(re.urlAfterRedirects),x,H).pipe((0,nt.U)(fe=>({...re,targetSnapshot:fe}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,mt.b)(cn=>{if(x.targetSnapshot=cn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const ws=w.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);w.setBrowserUrl(ws,cn)}w.browserUrlTree=cn.urlAfterRedirects}const Rr=new tt(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(Rr)}));if(wn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:cn,extractedUrl:Rr,source:ws,restoredState:Ks,extras:as}=fe,As=new qr(cn,this.urlSerializer.serialize(Rr),ws,Ks);this.events.next(As);const _a=Hs(Rr,this.rootComponentType).snapshot;return x={...fe,targetSnapshot:_a,urlAfterRedirects:Rr,extras:{...as,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(x)}{const cn="";return this.events.next(new ue(fe.id,w.serializeUrl(x.extractedUrl),cn,1)),w.rawUrlTree=fe.rawUrl,fe.resolve(null),Se.E}}),(0,mt.b)(fe=>{const gt=new be(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot);this.events.next(gt)}),(0,nt.U)(fe=>x={...fe,guards:Z(fe.targetSnapshot,fe.currentSnapshot,this.rootContexts)}),function ia(S,R){return(0,He.z)(w=>{const{targetSnapshot:x,currentSnapshot:H,guards:{canActivateChecks:re,canDeactivateChecks:fe}}=w;return 0===fe.length&&0===re.length?(0,q.of)({...w,guardsResult:!0}):function Aa(S,R,w,x){return(0,g.D)(S).pipe((0,He.z)(H=>function Ma(S,R,w,x,H){const re=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,q.of)(!0);const fe=re.map(gt=>{var Nt;const wn=null!==(Nt=is(R))&&void 0!==Nt?Nt:H,mn=K(gt,wn);return jt(function k(S){return S&&Cr(S.canDeactivate)}(mn)?mn.canDeactivate(S,R,w,x):wn.runInContext(()=>mn(S,R,w,x))).pipe((0,Me.P)())});return(0,q.of)(fe).pipe(Zn())}(H.component,H.route,w,R,x)),(0,Me.P)(H=>!0!==H,!0))}(fe,x,H,S).pipe((0,He.z)(gt=>gt&&function On(S){return"boolean"==typeof S}(gt)?function vs(S,R,w,x){return(0,g.D)(R).pipe((0,Qe.b)(H=>(0,De.z)(function Ya(S,R){return null!==S&&R&&R(new qt(S)),(0,q.of)(!0)}(H.route.parent,x),function ml(S,R){return null!==S&&R&&R(new Yn(S)),(0,q.of)(!0)}(H.route,x),function yl(S,R,w){const x=R[R.length-1],re=R.slice(0,R.length-1).reverse().map(fe=>function T(S){const R=S.routeConfig?S.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:S,guards:R}:null}(fe)).filter(fe=>null!==fe).map(fe=>(0,ye.P)(()=>{const gt=fe.guards.map(Nt=>{var wn;const mn=null!==(wn=is(fe.node))&&void 0!==wn?wn:w,cn=K(Nt,mn);return jt(function V(S){return S&&Cr(S.canActivateChild)}(cn)?cn.canActivateChild(x,S):mn.runInContext(()=>cn(x,S))).pipe((0,Me.P)())});return(0,q.of)(gt).pipe(Zn())}));return(0,q.of)(re).pipe(Zn())}(S,H.path,w),function Ts(S,R,w){const x=R.routeConfig?R.routeConfig.canActivate:null;if(!x||0===x.length)return(0,q.of)(!0);const H=x.map(re=>(0,ye.P)(()=>{var fe;const gt=null!==(fe=is(R))&&void 0!==fe?fe:w,Nt=K(re,gt);return jt(function z(S){return S&&Cr(S.canActivate)}(Nt)?Nt.canActivate(R,S):gt.runInContext(()=>Nt(R,S))).pipe((0,Me.P)())}));return(0,q.of)(H).pipe(Zn())}(S,H.route,w))),(0,Me.P)(H=>!0!==H,!0))}(x,re,S,R):(0,q.of)(gt)),(0,nt.U)(gt=>({...w,guardsResult:gt})))})}(this.environmentInjector,fe=>this.events.next(fe)),(0,mt.b)(fe=>{if(x.guardsResult=fe.guardsResult,Mt(fe.guardsResult))throw To(0,fe.guardsResult);const gt=new it(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot,!!fe.guardsResult);this.events.next(gt)}),(0,Q.h)(fe=>!!fe.guardsResult||(w.restoreHistory(fe),this.cancelNavigationTransition(fe,"",3),!1)),Mr(fe=>{if(fe.guards.canActivateChecks.length)return(0,q.of)(fe).pipe((0,mt.b)(gt=>{const Nt=new ot(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Nt)}),(0,Pe.w)(gt=>{let Nt=!1;return(0,q.of)(gt).pipe(function j(S,R){return(0,He.z)(w=>{const{targetSnapshot:x,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,q.of)(w);let re=0;return(0,g.D)(H).pipe((0,Qe.b)(fe=>function ae(S,R,w,x){const H=S.routeConfig,re=S._resolve;return void 0!==(null==H?void 0:H.title)&&!$n(H)&&(re[Ut]=H.title),function Ne(S,R,w,x){const H=function Lt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,q.of)({});const re={};return(0,g.D)(H).pipe((0,He.z)(fe=>function Qt(S,R,w,x){var H;const re=null!==(H=is(R))&&void 0!==H?H:x,fe=K(S,re);return jt(fe.resolve?fe.resolve(R,w):re.runInContext(()=>fe(R,w)))}(S[fe],R,w,x).pipe((0,Me.P)(),(0,mt.b)(gt=>{re[fe]=gt}))),rt(1),(0,ze.h)(re),(0,We.K)(fe=>li(fe)?Se.E:(0,Te._)(fe)))}(re,S,R,x).pipe((0,nt.U)(fe=>(S._resolvedData=fe,S.data=Do(S,w).resolve,H&&$n(H)&&(S.data[Ut]=H.title),null)))}(fe.route,x,S,R)),(0,mt.b)(()=>re++),rt(1),(0,He.z)(fe=>re===H.length?(0,q.of)(w):Se.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,mt.b)({next:()=>Nt=!0,complete:()=>{Nt||(w.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,mt.b)(gt=>{const Nt=new Rt(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Nt)}))}),Mr(fe=>{const gt=Nt=>{var wn;const mn=[];null!==(wn=Nt.routeConfig)&&void 0!==wn&&wn.loadComponent&&!Nt.routeConfig._loadedComponent&&mn.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,mt.b)(cn=>{Nt.component=cn}),(0,nt.U)(()=>{})));for(const cn of Nt.children)mn.push(...gt(cn));return mn};return(0,xe.a)(gt(fe.targetSnapshot.root)).pipe((0,Ke.d)(),(0,Ce.q)(1))}),Mr(()=>this.afterPreactivation()),(0,nt.U)(fe=>{const gt=function eo(S,R,w){const x=Bs(S,R._root,w?w._root:void 0);return new rs(x,R)}(w.routeReuseStrategy,fe.targetSnapshot,fe.currentRouterState);return x={...fe,targetRouterState:gt}}),(0,mt.b)(fe=>{w.currentUrlTree=fe.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(fe.urlAfterRedirects,fe.rawUrl),w.routerState=fe.targetRouterState,"deferred"===w.urlUpdateStrategy&&(fe.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,fe),w.browserUrlTree=fe.urlAfterRedirects)}),((S,R,w)=>(0,nt.U)(x=>(new ss(R,x.targetRouterState,x.currentRouterState,w).activate(S),x)))(this.rootContexts,w.routeReuseStrategy,fe=>this.events.next(fe)),(0,Ce.q)(1),(0,mt.b)({next:fe=>{var gt;H=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new gi(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),null===(gt=w.titleStrategy)||void 0===gt||gt.updateTitle(fe.targetRouterState.snapshot),fe.resolve(!0)},complete:()=>{H=!0}}),(0,Ue.x)(()=>{var fe;H||re||this.cancelNavigationTransition(x,"",1),(null===(fe=this.currentNavigation)||void 0===fe?void 0:fe.id)===x.id&&(this.currentNavigation=null)}),(0,We.K)(fe=>{if(re=!0,zs(fe)){Vo(fe)||(w.navigated=!0,w.restoreHistory(x,!0));const Nt=new Nr(x.id,this.urlSerializer.serialize(x.extractedUrl),fe.message,fe.cancellationCode);if(this.events.next(Nt),Vo(fe)){const wn=w.urlHandlingStrategy.merge(fe.url,w.rawUrlTree),mn={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||gn(x.source)};w.scheduleNavigation(wn,hi,null,mn,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{var gt;w.restoreHistory(x,!0);const Nt=new Ae(x.id,this.urlSerializer.serialize(x.extractedUrl),fe,null!==(gt=x.targetSnapshot)&&void 0!==gt?gt:void 0);this.events.next(Nt);try{x.resolve(w.errorHandler(fe))}catch(wn){x.reject(wn)}}return Se.E}))}))}cancelNavigationTransition(w,x,H){const re=new Nr(w.id,this.urlSerializer.serialize(w.extractedUrl),x,H);this.events.next(re),w.resolve(!1)}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function gn(S){return S!==hi}let kt=(()=>{class S{buildTitle(w){let x,H=w.root;for(;void 0!==H;){var re;x=null!==(re=this.getResolvedTitleForRoute(H))&&void 0!==re?re:x,H=H.children.find(fe=>fe.outlet===Tt)}return x}getResolvedTitleForRoute(w){return w.data[Ut]}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(tn)},providedIn:"root"}),S})(),tn=(()=>{class S extends kt{constructor(w){super(),this.title=w}updateTitle(w){const x=this.buildTitle(w);void 0!==x&&this.title.setTitle(x)}}return S.\u0275fac=function(w){return new(w||S)(y.LFG(yt.Dx))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),wi=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(el)},providedIn:"root"}),S})();class Ja{shouldDetach(R){return!1}store(R,w){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,w){return R.routeConfig===w.routeConfig}}let el=(()=>{class S extends Ja{}return S.\u0275fac=function(){let R;return function(x){return(R||(R=y.n5z(S)))(x||S)}}(),S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const tl=new y.OlP("",{providedIn:"root",factory:()=>({})});let bu=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(Jl)},providedIn:"root"}),S})(),Jl=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,x){return w}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function wc(S){throw S}function oa(S,R,w){return R.parse("/")}const qc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Po={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var w;if("computed"===this.canceledNavigationResolution)return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var w;this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(tl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(bu),this.routeReuseStrategy=(0,y.f3M)(wi),this.urlCreationStrategy=(0,y.f3M)(Ln),this.titleStrategy=(0,y.f3M)(kt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fn(null!==(w=(0,y.f3M)(tr,{optional:!0}))&&void 0!==w?w:[]),this.navigationTransitions=(0,y.f3M)(mo),this.urlSerializer=(0,y.f3M)(Kr),this.location=(0,y.f3M)(Ye.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(x=>{var H;this.lastSuccessfulId=x.id,this.currentPageId=null!==(H=this.browserPageId)&&void 0!==H?H:0},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const x="popstate"===w.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,x,w.state)},0)}))}navigateToSyncWithBrowser(w,x,H){const re={replaceUrl:!0},fe=null!=H&&H.navigationId?H:null;if(H){const Nt={...H};delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&(re.state=Nt)}const gt=this.parseUrl(w);this.scheduleNavigation(gt,x,fe,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,x={}){const{relativeTo:H,queryParams:re,fragment:fe,queryParamsHandling:gt,preserveFragment:Nt}=x,wn=Nt?this.currentUrlTree.fragment:fe;let mn=null;switch(gt){case"merge":mn={...this.currentUrlTree.queryParams,...re};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=re||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),this.urlCreationStrategy.createUrlTree(H,this.routerState,this.currentUrlTree,w,mn,null!=wn?wn:null)}navigateByUrl(w,x={skipLocationChange:!1}){const H=Mt(w)?w:this.parseUrl(w),re=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(re,hi,null,x)}navigate(w,x={skipLocationChange:!1}){return function ki(S){for(let R=0;R<S.length;R++){const w=S[R];if(null==w)throw new y.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,x),x)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let x;try{x=this.urlSerializer.parse(w)}catch(H){x=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return x}isActive(w,x){let H;if(H=!0===x?{...qc}:!1===x?{...Po}:x,Mt(w))return ar(this.currentUrlTree,w,H);const re=this.parseUrl(w);return ar(this.currentUrlTree,re,H)}removeEmptyProps(w){return Object.keys(w).reduce((x,H)=>{const re=w[H];return null!=re&&(x[H]=re),x},{})}scheduleNavigation(w,x,H,re,fe){if(this.disposed)return Promise.resolve(!1);let gt,Nt,wn,mn;if(fe?(gt=fe.resolve,Nt=fe.reject,wn=fe.promise):wn=new Promise((Rr,ws)=>{gt=Rr,Nt=ws}),"computed"===this.canceledNavigationResolution)if(H&&H.\u0275routerPageId)mn=H.\u0275routerPageId;else{var cn;mn=(null!==(cn=this.browserPageId)&&void 0!==cn?cn:0)+1}else mn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:mn,source:x,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:re,resolve:gt,reject:Nt,promise:wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wn.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(w,x){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||x.extras.replaceUrl){const fe={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(H,"",fe)}else{const re={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.go(H,"",re)}}restoreHistory(w,x=!1){if("computed"===this.canceledNavigationResolution){var H,re;const fe=null!==(H=this.browserPageId)&&void 0!==H?H:this.currentPageId,gt=this.currentPageId-fe;0!==gt?this.location.historyGo(gt):this.currentUrlTree===(null===(re=this.getCurrentNavigation())||void 0===re?void 0:re.finalUrl)&&0===gt&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,x){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:x}:{navigationId:w}}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Fa=(()=>{class S{constructor(w,x,H,re,fe,gt){var Nt;this.router=w,this.route=x,this.tabIndexAttribute=H,this.renderer=re,this.el=fe,this.locationStrategy=gt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $e.x;const wn=null===(Nt=fe.nativeElement.tagName)||void 0===Nt?void 0:Nt.toLowerCase();this.isAnchorElement="a"===wn||"area"===wn,this.isAnchorElement?this.subscription=w.events.subscribe(mn=>{mn instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,y.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,y.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,y.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,x,H,re,fe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||x||H||re||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const x=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",x)}applyAttributeValue(w,x){const H=this.renderer,re=this.el.nativeElement;null!==x?H.setAttribute(re,w,x):H.removeAttribute(re,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(w){return new(w||S)(y.Y36(or),y.Y36(jr),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ye.S$))},S.\u0275dir=y.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,x){1&w&&y.NdJ("click",function(re){return x.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&w&&y.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),S})(),Ti=(()=>{class S{get isActive(){return this._isActive}constructor(w,x,H,re,fe){this.router=w,this.element=x,this.renderer=H,this.cdr=re,this.link=fe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=w.events.subscribe(gt=>{gt instanceof gi&&this.update()})}ngAfterContentInit(){(0,q.of)(this.links.changes,(0,q.of)(null)).pipe((0,Et.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const x=[...this.links.toArray(),this.link].filter(H=>!!H).map(H=>H.onChanges);this.linkInputChangesSubscription=(0,g.D)(x).pipe((0,Et.J)()).subscribe(H=>{this._isActive!==this.isLinkActive(this.router)(H)&&this.update()})}set routerLinkActive(w){const x=Array.isArray(w)?w:w.split(" ");this.classes=x.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(x=>{w?this.renderer.addClass(this.element.nativeElement,x):this.renderer.removeClass(this.element.nativeElement,x)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const x=function gr(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,x)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}}return S.\u0275fac=function(w){return new(w||S)(y.Y36(or),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(Fa,8))},S.\u0275dir=y.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(w,x,H){if(1&w&&y.Suo(H,Fa,5),2&w){let re;y.iGM(re=y.CRH())&&(x.links=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),S})();class La{}let $i=(()=>{class S{constructor(w,x,H,re,fe){this.router=w,this.injector=H,this.preloadingStrategy=re,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Q.h)(w=>w instanceof gi),(0,Qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,x){const H=[];for(const Nt of x){var re,fe;Nt.providers&&!Nt._injector&&(Nt._injector=(0,y.MMx)(Nt.providers,w,`Route: ${Nt.path}`));const wn=null!==(re=Nt._injector)&&void 0!==re?re:w,mn=null!==(fe=Nt._loadedInjector)&&void 0!==fe?fe:wn;var gt;(Nt.loadChildren&&!Nt._loadedRoutes&&void 0===Nt.canLoad||Nt.loadComponent&&!Nt._loadedComponent)&&H.push(this.preloadConfig(wn,Nt)),(Nt.children||Nt._loadedRoutes)&&H.push(this.processRoutes(mn,null!==(gt=Nt.children)&&void 0!==gt?gt:Nt._loadedRoutes))}return(0,g.D)(H).pipe((0,Et.J)())}preloadConfig(w,x){return this.preloadingStrategy.preload(x,()=>{let H;H=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(w,x):(0,q.of)(null);const re=H.pipe((0,He.z)(fe=>{var gt;return null===fe?(0,q.of)(void 0):(x._loadedRoutes=fe.routes,x._loadedInjector=fe.injector,this.processRoutes(null!==(gt=fe.injector)&&void 0!==gt?gt:w,fe.routes))}));if(x.loadComponent&&!x._loadedComponent){const fe=this.loader.loadComponent(x);return(0,g.D)([re,fe]).pipe((0,Et.J)())}return re})}}return S.\u0275fac=function(w){return new(w||S)(y.LFG(or),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(La),y.LFG(Tr))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Nn=new y.OlP("");let Is=(()=>{class S{constructor(w,x,H,re,fe={}){this.urlSerializer=w,this.transitions=x,this.viewportScroller=H,this.zone=re,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof gi&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ze&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ze(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){var w,x;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(x=this.scrollEventsSubscription)||void 0===x||x.unsubscribe()}}return S.\u0275fac=function(w){y.$Z()},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac}),S})();var es=(()=>((es=es||{})[es.COMPLETE=0]="COMPLETE",es[es.FAILED=1]="FAILED",es[es.REDIRECTING=2]="REDIRECTING",es))();const Oo=!1;function Ol(S,...R){return(0,y.MR2)([{provide:tr,multi:!0,useValue:S},Oo?{provide:Ba,useValue:!0}:[],{provide:jr,useFactory:aa,deps:[or]},{provide:y.tb,multi:!0,useFactory:Nl},R.map(w=>w.\u0275providers)])}function aa(S){return S.routerState.root}function os(S,R){return{\u0275kind:S,\u0275providers:R}}const Ba=new y.OlP("",{providedIn:"root",factory:()=>!1});function Nl(){const S=(0,y.f3M)(y.zs3);return R=>{var w,x;const H=S.get(y.z2F);if(R!==H.components[0])return;const re=S.get(or),fe=S.get(nl);1===S.get(_o)&&re.initialNavigation(),null===(w=S.get(Ws,null,y.XFs.Optional))||void 0===w||w.setUpPreloading(),null===(x=S.get(Nn,null,y.XFs.Optional))||void 0===x||x.init(),re.resetRootComponentType(H.componentTypes[0]),fe.closed||(fe.next(),fe.complete(),fe.unsubscribe())}}const nl=new y.OlP(Oo?"bootstrap done indicator":"",{factory:()=>new $e.x}),_o=new y.OlP(Oo?"initial navigation":"",{providedIn:"root",factory:()=>1});function kl(){let S=[];return S=Oo?[{provide:y.Xts,multi:!0,useFactory:()=>{const R=(0,y.f3M)(or);return()=>R.events.subscribe(w=>{var x,H,re,fe;null===(x=(H=console).group)||void 0===x||x.call(H,`Router Event: ${w.constructor.name}`),console.log(function at(S){var R,w,x,H;if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${(null===(R=S.snapshot.routeConfig)||void 0===R?void 0:R.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(w=S.snapshot.routeConfig)||void 0===w?void 0:w.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(x=S.snapshot.routeConfig)||void 0===x?void 0:x.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(H=S.snapshot.routeConfig)||void 0===H?void 0:H.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(w)),console.log(w),null===(re=(fe=console).groupEnd)||void 0===re||re.call(fe)})}}]:[],os(1,S)}const Ws=new y.OlP(Oo?"router preloader":"");function sf(S){return os(0,[{provide:Ws,useExisting:$i},{provide:La,useExisting:S}])}const Wo=!1,Fl=new y.OlP(Wo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),sh=[Ye.Ye,{provide:Kr,useClass:Ri},or,Yi,{provide:jr,useFactory:aa,deps:[or]},Tr,Wo?{provide:Ba,useValue:!0}:[]];function ad(){return new y.PXZ("Router",or)}let No=(()=>{class S{constructor(w){}static forRoot(w,x){return{ngModule:S,providers:[sh,Wo&&null!=x&&x.enableTracing?kl().\u0275providers:[],{provide:tr,multi:!0,useValue:w},{provide:Fl,useFactory:pi,deps:[[or,new y.FiY,new y.tp0]]},{provide:tl,useValue:x||{}},null!=x&&x.useHash?{provide:Ye.S$,useClass:Ye.Do}:{provide:Ye.S$,useClass:Ye.b0},{provide:Nn,useFactory:()=>{const S=(0,y.f3M)(Ye.EM),R=(0,y.f3M)(y.R0b),w=(0,y.f3M)(tl),x=(0,y.f3M)(mo),H=(0,y.f3M)(Kr);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Is(H,x,S,R,w)}},null!=x&&x.preloadingStrategy?sf(x.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:ad},null!=x&&x.initialNavigation?bc(x):[],[{provide:$a,useFactory:Nl},{provide:y.tb,multi:!0,useExisting:$a}]]}}static forChild(w){return{ngModule:S,providers:[{provide:tr,multi:!0,useValue:w}]}}}return S.\u0275fac=function(w){return new(w||S)(y.LFG(Fl,8))},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({imports:[no]}),S})();function pi(S){if(Wo&&S)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bc(S){return["disabled"===S.initialNavigation?os(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const R=(0,y.f3M)(or);return()=>{R.setUpLocationChangeListener()}}},{provide:_o,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?os(2,[{provide:_o,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:R=>{const w=R.get(Ye.V_,Promise.resolve());return()=>w.then(()=>new Promise(x=>{const H=R.get(or),re=R.get(nl);(function Go(S,R){S.events.pipe((0,Q.h)(w=>w instanceof gi||w instanceof Nr||w instanceof Ae||w instanceof ue),(0,nt.U)(w=>w instanceof gi||w instanceof ue?es.COMPLETE:w instanceof Nr&&(0===w.code||1===w.code)?es.REDIRECTING:es.FAILED),(0,Q.h)(w=>w!==es.REDIRECTING),(0,Ce.q)(1)).subscribe(()=>{R()})})(H,()=>{x(!0)}),R.get(mo).afterPreactivation=()=>(x(!0),re.closed?(0,q.of)(void 0):re),H.initialNavigation()}))}}]).\u0275providers:[]]}const $a=new y.OlP(Wo?"Router Initializer":"")},3942:(an,lt,L)=>{"use strict";L.d(lt,{Z:()=>Ye});var y=L(2090),g=L(4859),q=L(9681),oe=L(1877);class Re{constructor(Pe,Ce){this._delegate=Pe,this.firebase=Ce,(0,q._addComponent)(Pe,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Pe,Ce=q._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Q=this._delegate.container.getProvider(Pe);return!Q.isInitialized()&&"EXPLICIT"===(null===(ce=Q.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Q.initialize(),Q.getImmediate({identifier:Ce})}_removeServiceInstance(Pe,Ce=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Ce)}_addComponent(Pe){(0,q._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,q._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function Fe(){const nt=function ye(nt){const Pe={},Ce={__esModule:!0,initializeApp:function He(We,ne={}){const qe=q.initializeApp(We,ne);if((0,y.r3)(Pe,qe.name))return Pe[qe.name];const we=new nt(qe,Ce);return Pe[qe.name]=we,we},app:Q,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function Qe(We){const ne=We.name,qe=ne.replace("-compat","");if(q._registerComponent(We)&&"PUBLIC"===We.type){const we=(rt=Q())=>{if("function"!=typeof rt[qe])throw De.create("invalid-app-argument",{appName:ne});return rt[qe]()};void 0!==We.serviceProps&&(0,y.ZB)(we,We.serviceProps),Ce[qe]=we,nt.prototype[qe]=function(...rt){return this._getService.bind(this,ne).apply(this,We.multipleInstances?rt:[])}}return"PUBLIC"===We.type?Ce[qe]:null},removeApp:function ce(We){delete Pe[We]},useAsService:function mt(We,ne){return"serverAuth"===ne?null:ne},modularAPIs:q}};function Q(We){if(!(0,y.r3)(Pe,We=We||q._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:We});return Pe[We]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Me(){return Object.keys(Pe).map(We=>Pe[We])}}),Q.App=nt,Ce}(Re);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Pe(Ce){(0,y.ZB)(nt,Ce)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),nt}(),me=new oe.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=Te;!function $e(nt){(0,q.registerVersion)("@firebase/app-compat","0.2.8",nt)}()},9681:(an,lt,L)=>{"use strict";L.r(lt),L.d(lt,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>hn,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>Tt,_addOrOverwriteComponent:()=>Ut,_apps:()=>Et,_clearComponents:()=>At,_components:()=>yt,_getProvider:()=>St,_registerComponent:()=>vn,_removeServiceInstance:()=>ct,deleteApp:()=>Or,getApp:()=>In,getApps:()=>jt,initializeApp:()=>Kt,onLog:()=>ar,registerVersion:()=>dn,setLogLevel:()=>Zr});var y=L(5861),g=L(4859),q=L(1877),oe=L(2090),Re=L(8766);class xe{constructor(Ht){this.container=Ht}getPlatformInfoString(){return this.container.getProviders().map(En=>{if(function De(ln){const Ht=ln.getComponent();return"VERSION"===(null==Ht?void 0:Ht.type)}(En)){const Vn=En.getImmediate();return`${Vn.library}/${Vn.version}`}return null}).filter(En=>En).join(" ")}}const ye="@firebase/app",Te=new q.Yd("@firebase/app"),Ue="[DEFAULT]",je={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,yt=new Map;function Tt(ln,Ht){try{ln.container.addComponent(Ht)}catch(En){Te.debug(`Component ${Ht.name} failed to register with FirebaseApp ${ln.name}`,En)}}function Ut(ln,Ht){ln.container.addOrOverwriteComponent(Ht)}function vn(ln){const Ht=ln.name;if(yt.has(Ht))return Te.debug(`There were multiple attempts to register component ${Ht}.`),!1;yt.set(Ht,ln);for(const En of Et.values())Tt(En,ln);return!0}function St(ln,Ht){const En=ln.container.getProvider("heartbeat").getImmediate({optional:!0});return En&&En.triggerHeartbeat(),ln.container.getProvider(Ht)}function ct(ln,Ht,En=Ue){St(ln,Ht).clearInstance(En)}function At(){yt.clear()}const bn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(Ht,En,Vn){this._isDeleted=!1,this._options=Object.assign({},Ht),this._config=Object.assign({},En),this._name=En.name,this._automaticDataCollectionEnabled=En.automaticDataCollectionEnabled,this._container=Vn,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ht){this._isDeleted=Ht}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const hn="9.20.0";function Kt(ln,Ht={}){let En=ln;"object"!=typeof Ht&&(Ht={name:Ht});const Vn=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Ht),Gn=Vn.name;if("string"!=typeof Gn||!Gn)throw bn.create("bad-app-name",{appName:String(Gn)});if(En||(En=(0,oe.aH)()),!En)throw bn.create("no-options");const fr=Et.get(Gn);if(fr){if((0,oe.vZ)(En,fr.options)&&(0,oe.vZ)(Vn,fr.config))return fr;throw bn.create("duplicate-app",{appName:Gn})}const Ar=new g.H0(Gn);for(const Ve of yt.values())Ar.addComponent(Ve);const Je=new Fn(En,Vn,Ar);return Et.set(Gn,Je),Je}function In(ln=Ue){const Ht=Et.get(ln);if(!Ht&&ln===Ue)return Kt();if(!Ht)throw bn.create("no-app",{appName:ln});return Ht}function jt(){return Array.from(Et.values())}function Or(ln){return jn.apply(this,arguments)}function jn(){return(jn=(0,y.Z)(function*(ln){const Ht=ln.name;Et.has(Ht)&&(Et.delete(Ht),yield Promise.all(ln.container.getProviders().map(En=>En.delete())),ln.isDeleted=!0)})).apply(this,arguments)}function dn(ln,Ht,En){var Vn;let Gn=null!==(Vn=je[ln])&&void 0!==Vn?Vn:ln;En&&(Gn+=`-${En}`);const fr=Gn.match(/\s|\//),Ar=Ht.match(/\s|\//);if(fr||Ar){const Je=[`Unable to register library "${Gn}" with version "${Ht}":`];return fr&&Je.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),fr&&Ar&&Je.push("and"),Ar&&Je.push(`version name "${Ht}" contains illegal characters (whitespace or "/")`),void Te.warn(Je.join(" "))}vn(new g.wA(`${Gn}-version`,()=>({library:Gn,version:Ht}),"VERSION"))}function ar(ln,Ht){if(null!==ln&&"function"!=typeof ln)throw bn.create("invalid-log-argument");(0,q.Am)(ln,Ht)}function Zr(ln){(0,q.Ub)(ln)}const Er="firebase-heartbeat-database",Ci=1,zr="firebase-heartbeat-store";let mr=null;function hr(){return mr||(mr=(0,Re.X3)(Er,Ci,{upgrade:(ln,Ht)=>{0===Ht&&ln.createObjectStore(zr)}}).catch(ln=>{throw bn.create("idb-open",{originalErrorMessage:ln.message})})),mr}function sn(){return(sn=(0,y.Z)(function*(ln){try{return(yield hr()).transaction(zr).objectStore(zr).get(dr(ln))}catch(Ht){if(Ht instanceof oe.ZR)Te.warn(Ht.message);else{const En=bn.create("idb-get",{originalErrorMessage:null==Ht?void 0:Ht.message});Te.warn(En.message)}}})).apply(this,arguments)}function xr(ln,Ht){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,y.Z)(function*(ln,Ht){try{const Vn=(yield hr()).transaction(zr,"readwrite");return yield Vn.objectStore(zr).put(Ht,dr(ln)),Vn.done}catch(En){if(En instanceof oe.ZR)Te.warn(En.message);else{const Vn=bn.create("idb-set",{originalErrorMessage:null==En?void 0:En.message});Te.warn(Vn.message)}}})).apply(this,arguments)}function dr(ln){return`${ln.name}!${ln.options.appId}`}class Ri{constructor(Ht){this.container=Ht,this._heartbeatsCache=null;const En=this.container.getProvider("app").getImmediate();this._storage=new rr(En),this._heartbeatsCachePromise=this._storage.read().then(Vn=>(this._heartbeatsCache=Vn,Vn))}triggerHeartbeat(){var Ht=this;return(0,y.Z)(function*(){const Vn=Ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gn=_r();if(null===Ht._heartbeatsCache&&(Ht._heartbeatsCache=yield Ht._heartbeatsCachePromise),Ht._heartbeatsCache.lastSentHeartbeatDate!==Gn&&!Ht._heartbeatsCache.heartbeats.some(fr=>fr.date===Gn))return Ht._heartbeatsCache.heartbeats.push({date:Gn,agent:Vn}),Ht._heartbeatsCache.heartbeats=Ht._heartbeatsCache.heartbeats.filter(fr=>{const Ar=new Date(fr.date).valueOf();return Date.now()-Ar<=2592e6}),Ht._storage.overwrite(Ht._heartbeatsCache)})()}getHeartbeatsHeader(){var Ht=this;return(0,y.Z)(function*(){if(null===Ht._heartbeatsCache&&(yield Ht._heartbeatsCachePromise),null===Ht._heartbeatsCache||0===Ht._heartbeatsCache.heartbeats.length)return"";const En=_r(),{heartbeatsToSend:Vn,unsentEntries:Gn}=function Qr(ln,Ht=1024){const En=[];let Vn=ln.slice();for(const Gn of ln){const fr=En.find(Ar=>Ar.agent===Gn.agent);if(fr){if(fr.dates.push(Gn.date),Ii(En)>Ht){fr.dates.pop();break}}else if(En.push({agent:Gn.agent,dates:[Gn.date]}),Ii(En)>Ht){En.pop();break}Vn=Vn.slice(1)}return{heartbeatsToSend:En,unsentEntries:Vn}}(Ht._heartbeatsCache.heartbeats),fr=(0,oe.L)(JSON.stringify({version:2,heartbeats:Vn}));return Ht._heartbeatsCache.lastSentHeartbeatDate=En,Gn.length>0?(Ht._heartbeatsCache.heartbeats=Gn,yield Ht._storage.overwrite(Ht._heartbeatsCache)):(Ht._heartbeatsCache.heartbeats=[],Ht._storage.overwrite(Ht._heartbeatsCache)),fr})()}}function _r(){return(new Date).toISOString().substring(0,10)}class rr{constructor(Ht){this.app=Ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ht=this;return(0,y.Z)(function*(){return(yield Ht._canUseIndexedDBPromise)&&(yield function Cn(ln){return sn.apply(this,arguments)}(Ht.app))||{heartbeats:[]}})()}overwrite(Ht){var En=this;return(0,y.Z)(function*(){var Vn;if(yield En._canUseIndexedDBPromise){const fr=yield En.read();return xr(En.app,{lastSentHeartbeatDate:null!==(Vn=Ht.lastSentHeartbeatDate)&&void 0!==Vn?Vn:fr.lastSentHeartbeatDate,heartbeats:Ht.heartbeats})}})()}add(Ht){var En=this;return(0,y.Z)(function*(){var Vn;if(yield En._canUseIndexedDBPromise){const fr=yield En.read();return xr(En.app,{lastSentHeartbeatDate:null!==(Vn=Ht.lastSentHeartbeatDate)&&void 0!==Vn?Vn:fr.lastSentHeartbeatDate,heartbeats:[...fr.heartbeats,...Ht.heartbeats]})}})()}}function Ii(ln){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ln})).length}!function Jn(ln){vn(new g.wA("platform-logger",Ht=>new xe(Ht),"PRIVATE")),vn(new g.wA("heartbeat",Ht=>new Ri(Ht),"PRIVATE")),dn(ye,"0.9.8",ln),dn(ye,"0.9.8","esm2017"),dn("fire-js","")}("")},4859:(an,lt,L)=>{"use strict";L.d(lt,{H0:()=>ye,wA:()=>q,zt:()=>Re});var y=L(5861),g=L(2090);class q{constructor(Te,me,Se){this.name=Te,this.instanceFactory=me,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const oe="[DEFAULT]";class Re{constructor(Te,me){this.name=Te,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const me=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(me)){const Se=new g.BH;if(this.instancesDeferred.set(me,Se),this.isInitialized(me)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:me});Be&&Se.resolve(Be)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(Te){var me;const Se=this.normalizeInstanceIdentifier(null==Te?void 0:Te.identifier),Be=null!==(me=null==Te?void 0:Te.optional)&&void 0!==me&&me;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch($e){if(Be)return null;throw $e}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function De(Fe){return"EAGER"===Fe.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[me,Se]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(me);try{const $e=this.getOrInitializeService({instanceIdentifier:Be});Se.resolve($e)}catch{}}}}clearInstance(Te=oe){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,y.Z)(function*(){const me=Array.from(Te.instances.values());yield Promise.all([...me.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...me.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=oe){return this.instances.has(Te)}getOptions(Te=oe){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:me={}}=Te,Se=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Se,options:me});for(const[$e,Ye]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier($e)&&Ye.resolve(Be);return Be}onInit(Te,me){var Se;const Be=this.normalizeInstanceIdentifier(me),$e=null!==(Se=this.onInitCallbacks.get(Be))&&void 0!==Se?Se:new Set;$e.add(Te),this.onInitCallbacks.set(Be,$e);const Ye=this.instances.get(Be);return Ye&&Te(Ye,Be),()=>{$e.delete(Te)}}invokeOnInitCallbacks(Te,me){const Se=this.onInitCallbacks.get(me);if(Se)for(const Be of Se)try{Be(Te,me)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:me={}}){let Se=this.instances.get(Te);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=Te,Fe===oe?void 0:Fe),options:me}),this.instances.set(Te,Se),this.instancesOptions.set(Te,me),this.invokeOnInitCallbacks(Se,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Se)}catch{}var Fe;return Se||null}normalizeInstanceIdentifier(Te=oe){return this.component?this.component.multipleInstances?Te:oe:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const me=this.getProvider(Te.name);if(me.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);me.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const me=new Re(Te,this);return this.providers.set(Te,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(an,lt,L)=>{"use strict";L.d(lt,{Am:()=>Fe,Ub:()=>ye,Yd:()=>De,in:()=>g});const y=[];var g=(()=>{return(Te=g||(g={}))[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",g;var Te})();const q={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},oe=g.INFO,Re={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},xe=(Te,me,...Se)=>{if(me<Te.logLevel)return;const Be=(new Date).toISOString(),$e=Re[me];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[$e](`[${Be}]  ${Te.name}:`,...Se)};class De{constructor(me){this.name=me,this._logLevel=oe,this._logHandler=xe,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in g))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?q[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...me),this._logHandler(this,g.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...me),this._logHandler(this,g.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,g.INFO,...me),this._logHandler(this,g.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,g.WARN,...me),this._logHandler(this,g.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...me),this._logHandler(this,g.ERROR,...me)}}function ye(Te){y.forEach(me=>{me.setLogLevel(Te)})}function Fe(Te,me){for(const Se of y){let Be=null;me&&me.level&&(Be=q[me.level]),Se.userLogHandler=null===Te?null:($e,Ye,...nt)=>{const Pe=nt.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");Ye>=(null!=Be?Be:$e.logLevel)&&Te({level:g[Ye].toLowerCase(),message:Pe,args:nt,type:$e.name})}}}},2879:(an,lt,L)=>{"use strict";L.d(lt,{dr:()=>Zr,YG:()=>sn,Sm:()=>xr,W2:()=>Ii,fr:()=>Gn,Gu:()=>Ar,gu:()=>Je,pK:()=>de,Ie:()=>ht,Q$:()=>Yt,uN:()=>ds,d8:()=>si,jP:()=>To,PQ:()=>Nr,wd:()=>Rt,sr:()=>qt,Pc:()=>Mo,r4:()=>Di,Fo:()=>ys,j9:()=>bn,yF:()=>jo});var y=L(5861),g=L(4650),q=L(4006),oe=L(655),Re=L(4968),xe=L(7579),De=L(1135),ye=L(6159),Be=(L(9613),L(5158),L(3175),L(1898),L(6406)),$e=L(3577),Ye=L(3982),nt=L(2998),Ce=(L(3354),L(1397)),He=(L(3457),L(4349),L(9816)),Qe=L(9300),mt=L(3900),We=L(1884),ne=L(6895);const we=Be.i,Ke=["*"];function Ue(D,Z){if(1&D&&g.GkF(0,1),2&D){const T=g.oxw();g.Q6J("ngTemplateOutlet",T.template)}}const je=D=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(D):"function"==typeof requestAnimationFrame?requestAnimationFrame(D):setTimeout(D);let Et=(()=>{class D{constructor(T,K){this.injector=T,this.el=K,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,yt(this.el)}handleValueChange(T,K){T===this.el.nativeElement&&(K!==this.lastValue&&(this.lastValue=K,this.onChange(K)),yt(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),yt(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(q.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>yt(this.el)));const K=T.control;K&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Xt=>{if(typeof K[Xt]<"u"){const Bn=K[Xt].bind(K);K[Xt]=(...Kn)=>{Bn(...Kn),yt(this.el)}}})}}return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.zs3),g.Y36(g.SBq))},D.\u0275dir=g.lG2({type:D,hostBindings:function(T,K){1&T&&g.NdJ("ionBlur",function(Xt){return K._handleBlurEvent(Xt.target)})}}),D})();const yt=D=>{je(()=>{const Z=D.nativeElement,T=null!=Z.value&&Z.value.toString().length>0,K=Tt(Z);Ut(Z,K);const Ee=Z.closest("ion-item");Ee&&Ut(Ee,T?[...K,"item-has-value"]:K)})},Tt=D=>{const Z=D.classList,T=[];for(let K=0;K<Z.length;K++){const Ee=Z.item(K);null!==Ee&&vn(Ee,"ng-")&&T.push(`ion-${Ee.substring(3)}`)}return T},Ut=(D,Z)=>{const T=D.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...Z)},vn=(D,Z)=>D.substring(0,Z.length)===Z;let bn=(()=>{class D extends Et{constructor(T,K){super(T,K)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.zs3),g.Y36(g.SBq))},D.\u0275dir=g.lG2({type:D,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,K){1&T&&g.NdJ("ionInput",function(Xt){return K._handleInputEvent(Xt.target)})},features:[g._Bn([{provide:q.JU,useExisting:D,multi:!0}]),g.qOj]}),D})();const Fn=(D,Z)=>{const T=D.prototype;Z.forEach(K=>{Object.defineProperty(T,K,{get(){return this.el[K]},set(Ee){this.z.runOutsideAngular(()=>this.el[K]=Ee)}})})},hn=(D,Z)=>{const T=D.prototype;Z.forEach(K=>{T[K]=function(){const Ee=arguments;return this.z.runOutsideAngular(()=>this.el[K].apply(this.el,Ee))}})},Kt=(D,Z,T)=>{T.forEach(K=>D[K]=(0,Re.R)(Z,K))};function jt(D){return function(T){const{defineCustomElementFn:K,inputs:Ee,methods:Xt}=D;return void 0!==K&&K(),Ee&&Fn(T,Ee),Xt&&hn(T,Xt),T}}let Zr=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-app"]],ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({})],D),D})(),sn=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement,Kt(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],D),D})(),xr=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["collapse"]})],D),D})(),Ii=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement,Kt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],D),D})(),Gn=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["collapse","mode","translucent"]})],D),D})(),Ar=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["collapse","mode","translucent"]})],D),D})(),Je=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],D),D})(),de=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement,Kt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],D),D})(),ht=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],D),D})(),Yt=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","mode","position"]})],D),D})(),ds=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","mode"]})],D),D})(),Nr=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","duration","name","paused"]})],D),D})(),Rt=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","size"]})],D),D})(),qt=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,T.detach(),this.el=K.nativeElement}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ke,decls:1,vars:0,template:function(T,K){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["color","mode"]})],D),D})(),pn=(()=>{class D{get(T,K){const Ee=ir();return Ee?Ee.get(T,K):null}getBoolean(T,K){const Ee=ir();return!!Ee&&Ee.getBoolean(T,K)}getNumber(T,K){const Ee=ir();return Ee?Ee.getNumber(T,K):0}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Yn=new g.OlP("USERCONFIG"),ir=()=>{if(typeof window<"u"){const D=window.Ionic;if(null!=D&&D.config)return D.config}return null};let Ze=(()=>{class D{constructor(T,K){this.doc=T,this.backButton=new xe.x,this.keyboardDidShow=new xe.x,this.keyboardDidHide=new xe.x,this.pause=new xe.x,this.resume=new xe.x,this.resize=new xe.x,K.run(()=>{var Ee;let Xt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(Bn,Kn){return this.subscribe(Cr=>Cr.register(Bn,On=>K.run(()=>Kn(On))))},wt(this.pause,T,"pause"),wt(this.resume,T,"resume"),wt(this.backButton,T,"ionBackButton"),wt(this.resize,this.win,"resize"),wt(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),wt(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Bn=>{Xt=Bn}),null!==(Ee=this.win)&&void 0!==Ee&&Ee.cordova?T.addEventListener("deviceready",()=>{Xt("cordova")},{once:!0}):Xt("dom")})}is(T){return(0,Be.a)(this.win,T)}platforms(){return(0,Be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return at(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,K;return null===(T=(K=this.win).matchMedia)||void 0===T?void 0:T.call(K,"(orientation: portrait)").matches}testUserAgent(T){const K=this.win.navigator;return!!(null!=K&&K.userAgent&&K.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return D.\u0275fac=function(T){return new(T||D)(g.LFG(ne.K0),g.LFG(g.R0b))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const at=(D,Z)=>{Z=Z.replace(/[[\]\\]/g,"\\$&");const K=new RegExp("[\\?&]"+Z+"=([^&#]*)").exec(D);return K?decodeURIComponent(K[1].replace(/\+/g," ")):null},wt=(D,Z,T)=>{Z&&Z.addEventListener(T,K=>{D.next(null!=K?K.detail:void 0)})};let Wt=(()=>{class D{constructor(T,K,Ee,Xt){this.location=K,this.serializer=Ee,this.router=Xt,this.direction=Ln,this.animated=er,this.guessDirection="forward",this.lastNavId=-1,Xt&&Xt.events.subscribe(Bn=>{if(Bn instanceof ye.OD){const Kn=Bn.restoredState?Bn.restoredState.navigationId:Bn.id;this.guessDirection=Kn<this.lastNavId?"back":"forward",this.guessAnimation=Bn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Bn.id:Kn}}),T.backButton.subscribeWithPriority(0,Bn=>{this.pop(),Bn()})}navigateForward(T,K={}){return this.setDirection("forward",K.animated,K.animationDirection,K.animation),this.navigate(T,K)}navigateBack(T,K={}){return this.setDirection("back",K.animated,K.animationDirection,K.animation),this.navigate(T,K)}navigateRoot(T,K={}){return this.setDirection("root",K.animated,K.animationDirection,K.animation),this.navigate(T,K)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,y.Z)(function*(){let K=T.topOutlet;for(;K&&!(yield K.pop());)K=K.parentOutlet})()}setDirection(T,K,Ee,Xt){this.direction=T,this.animated=on(T,K,Ee),this.animationBuilder=Xt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let K,T="root";const Ee=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,K=this.guessAnimation):(K=this.animated,T=this.direction),this.direction=Ln,this.animated=er,this.animationBuilder=void 0,{direction:T,animation:K,animationBuilder:Ee}}navigate(T,K){if(Array.isArray(T))return this.router.navigate(T,K);{const Ee=this.serializer.parse(T.toString());return void 0!==K.queryParams&&(Ee.queryParams={...K.queryParams}),void 0!==K.fragment&&(Ee.fragment=K.fragment),this.router.navigateByUrl(Ee,K)}}}return D.\u0275fac=function(T){return new(T||D)(g.LFG(Ze),g.LFG(ne.Ye),g.LFG(ye.Hx),g.LFG(ye.F0,8))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const on=(D,Z,T)=>{if(!1!==Z){if(void 0!==T)return T;if("forward"===D||"back"===D)return D;if("root"===D&&!0===Z)return"forward"}},Ln="auto",er=void 0;class sr{constructor(Z={}){this.data=Z}get(Z){return this.data[Z]}}let Br=(()=>{class D{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(T,K,Ee){return new Xr(T,K,this.applicationRef,this.zone,Ee)}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})();class Xr{constructor(Z,T,K,Ee,Xt){this.environmentInjector=Z,this.injector=T,this.applicationRef=K,this.zone=Ee,this.elementReferenceKey=Xt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Z,T,K,Ee){return this.zone.run(()=>new Promise(Xt=>{const Bn={...K};void 0!==this.elementReferenceKey&&(Bn[this.elementReferenceKey]=Z),Xt(mi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Z,T,Bn,Ee))}))}removeViewFromDom(Z,T){return this.zone.run(()=>new Promise(K=>{const Ee=this.elRefMap.get(T);if(Ee){Ee.destroy(),this.elRefMap.delete(T);const Xt=this.elEventsMap.get(T);Xt&&(Xt(),this.elEventsMap.delete(T))}K()}))}}const mi=(D,Z,T,K,Ee,Xt,Bn,Kn,Cr,On)=>{const Gi=g.zs3.create({providers:jr(Cr),parent:T}),z=(0,g.LMc)(Kn,{environmentInjector:Z,elementInjector:Gi}),V=z.instance,k=z.location.nativeElement;if(Cr&&Object.assign(V,Cr),On)for(const Ot of On)k.classList.add(Ot);const le=Hs(D,V,k);return Bn.appendChild(k),K.attachView(z.hostView),Ee.set(k,z),Xt.set(k,le),k},rs=[nt.L,nt.a,nt.b,nt.c,nt.d],Hs=(D,Z,T)=>D.run(()=>{const K=rs.filter(Ee=>"function"==typeof Z[Ee]).map(Ee=>{const Xt=Bn=>Z[Ee](Bn.detail);return T.addEventListener(Ee,Xt),()=>T.removeEventListener(Ee,Xt)});return()=>K.forEach(Ee=>Ee())}),Ls=new g.OlP("NavParamsToken"),jr=D=>[{provide:Ls,useValue:D},{provide:sr,useFactory:Do,deps:[Ls]}],Do=D=>new sr(D),hs=(D,Z)=>((D=D.filter(T=>T.stackId!==Z.stackId)).push(Z),D),uo=(D,Z)=>{const T=D.createUrlTree(["."],{relativeTo:Z});return D.serializeUrl(T)},ta=(D,Z)=>{if(!D)return;const T=eo(Z);for(let K=0;K<T.length;K++){if(K>=D.length)return T[K];if(T[K]!==D[K])return}},eo=D=>D.split("/").map(Z=>Z.trim()).filter(Z=>""!==Z),Bs=D=>{D&&(D.ref.destroy(),D.unlistenEvents())};class Uo{constructor(Z,T,K,Ee,Xt,Bn){this.containerEl=T,this.router=K,this.navCtrl=Ee,this.zone=Xt,this.location=Bn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Z?eo(Z):void 0}createView(Z,T){var K;const Ee=uo(this.router,T),Xt=null==Z||null===(K=Z.location)||void 0===K?void 0:K.nativeElement,Bn=Hs(this.zone,Z.instance,Xt);return{id:this.nextId++,stackId:ta(this.tabsPrefix,Ee),unlistenEvents:Bn,element:Xt,ref:Z,url:Ee}}getExistingView(Z){const T=uo(this.router,Z),K=this.views.find(Ee=>Ee.url===T);return K&&K.ref.changeDetectorRef.reattach(),K}setActive(Z){var T,K,Ee;const Xt=this.navCtrl.consumeTransition();let{direction:Bn,animation:Kn,animationBuilder:Cr}=Xt;const On=this.activeView,Gi=((D,Z)=>!Z||D.stackId!==Z.stackId)(Z,On);Gi&&(Bn="back",Kn=void 0);const z=this.views.slice();let V;const k=this.router;k.getCurrentNavigation?V=k.getCurrentNavigation():null!==(T=k.navigations)&&void 0!==T&&T.value&&(V=k.navigations.value),null!==(K=V)&&void 0!==K&&null!==(Ee=K.extras)&&void 0!==Ee&&Ee.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const le=this.views.includes(Z),Ot=this.insertView(Z,Bn);le||Z.ref.changeDetectorRef.detectChanges();const kn=Z.animationBuilder;return void 0===Cr&&"back"===Bn&&!Gi&&void 0!==kn&&(Cr=kn),On&&(On.animationBuilder=Cr),this.zone.runOutsideAngular(()=>this.wait(()=>(On&&On.ref.changeDetectorRef.detach(),Z.ref.changeDetectorRef.reattach(),this.transition(Z,On,Kn,this.canGoBack(1),!1,Cr).then(()=>to(Z,Ot,z,this.location,this.zone)).then(()=>({enteringView:Z,direction:Bn,animation:Kn,tabSwitch:Gi})))))}canGoBack(Z,T=this.getActiveStackId()){return this.getStack(T).length>Z}pop(Z,T=this.getActiveStackId()){return this.zone.run(()=>{const K=this.getStack(T);if(K.length<=Z)return Promise.resolve(!1);const Ee=K[K.length-Z-1];let Xt=Ee.url;const Bn=Ee.savedData;if(Bn){var Kn,Cr;const Gi=Bn.get("primary");null!=Gi&&null!==(Kn=Gi.route)&&void 0!==Kn&&null!==(Cr=Kn._routerState)&&void 0!==Cr&&Cr.snapshot.url&&(Xt=Gi.route._routerState.snapshot.url)}const{animationBuilder:On}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Xt,{...Ee.savedExtras,animation:On}).then(()=>!0)})}startBackTransition(){const Z=this.activeView;if(Z){const T=this.getStack(Z.stackId),K=T[T.length-2],Ee=K.animationBuilder;return this.wait(()=>this.transition(K,Z,"back",this.canGoBack(2),!0,Ee))}return Promise.resolve()}endBackTransition(Z){Z?(this.skipTransition=!0,this.pop(1)):this.activeView&&qi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Z){const T=this.getStack(Z);return T.length>0?T[T.length-1]:void 0}getRootUrl(Z){const T=this.getStack(Z);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Bs),this.activeView=void 0,this.views=[]}getStack(Z){return this.views.filter(T=>T.stackId===Z)}insertView(Z,T){return this.activeView=Z,this.views=((D,Z,T)=>"root"===T?hs(D,Z):"forward"===T?((D,Z)=>(D.indexOf(Z)>=0?D=D.filter(K=>K.stackId!==Z.stackId||K.id<=Z.id):D.push(Z),D))(D,Z):((D,Z)=>D.indexOf(Z)>=0?D.filter(K=>K.stackId!==Z.stackId||K.id<=Z.id):hs(D,Z))(D,Z))(this.views,Z,T),this.views.slice()}transition(Z,T,K,Ee,Xt,Bn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===Z)return Promise.resolve(!1);const Kn=Z?Z.element:void 0,Cr=T?T.element:void 0,On=this.containerEl;return Kn&&Kn!==Cr&&(Kn.classList.add("ion-page"),Kn.classList.add("ion-page-invisible"),Kn.parentElement!==On&&On.appendChild(Kn),On.commit)?On.commit(Kn,Cr,{duration:void 0===K?0:void 0,direction:K,showGoBack:Ee,progressAnimation:Xt,animationBuilder:Bn}):Promise.resolve(!1)}wait(Z){var T=this;return(0,y.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const K=T.runningTask=Z();return K.finally(()=>T.runningTask=void 0),K})()}}const to=(D,Z,T,K,Ee)=>"function"==typeof requestAnimationFrame?new Promise(Xt=>{requestAnimationFrame(()=>{qi(D,Z,T,K,Ee),Xt()})}):Promise.resolve(),qi=(D,Z,T,K,Ee)=>{Ee.run(()=>T.filter(Xt=>!Z.includes(Xt)).forEach(Bs)),Z.forEach(Xt=>{const Kn=K.path().split("?")[0].split("#")[0];if(Xt!==D&&Xt.url!==Kn){const Cr=Xt.element;Cr.setAttribute("aria-hidden","true"),Cr.classList.add("ion-page-hidden"),Xt.ref.changeDetectorRef.detach()}})};let To=(()=>{class D{constructor(T,K,Ee,Xt,Bn,Kn,Cr,On){this.parentOutlet=On,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new De.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(ye.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.config=(0,g.f3M)(pn),this.navCtrl=(0,g.f3M)(Wt),this.nativeEl=Xt.nativeElement,this.name=T||ye.eC,this.tabsPrefix="true"===K?uo(Bn,Cr):void 0,this.stackCtrl=new Uo(this.tabsPrefix,this.nativeEl,Bn,this.navCtrl,Kn,Ee),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:K=>this.stackCtrl.endBackTransition(K)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,$e.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,K){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const K=this.getContext();this.activatedView.savedData=new Map(K.children.contexts);const Ee=this.activatedView.savedData.get("primary");if(Ee&&K.route&&(Ee.route={...K.route}),this.activatedView.savedExtras={},K.route){const Xt=K.route.snapshot;this.activatedView.savedExtras.queryParams=Xt.queryParams,this.activatedView.savedExtras.fragment=Xt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,K){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let Ee,Xt=this.stackCtrl.getExistingView(T);if(Xt){Ee=this.activated=Xt.ref;const Kn=Xt.savedData;Kn&&(this.getContext().children.contexts=Kn),this.updateActivatedRouteProxy(Ee.instance,T)}else{var Bn;const Kn=T._futureSnapshot,Cr=this.parentContexts.getOrCreateContext(this.name).children,On=new De.X(null),Gi=this.createActivatedRouteProxy(On,T),z=new na(Gi,Cr,this.location.injector),V=null!==(Bn=Kn.routeConfig.component)&&void 0!==Bn?Bn:Kn.component;Ee=this.activated=this.location.createComponent(V,{index:this.location.length,injector:z,environmentInjector:null!=K?K:this.environmentInjector}),On.next(Ee.instance),Xt=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(Ee.instance,Gi),this.currentActivatedRoute$.next({component:Ee.instance,activatedRoute:T})}this.activatedView=Xt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Xt).then(Kn=>{this.activateEvents.emit(Ee.instance),this.stackEvents.emit(Kn)})}canGoBack(T=1,K){return this.stackCtrl.canGoBack(T,K)}pop(T=1,K){return this.stackCtrl.pop(T,K)}getLastUrl(T){const K=this.stackCtrl.getLastUrl(T);return K?K.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,K){const Ee=new ye.gz;return Ee._futureSnapshot=K._futureSnapshot,Ee._routerState=K._routerState,Ee.snapshot=K.snapshot,Ee.outlet=K.outlet,Ee.component=K.component,Ee._paramMap=this.proxyObservable(T,"paramMap"),Ee._queryParamMap=this.proxyObservable(T,"queryParamMap"),Ee.url=this.proxyObservable(T,"url"),Ee.params=this.proxyObservable(T,"params"),Ee.queryParams=this.proxyObservable(T,"queryParams"),Ee.fragment=this.proxyObservable(T,"fragment"),Ee.data=this.proxyObservable(T,"data"),Ee}proxyObservable(T,K){return T.pipe((0,Qe.h)(Ee=>!!Ee),(0,mt.w)(Ee=>this.currentActivatedRoute$.pipe((0,Qe.h)(Xt=>null!==Xt&&Xt.component===Ee),(0,mt.w)(Xt=>Xt&&Xt.activatedRoute[K]),(0,We.x)())))}updateActivatedRouteProxy(T,K){const Ee=this.proxyMap.get(T);if(!Ee)throw new Error("Could not find activated route proxy for view");Ee._futureSnapshot=K._futureSnapshot,Ee._routerState=K._routerState,Ee.snapshot=K.snapshot,Ee.outlet=K.outlet,Ee.component=K.component,this.currentActivatedRoute$.next({component:T,activatedRoute:K})}}return D.\u0275fac=function(T){return new(T||D)(g.$8M("name"),g.$8M("tabs"),g.Y36(ne.Ye),g.Y36(g.SBq),g.Y36(ye.F0),g.Y36(g.R0b),g.Y36(ye.gz),g.Y36(D,12))},D.\u0275dir=g.lG2({type:D,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class na{constructor(Z,T,K){this.route=Z,this.childContexts=T,this.parent=K}get(Z,T){return Z===ye.gz?this.route:Z===ye.y6?this.childContexts:this.parent.get(Z,T)}}let ys=(()=>{class D{constructor(T,K,Ee,Xt,Bn){this.locationStrategy=T,this.navCtrl=K,this.elementRef=Ee,this.router=Xt,this.routerLink=Bn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const K=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=K}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return D.\u0275fac=function(T){return new(T||D)(g.Y36(ne.S$),g.Y36(Wt),g.Y36(g.SBq),g.Y36(ye.F0),g.Y36(ye.rH,8))},D.\u0275dir=g.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(T,K){1&T&&g.NdJ("click",function(){return K.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[g.TTD]}),D})(),si=(()=>{let D=class{constructor(T,K,Ee){this.z=Ee,this.isCmpOpen=!1,this.el=K.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,T.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,T.detectChanges()}),Kt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return D.\u0275fac=function(T){return new(T||D)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},D.\u0275cmp=g.Xpm({type:D,selectors:[["ion-popover"]],contentQueries:function(T,K,Ee){if(1&T&&g.Suo(Ee,g.Rgc,5),2&T){let Xt;g.iGM(Xt=g.CRH())&&(K.template=Xt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(T,K){1&T&&g.YNc(0,Ue,1,1,"ng-container",0),2&T&&g.Q6J("ngIf",K.isCmpOpen||K.keepContentsMounted)},dependencies:[ne.O5,ne.tP],encapsulation:2,changeDetection:0}),D=(0,oe.gn)([jt({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],D),D})();class Ds{constructor(Z){this.ctrl=Z}create(Z){return this.ctrl.create(Z||{})}dismiss(Z,T,K){return this.ctrl.dismiss(Z,T,K)}getTop(){return this.ctrl.getTop()}}let Sa=(()=>{class D extends Ds{constructor(){super(Ce.m),this.angularDelegate=(0,g.f3M)(Br),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})(),Ao=(()=>{class D extends Ds{constructor(){super(Ce.c),this.angularDelegate=(0,g.f3M)(Br),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})(),jo=(()=>{class D extends Ds{constructor(){super(Ce.t)}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class Di{shouldDetach(Z){return!1}shouldAttach(Z){return!1}store(Z,T){}retrieve(Z){return null}shouldReuseRoute(Z,T){if(Z.routeConfig!==T.routeConfig)return!1;const K=Z.params,Ee=T.params,Xt=Object.keys(K),Bn=Object.keys(Ee);if(Xt.length!==Bn.length)return!1;for(const Kn of Xt)if(Ee[Kn]!==K[Kn])return!1;return!0}}const is=(D,Z,T)=>()=>{if(Z.defaultView&&typeof window<"u"){(0,Ye.s)({...D,_zoneGate:Xt=>T.run(Xt)});const Ee="__zone_symbol__addEventListener"in Z.body?"__zone_symbol__addEventListener":"addEventListener";return function qe(){var D=[];if(typeof window<"u"){var Z=window;(!Z.customElements||Z.Element&&(!Z.Element.prototype.closest||!Z.Element.prototype.matches||!Z.Element.prototype.remove||!Z.Element.prototype.getRootNode))&&D.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Z.NodeList&&!Z.NodeList.prototype.forEach||!Z.fetch||!function(){try{var K=new URL("b","http://a");return K.pathname="c%20d","http://a/c%20d"===K.href&&K.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&D.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(D)}().then(()=>((D,Z)=>typeof window>"u"?Promise.resolve():(0,He.p)().then(()=>(we(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Z))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:je,jmp:Xt=>T.runOutsideAngular(Xt),ael(Xt,Bn,Kn,Cr){Xt[Ee](Bn,Kn,Cr)},rel(Xt,Bn,Kn,Cr){Xt.removeEventListener(Bn,Kn,Cr)}}))}};let Mo=(()=>{class D{static forRoot(T){return{ngModule:D,providers:[{provide:Yn,useValue:T},{provide:g.ip1,useFactory:is,multi:!0,deps:[Yn,ne.K0,g.R0b]}]}}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({providers:[Br,Sa,Ao],imports:[ne.ez]}),D})()},259:(an,lt,L)=>{"use strict";L.d(lt,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=L(9681);(0,y.registerVersion)("firebase","9.20.0","app")},9260:(an,lt,L)=>{"use strict";L.d(lt,{Z:()=>y.Z});var y=L(3942);y.Z.registerVersion("firebase","9.20.0","app-compat")},9568:(an,lt,L)=>{"use strict";L.r(lt);var y=L(5861),g=L(3942),q=L(8277),oe=L(2090),De=(L(9681),L(1877),L(4859));function ye(){return window}const Fe=2e3;function me(){return me=(0,y.Z)(function*(he,ge,de){var ht;const{BuildInfo:Oe}=ye();(0,q.as)(ge.sessionId,"AuthEvent did not contain a session ID");const Le=yield function Ce(he){return ce.apply(this,arguments)}(ge.sessionId),Ie={};return(0,q.at)()?Ie.ibi=Oe.packageName:(0,q.au)()?Ie.apn=Oe.packageName:(0,q.av)(he,"operation-not-supported-in-this-environment"),Oe.displayName&&(Ie.appDisplayName=Oe.displayName),Ie.sessionId=Le,(0,q.aw)(he,de,ge.type,void 0,null!==(ht=ge.eventId)&&void 0!==ht?ht:void 0,Ie)}),me.apply(this,arguments)}function Be(){return(Be=(0,y.Z)(function*(he){const{BuildInfo:ge}=ye(),de={};(0,q.at)()?de.iosBundleId=ge.packageName:(0,q.au)()?de.androidPackageName=ge.packageName:(0,q.av)(he,"operation-not-supported-in-this-environment"),yield(0,q.ax)(he,de)})).apply(this,arguments)}function nt(){return(nt=(0,y.Z)(function*(he,ge,de){const{cordova:ht}=ye();let Oe=()=>{};try{yield new Promise((Le,Ie)=>{let et=null;function Mt(){var yn;Le();const lr=null===(yn=ht.plugins.browsertab)||void 0===yn?void 0:yn.close;"function"==typeof lr&&lr(),"function"==typeof(null==de?void 0:de.close)&&de.close()}function Yt(){et||(et=window.setTimeout(()=>{Ie((0,q.az)(he,"redirect-cancelled-by-user"))},Fe))}function Pn(){"visible"===(null==document?void 0:document.visibilityState)&&Yt()}ge.addPassiveListener(Mt),document.addEventListener("resume",Yt,!1),(0,q.au)()&&document.addEventListener("visibilitychange",Pn,!1),Oe=()=>{ge.removePassiveListener(Mt),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",Pn,!1),et&&window.clearTimeout(et)}})}finally{Oe()}})).apply(this,arguments)}function ce(){return(ce=(0,y.Z)(function*(he){const ge=function Q(he){if((0,q.as)(/[0-9a-zA-Z]+/.test(he),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(he);const ge=new ArrayBuffer(he.length),de=new Uint8Array(ge);for(let ht=0;ht<he.length;ht++)de[ht]=he.charCodeAt(ht);return de}(he),de=yield crypto.subtle.digest("SHA-256",ge);return Array.from(new Uint8Array(de)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const He=20;class Me extends q.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ge=>{this.resolveInialized=ge})}addPassiveListener(ge){this.passiveListeners.add(ge)}removePassiveListener(ge){this.passiveListeners.delete(ge)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ge){return this.resolveInialized(),this.passiveListeners.forEach(de=>de(ge)),super.onEvent(ge)}initialized(){var ge=this;return(0,y.Z)(function*(){yield ge.initPromise})()}}function We(he){return ne.apply(this,arguments)}function ne(){return(ne=(0,y.Z)(function*(he){const ge=yield rt()._get(bt(he));return ge&&(yield rt()._remove(bt(he))),ge})).apply(this,arguments)}function we(){const he=[],ge="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let de=0;de<He;de++){const ht=Math.floor(Math.random()*ge.length);he.push(ge.charAt(ht))}return he.join("")}function rt(){return(0,q.aC)(q.b)}function bt(he){return(0,q.aD)("authEvent",he.config.apiKey,he.name)}function Dt(he){if(null==he||!he.includes("?"))return{};const[ge,...de]=he.split("?");return(0,oe.zd)(de.join("?"))}const Ue=class ze{constructor(){this._redirectPersistence=q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=q.aE,this._overrideRedirectResult=q.aF}_initialize(ge){var de=this;return(0,y.Z)(function*(){const ht=ge._key();let Oe=de.eventManagers.get(ht);return Oe||(Oe=new Me(ge),de.eventManagers.set(ht,Oe),de.attachCallbackListeners(ge,Oe)),Oe})()}_openPopup(ge){(0,q.av)(ge,"operation-not-supported-in-this-environment")}_openRedirect(ge,de,ht,Oe){var Le=this;return(0,y.Z)(function*(){!function Pe(he){var ge,de,ht,Oe,Le,Ie,et,Mt,Yt,Pn;const yn=ye();(0,q.aA)("function"==typeof(null===(ge=null==yn?void 0:yn.universalLinks)||void 0===ge?void 0:ge.subscribe),he,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,q.aA)(typeof(null===(de=null==yn?void 0:yn.BuildInfo)||void 0===de?void 0:de.packageName)<"u",he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,q.aA)("function"==typeof(null===(Le=null===(Oe=null===(ht=null==yn?void 0:yn.cordova)||void 0===ht?void 0:ht.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===Le?void 0:Le.openUrl),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aA)("function"==typeof(null===(Mt=null===(et=null===(Ie=null==yn?void 0:yn.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===et?void 0:et.browsertab)||void 0===Mt?void 0:Mt.isAvailable),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aA)("function"==typeof(null===(Pn=null===(Yt=null==yn?void 0:yn.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===Pn?void 0:Pn.open),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ge);const Ie=yield Le._initialize(ge);yield Ie.initialized(),Ie.resetRedirect(),(0,q.aG)(),yield Le._originValidation(ge);const et=function Qe(he,ge,de=null){return{type:ge,eventId:de,urlResponse:null,sessionId:we(),postBody:null,tenantId:he.tenantId,error:(0,q.az)(he,"no-auth-event")}}(ge,ht,Oe);yield function mt(he,ge){return rt()._set(bt(he),ge)}(ge,et);const Mt=yield function Te(he,ge,de){return me.apply(this,arguments)}(ge,et,de),Yt=yield function $e(he){const{cordova:ge}=ye();return new Promise(de=>{ge.plugins.browsertab.isAvailable(ht=>{let Oe=null;ht?ge.plugins.browsertab.openUrl(he):Oe=ge.InAppBrowser.open(he,(0,q.ay)()?"_blank":"_system","location=yes"),de(Oe)})})}(Mt);return function Ye(he,ge,de){return nt.apply(this,arguments)}(ge,Ie,Yt)})()}_isIframeWebStorageSupported(ge,de){throw new Error("Method not implemented.")}_originValidation(ge){const de=ge._key();return this.originValidationPromises[de]||(this.originValidationPromises[de]=function Se(he){return Be.apply(this,arguments)}(ge)),this.originValidationPromises[de]}attachCallbackListeners(ge,de){const{universalLinks:ht,handleOpenURL:Oe,BuildInfo:Le}=ye(),Ie=setTimeout((0,y.Z)(function*(){yield We(ge),de.onEvent(je())}),500),et=function(){var Pn=(0,y.Z)(function*(yn){clearTimeout(Ie);const lr=yield We(ge);let di=null;lr&&null!=yn&&yn.url&&(di=function qe(he,ge){var de,ht;const Oe=function dt(he){const ge=Dt(he),de=ge.link?decodeURIComponent(ge.link):void 0,ht=Dt(de).link,Oe=ge.deep_link_id?decodeURIComponent(ge.deep_link_id):void 0;return Dt(Oe).link||Oe||ht||de||he}(ge);if(Oe.includes("/__/auth/callback")){const Le=Dt(Oe),Ie=Le.firebaseError?function Ke(he){try{return JSON.parse(he)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,et=null===(ht=null===(de=null==Ie?void 0:Ie.code)||void 0===de?void 0:de.split("auth/"))||void 0===ht?void 0:ht[1],Mt=et?(0,q.az)(et):null;return Mt?{type:he.type,eventId:he.eventId,tenantId:he.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:he.type,eventId:he.eventId,tenantId:he.tenantId,sessionId:he.sessionId,urlResponse:Oe,postBody:null}}return null}(lr,yn.url)),de.onEvent(di||je())});return function(lr){return Pn.apply(this,arguments)}}();typeof ht<"u"&&"function"==typeof ht.subscribe&&ht.subscribe(null,et);const Mt=Oe,Yt=`${Le.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Pn=(0,y.Z)(function*(yn){if(yn.toLowerCase().startsWith(Yt)&&et({url:yn}),"function"==typeof Mt)try{Mt(yn)}catch(lr){console.error(lr)}});return function(yn){return Pn.apply(this,arguments)}}()}};function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,q.az)("no-auth-event")}}const Ut=1e3;function vn(){var he;return(null===(he=null==self?void 0:self.location)||void 0===he?void 0:he.protocol)||null}function ct(he=(0,oe.z$)()){return!("file:"!==vn()&&"ionic:"!==vn()&&"capacitor:"!==vn()||!he.toLowerCase().match(/iphone|ipad|ipod|android/))}function hn(){try{const he=self.localStorage,ge=q.aL();if(he)return he.setItem(ge,"1"),he.removeItem(ge),!function Fn(he=(0,oe.z$)()){return function Jt(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function bn(he=(0,oe.z$)()){return/Edge\/\d+/.test(he)}(he)}()||(0,oe.hl)()}catch{return Kt()&&(0,oe.hl)()}return!1}function Kt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function St(){return"http:"===vn()||"https:"===vn()}()||(0,oe.ru)()||ct())&&!function At(){return(0,oe.b$)()||(0,oe.UG)()}()&&hn()&&!Kt()}function jt(){return ct()&&typeof document<"u"}function jn(){return(jn=(0,y.Z)(function*(){return!!jt()&&new Promise(he=>{const ge=setTimeout(()=>{he(!1)},Ut);document.addEventListener("deviceready",()=>{clearTimeout(ge),he(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Zr=q.aA,Er="persistence";function zr(he){return mr.apply(this,arguments)}function mr(){return(mr=(0,y.Z)(function*(he){yield he._initializationPromise;const ge=Cn(),de=q.aD(Er,he.config.apiKey,he.name);ge&&ge.setItem(de,he._getPersistence())})).apply(this,arguments)}function Cn(){var he;try{return(null===(he=function dn(){return typeof window<"u"?window:null}())||void 0===he?void 0:he.sessionStorage)||null}catch{return null}}const sn=q.aA;class xr{constructor(){this.browserResolver=q.aC(q.k),this.cordovaResolver=q.aC(Ue),this.underlyingResolver=null,this._redirectPersistence=q.a,this._completeRedirectFn=q.aE,this._overrideRedirectResult=q.aF}_initialize(ge){var de=this;return(0,y.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._initialize(ge)})()}_openPopup(ge,de,ht,Oe){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(ge,de,ht,Oe)})()}_openRedirect(ge,de,ht,Oe){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(ge,de,ht,Oe)})()}_isIframeWebStorageSupported(ge,de){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ge,de)}_originValidation(ge){return this.assertedUnderlyingResolver._originValidation(ge)}get _shouldInitProactively(){return jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ge=this;return(0,y.Z)(function*(){if(ge.underlyingResolver)return;const de=yield function Or(){return jn.apply(this,arguments)}();ge.underlyingResolver=de?ge.cordovaResolver:ge.browserResolver})()}}function Wr(he){return he.unwrap()}function ii(he){return Ri(he)}function Ri(he){const{_tokenResponse:ge}=he instanceof oe.ZR?he.customData:he;if(!ge)return null;if(!(he instanceof oe.ZR)&&"temporaryProof"in ge&&"phoneNumber"in ge)return q.P.credentialFromResult(he);const de=ge.providerId;if(!de||de===q.p.PASSWORD)return null;let ht;switch(de){case q.p.GOOGLE:ht=q.V;break;case q.p.FACEBOOK:ht=q.U;break;case q.p.GITHUB:ht=q.W;break;case q.p.TWITTER:ht=q.Z;break;default:const{oauthIdToken:Oe,oauthAccessToken:Le,oauthTokenSecret:Ie,pendingToken:et,nonce:Mt}=ge;return Le||Ie||Oe||et?et?de.startsWith("saml.")?q.aO._create(de,et):q.L._fromParams({providerId:de,signInMethod:de,pendingToken:et,idToken:Oe,accessToken:Le}):new q.X(de).credential({idToken:Oe,accessToken:Le,rawNonce:Mt}):null}return he instanceof oe.ZR?ht.credentialFromError(he):ht.credentialFromResult(he)}function _r(he,ge){return ge.catch(de=>{throw de instanceof oe.ZR&&function Kr(he,ge){var de;const ht=null===(de=ge.customData)||void 0===de?void 0:de._tokenResponse;if("auth/multi-factor-auth-required"===(null==ge?void 0:ge.code))ge.resolver=new Ii(he,q.aq(he,ge));else if(ht){const Oe=Ri(ge),Le=ge;Oe&&(Le.credential=Oe,Le.tenantId=ht.tenantId||void 0,Le.email=ht.email||void 0,Le.phoneNumber=ht.phoneNumber||void 0)}}(he,de),de}).then(de=>{const Oe=de.user;return{operationType:de.operationType,credential:ii(de),additionalUserInfo:q.ao(de),user:Jn.getOrCreate(Oe)}})}function Qr(he,ge){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(he,ge){const de=yield ge;return{verificationId:de.verificationId,confirm:ht=>_r(he,de.confirm(ht))}})).apply(this,arguments)}class Ii{constructor(ge,de){this.resolver=de,this.auth=function dr(he){return he.wrapped()}(ge)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ge){return _r(Wr(this.auth),this.resolver.resolveSignIn(ge))}}class Jn{constructor(ge){this._delegate=ge,this.multiFactor=q.ar(ge)}static getOrCreate(ge){return Jn.USER_MAP.has(ge)||Jn.USER_MAP.set(ge,new Jn(ge)),Jn.USER_MAP.get(ge)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ge){return this._delegate.getIdTokenResult(ge)}getIdToken(ge){return this._delegate.getIdToken(ge)}linkAndRetrieveDataWithCredential(ge){return this.linkWithCredential(ge)}linkWithCredential(ge){var de=this;return(0,y.Z)(function*(){return _r(de.auth,q.a0(de._delegate,ge))})()}linkWithPhoneNumber(ge,de){var ht=this;return(0,y.Z)(function*(){return Qr(ht.auth,q.l(ht._delegate,ge,de))})()}linkWithPopup(ge){var de=this;return(0,y.Z)(function*(){return _r(de.auth,q.d(de._delegate,ge,xr))})()}linkWithRedirect(ge){var de=this;return(0,y.Z)(function*(){return yield zr(q.aH(de.auth)),q.g(de._delegate,ge,xr)})()}reauthenticateAndRetrieveDataWithCredential(ge){return this.reauthenticateWithCredential(ge)}reauthenticateWithCredential(ge){var de=this;return(0,y.Z)(function*(){return _r(de.auth,q.a1(de._delegate,ge))})()}reauthenticateWithPhoneNumber(ge,de){return Qr(this.auth,q.r(this._delegate,ge,de))}reauthenticateWithPopup(ge){return _r(this.auth,q.e(this._delegate,ge,xr))}reauthenticateWithRedirect(ge){var de=this;return(0,y.Z)(function*(){return yield zr(q.aH(de.auth)),q.h(de._delegate,ge,xr)})()}sendEmailVerification(ge){return q.ae(this._delegate,ge)}unlink(ge){var de=this;return(0,y.Z)(function*(){return yield q.an(de._delegate,ge),de})()}updateEmail(ge){return q.aj(this._delegate,ge)}updatePassword(ge){return q.ak(this._delegate,ge)}updatePhoneNumber(ge){return q.u(this._delegate,ge)}updateProfile(ge){return q.ai(this._delegate,ge)}verifyBeforeUpdateEmail(ge,de){return q.af(this._delegate,ge,de)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jn.USER_MAP=new WeakMap;const ln=q.aA;let Ht=(()=>{class he{constructor(de,ht){if(this.app=de,ht.isInitialized())return this._delegate=ht.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=de.options;ln(Oe,"invalid-api-key",{appName:de.name}),ln(Oe,"invalid-api-key",{appName:de.name});const Le=typeof window<"u"?xr:void 0;this._delegate=ht.initialize({options:{persistence:Vn(Oe,de.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(q.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(de){this._delegate.languageCode=de}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(de){this._delegate.tenantId=de}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(de,ht){q.I(this._delegate,de,ht)}applyActionCode(de){return q.a5(this._delegate,de)}checkActionCode(de){return q.a6(this._delegate,de)}confirmPasswordReset(de,ht){return q.a4(this._delegate,de,ht)}createUserWithEmailAndPassword(de,ht){var Oe=this;return(0,y.Z)(function*(){return _r(Oe._delegate,q.a8(Oe._delegate,de,ht))})()}fetchProvidersForEmail(de){return this.fetchSignInMethodsForEmail(de)}fetchSignInMethodsForEmail(de){return q.ad(this._delegate,de)}isSignInWithEmailLink(de){return q.ab(this._delegate,de)}getRedirectResult(){var de=this;return(0,y.Z)(function*(){ln(In(),de._delegate,"operation-not-supported-in-this-environment");const ht=yield q.j(de._delegate,xr);return ht?_r(de._delegate,Promise.resolve(ht)):{credential:null,user:null}})()}addFrameworkForLogging(de){!function Et(he,ge){(0,q.aH)(he)._logFramework(ge)}(this._delegate,de)}onAuthStateChanged(de,ht,Oe){const{next:Le,error:Ie,complete:et}=En(de,ht,Oe);return this._delegate.onAuthStateChanged(Le,Ie,et)}onIdTokenChanged(de,ht,Oe){const{next:Le,error:Ie,complete:et}=En(de,ht,Oe);return this._delegate.onIdTokenChanged(Le,Ie,et)}sendSignInLinkToEmail(de,ht){return q.aa(this._delegate,de,ht)}sendPasswordResetEmail(de,ht){return q.a3(this._delegate,de,ht||void 0)}setPersistence(de){var ht=this;return(0,y.Z)(function*(){let Oe;switch(function Ci(he,ge){Zr(Object.values(ar).includes(ge),he,"invalid-persistence-type"),(0,oe.b$)()?Zr(ge!==ar.SESSION,he,"unsupported-persistence-type"):(0,oe.UG)()?Zr(ge===ar.NONE,he,"unsupported-persistence-type"):Kt()?Zr(ge===ar.NONE||ge===ar.LOCAL&&(0,oe.hl)(),he,"unsupported-persistence-type"):Zr(ge===ar.NONE||hn(),he,"unsupported-persistence-type")}(ht._delegate,de),de){case ar.SESSION:Oe=q.a;break;case ar.LOCAL:Oe=(yield q.aC(q.i)._isAvailable())?q.i:q.b;break;case ar.NONE:Oe=q.N;break;default:return q.av("argument-error",{appName:ht._delegate.name})}return ht._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(de){return this.signInWithCredential(de)}signInAnonymously(){return _r(this._delegate,q._(this._delegate))}signInWithCredential(de){return _r(this._delegate,q.$(this._delegate,de))}signInWithCustomToken(de){return _r(this._delegate,q.a2(this._delegate,de))}signInWithEmailAndPassword(de,ht){return _r(this._delegate,q.a9(this._delegate,de,ht))}signInWithEmailLink(de,ht){return _r(this._delegate,q.ac(this._delegate,de,ht))}signInWithPhoneNumber(de,ht){return Qr(this._delegate,q.s(this._delegate,de,ht))}signInWithPopup(de){var ht=this;return(0,y.Z)(function*(){return ln(In(),ht._delegate,"operation-not-supported-in-this-environment"),_r(ht._delegate,q.c(ht._delegate,de,xr))})()}signInWithRedirect(de){var ht=this;return(0,y.Z)(function*(){return ln(In(),ht._delegate,"operation-not-supported-in-this-environment"),yield zr(ht._delegate),q.f(ht._delegate,de,xr)})()}updateCurrentUser(de){return this._delegate.updateCurrentUser(de)}verifyPasswordResetCode(de){return q.a7(this._delegate,de)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return he.Persistence=ar,he})();function En(he,ge,de){let ht=he;"function"!=typeof he&&({next:ht,error:ge,complete:de}=he);const Oe=ht;return{next:Ie=>Oe(Ie&&Jn.getOrCreate(Ie)),error:ge,complete:de}}function Vn(he,ge){const de=function hr(he,ge){const de=Cn();if(!de)return[];const ht=q.aD(Er,he,ge);switch(de.getItem(ht)){case ar.NONE:return[q.N];case ar.LOCAL:return[q.i,q.a];case ar.SESSION:return[q.a];default:return[]}}(he,ge);if(typeof self<"u"&&!de.includes(q.i)&&de.push(q.i),typeof window<"u")for(const ht of[q.b,q.a])de.includes(ht)||de.push(ht);return de.includes(q.N)||de.push(q.N),de}class Gn{constructor(){this.providerId="phone",this._delegate=new q.P(Wr(g.Z.auth()))}static credential(ge,de){return q.P.credential(ge,de)}verifyPhoneNumber(ge,de){return this._delegate.verifyPhoneNumber(ge,de)}unwrap(){return this._delegate}}Gn.PHONE_SIGN_IN_METHOD=q.P.PHONE_SIGN_IN_METHOD,Gn.PROVIDER_ID=q.P.PROVIDER_ID;const fr=q.aA;class Ar{constructor(ge,de,ht=g.Z.app()){var Oe;fr(null===(Oe=ht.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:ht.name}),this._delegate=new q.R(ge,de,ht.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ve(he){he.INTERNAL.registerComponent(new De.wA("auth-compat",ge=>{const de=ge.getProvider("app-compat").getImmediate(),ht=ge.getProvider("auth");return new Ht(de,ht)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q.A.EMAIL_SIGNIN,PASSWORD_RESET:q.A.PASSWORD_RESET,RECOVER_EMAIL:q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q.A.VERIFY_EMAIL}},EmailAuthProvider:q.Q,FacebookAuthProvider:q.U,GithubAuthProvider:q.W,GoogleAuthProvider:q.V,OAuthProvider:q.X,SAMLAuthProvider:q.Y,PhoneAuthProvider:Gn,PhoneMultiFactorGenerator:q.m,RecaptchaVerifier:Ar,TwitterAuthProvider:q.Z,Auth:Ht,AuthCredential:q.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),he.registerVersion("@firebase/auth-compat","0.4.0")}(g.Z)},8766:(an,lt,L)=>{"use strict";L.d(lt,{Lj:()=>He,X3:()=>Q});var y=L(5861);const g=(ne,qe)=>qe.some(we=>ne instanceof we);let q,oe;const De=new WeakMap,ye=new WeakMap,Fe=new WeakMap,Te=new WeakMap,me=new WeakMap;let $e={get(ne,qe,we){if(ne instanceof IDBTransaction){if("done"===qe)return ye.get(ne);if("objectStoreNames"===qe)return ne.objectStoreNames||Fe.get(ne);if("store"===qe)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return Ce(ne[qe])},set:(ne,qe,we)=>(ne[qe]=we,!0),has:(ne,qe)=>ne instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in ne};function Pe(ne){return"function"==typeof ne?function nt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...qe){return ne.apply(ce(this),qe),Ce(De.get(this))}:function(...qe){return Ce(ne.apply(ce(this),qe))}:function(qe,...we){const rt=ne.call(ce(this),qe,...we);return Fe.set(rt,qe.sort?qe.sort():[qe]),Ce(rt)}}(ne):(ne instanceof IDBTransaction&&function Be(ne){if(ye.has(ne))return;const qe=new Promise((we,rt)=>{const bt=()=>{ne.removeEventListener("complete",Ke),ne.removeEventListener("error",dt),ne.removeEventListener("abort",dt)},Ke=()=>{we(),bt()},dt=()=>{rt(ne.error||new DOMException("AbortError","AbortError")),bt()};ne.addEventListener("complete",Ke),ne.addEventListener("error",dt),ne.addEventListener("abort",dt)});ye.set(ne,qe)}(ne),g(ne,function Re(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,$e):ne)}function Ce(ne){if(ne instanceof IDBRequest)return function Se(ne){const qe=new Promise((we,rt)=>{const bt=()=>{ne.removeEventListener("success",Ke),ne.removeEventListener("error",dt)},Ke=()=>{we(Ce(ne.result)),bt()},dt=()=>{rt(ne.error),bt()};ne.addEventListener("success",Ke),ne.addEventListener("error",dt)});return qe.then(we=>{we instanceof IDBCursor&&De.set(we,ne)}).catch(()=>{}),me.set(qe,ne),qe}(ne);if(Te.has(ne))return Te.get(ne);const qe=Pe(ne);return qe!==ne&&(Te.set(ne,qe),me.set(qe,ne)),qe}const ce=ne=>me.get(ne);function Q(ne,qe,{blocked:we,upgrade:rt,blocking:bt,terminated:Ke}={}){const dt=indexedDB.open(ne,qe),Dt=Ce(dt);return rt&&dt.addEventListener("upgradeneeded",_t=>{rt(Ce(dt.result),_t.oldVersion,_t.newVersion,Ce(dt.transaction))}),we&&dt.addEventListener("blocked",()=>we()),Dt.then(_t=>{Ke&&_t.addEventListener("close",()=>Ke()),bt&&_t.addEventListener("versionchange",()=>bt())}).catch(()=>{}),Dt}function He(ne,{blocked:qe}={}){const we=indexedDB.deleteDatabase(ne);return qe&&we.addEventListener("blocked",()=>qe()),Ce(we).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],mt=new Map;function We(ne,qe){if(!(ne instanceof IDBDatabase)||qe in ne||"string"!=typeof qe)return;if(mt.get(qe))return mt.get(qe);const we=qe.replace(/FromIndex$/,""),rt=qe!==we,bt=Qe.includes(we);if(!(we in(rt?IDBIndex:IDBObjectStore).prototype)||!bt&&!Me.includes(we))return;const Ke=function(){var dt=(0,y.Z)(function*(Dt,..._t){const ze=this.transaction(Dt,bt?"readwrite":"readonly");let Ue=ze.store;return rt&&(Ue=Ue.index(_t.shift())),(yield Promise.all([Ue[we](..._t),bt&&ze.done]))[0]});return function(_t){return dt.apply(this,arguments)}}();return mt.set(qe,Ke),Ke}!function Ye(ne){$e=ne($e)}(ne=>({...ne,get:(qe,we,rt)=>We(qe,we)||ne.get(qe,we,rt),has:(qe,we)=>!!We(qe,we)||ne.has(qe,we)}))},5861:(an,lt,L)=>{"use strict";function y(q,oe,Re,xe,De,ye,Fe){try{var Te=q[ye](Fe),me=Te.value}catch(Se){return void Re(Se)}Te.done?oe(me):Promise.resolve(me).then(xe,De)}function g(q){return function(){var oe=this,Re=arguments;return new Promise(function(xe,De){var ye=q.apply(oe,Re);function Fe(me){y(ye,xe,De,Fe,Te,"next",me)}function Te(me){y(ye,xe,De,Fe,Te,"throw",me)}Fe(void 0)})}}L.d(lt,{Z:()=>g})}},an=>{an(an.s=1037)}]);